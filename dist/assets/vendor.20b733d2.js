var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var s in o||(o={}))e.call(o,s)&&i(t,s,o[s]);if(n)for(var s of n(o))r.call(o,s)&&i(t,s,o[s]);return t};function s(){}const a=t=>t;function u(t,e){for(const n in e)t[n]=e[n];return t}function c(t){return t()}function h(){return Object.create(null)}function l(t){t.forEach(c)}function f(t){return"function"==typeof t}function p(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function d(t,...e){if(null==t)return s;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function v(t,e,n){t.$$.on_destroy.push(d(e,n))}function y(t,e,n,r){if(t){const i=m(t,e,n,r);return t[0](i)}}function m(t,e,n,r){return t[1]&&r?u(n.ctx.slice(),t[1](r(e))):n.ctx}function g(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=m(e,n,r,s);t.p(i,a)}}function b(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function w(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function I(t){return null==t?"":t}function E(t){return t&&f(t.destroy)?t.destroy:s}const _="undefined"!=typeof window;let T=_?()=>window.performance.now():()=>Date.now(),S=_?t=>requestAnimationFrame(t):s;const A=new Set;function k(t){A.forEach((e=>{e.c(t)||(A.delete(e),e.f())})),0!==A.size&&S(k)}function N(t){let e;return 0===A.size&&S(k),{promise:new Promise((n=>{A.add(e={c:t,f:n})})),abort(){A.delete(e)}}}function D(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function C(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function R(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function M(){return L(" ")}function j(){return L("")}function F(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function V(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function U(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:V(t,r,e[r])}function q(t){return Array.from(t.childNodes)}function B(t,e,n,r){for(let i=0;i<t.length;i+=1){const r=t[i];if(r.nodeName===e){let e=0;const o=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)r.removeAttribute(o[t]);return t.splice(i,1)[0]}}return r?R(e):P(e)}function K(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return L(e)}function $(t){return K(t," ")}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function G(t,e){t.value=null==e?"":e}function H(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function W(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function X(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function Y(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const J=new Set;let Z,tt=0;function et(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let y=0;y<=1;y+=u){const t=e+(n-e)*o(y);c+=100*y+`%{${s(t,1-t)}}\n`}const h=c+`100% {${s(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${a}`,f=t.ownerDocument;J.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(P("style")).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[l]||(d[l]=!0,p.insertRule(`@keyframes ${l} ${h}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,tt+=1,l}function nt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),tt-=i,tt||S((()=>{tt||(J.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),J.clear())})))}function rt(t){Z=t}function it(){if(!Z)throw new Error("Function called outside component initialization");return Z}function ot(t){it().$$.on_mount.push(t)}function st(t,e){it().$$.context.set(t,e)}function at(t){return it().$$.context.get(t)}function ut(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const ct=[],ht=[],lt=[],ft=[],pt=Promise.resolve();let dt=!1;function vt(t){lt.push(t)}function yt(t){ft.push(t)}let mt=!1;const gt=new Set;function bt(){if(!mt){mt=!0;do{for(let t=0;t<ct.length;t+=1){const e=ct[t];rt(e),wt(e.$$)}for(rt(null),ct.length=0;ht.length;)ht.pop()();for(let t=0;t<lt.length;t+=1){const e=lt[t];gt.has(e)||(gt.add(e),e())}lt.length=0}while(ct.length);for(;ft.length;)ft.pop()();dt=!1,mt=!1,gt.clear()}}function wt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(vt)}}let It;function Et(){return It||(It=Promise.resolve(),It.then((()=>{It=null}))),It}function _t(t,e,n){t.dispatchEvent(Y(`${e?"intro":"outro"}${n}`))}const Tt=new Set;let St;function At(){St={r:0,c:[],p:St}}function kt(){St.r||l(St.c),St=St.p}function Nt(t,e){t&&t.i&&(Tt.delete(t),t.i(e))}function Dt(t,e,n,r){if(t&&t.o){if(Tt.has(t))return;Tt.add(t),St.c.push((()=>{Tt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Ot={duration:0};function xt(t,e,n){let r,i,o=e(t,n),u=!1,c=0;function h(){r&&nt(t,r)}function l(){const{delay:e=0,duration:n=300,easing:l=a,tick:f=s,css:p}=o||Ot;p&&(r=et(t,0,1,n,e,l,p,c++)),f(0,1);const d=T()+e,v=d+n;i&&i.abort(),u=!0,vt((()=>_t(t,!0,"start"))),i=N((e=>{if(u){if(e>=v)return f(1,0),_t(t,!0,"end"),h(),u=!1;if(e>=d){const t=l((e-d)/n);f(t,1-t)}}return u}))}let p=!1;return{start(){p||(nt(t),f(o)?(o=o(),Et().then(l)):l())},invalidate(){p=!1},end(){u&&(h(),u=!1)}}}function Ct(t,e,n){let r,i=e(t,n),o=!0;const u=St;function c(){const{delay:e=0,duration:n=300,easing:c=a,tick:h=s,css:f}=i||Ot;f&&(r=et(t,1,0,n,e,c,f));const p=T()+e,d=p+n;vt((()=>_t(t,!1,"start"))),N((e=>{if(o){if(e>=d)return h(0,1),_t(t,!1,"end"),--u.r||l(u.c),!1;if(e>=p){const t=c((e-p)/n);h(1-t,t)}}return o}))}return u.r+=1,f(i)?Et().then((()=>{i=i(),c()})):c(),{end(e){e&&i.tick&&i.tick(1,0),o&&(r&&nt(t,r),o=!1)}}}function Pt(t,e){Dt(t,1,1,(()=>{e.delete(t.key)}))}function Rt(t,e,n,r,i,o,s,a,u,c,h,l){let f=t.length,p=o.length,d=f;const v={};for(;d--;)v[t[d].key]=d;const y=[],m=new Map,g=new Map;for(d=p;d--;){const t=l(i,o,d),a=n(t);let u=s.get(a);u?r&&u.p(t,e):(u=c(a,t),u.c()),m.set(a,y[d]=u),a in v&&g.set(a,Math.abs(d-v[a]))}const b=new Set,w=new Set;function I(t){Nt(t,1),t.m(a,h),s.set(t.key,t),h=t.first,p--}for(;f&&p;){const e=y[p-1],n=t[f-1],r=e.key,i=n.key;e===n?(h=e.first,f--,p--):m.has(i)?!s.has(r)||b.has(r)?I(e):w.has(i)?f--:g.get(r)>g.get(i)?(w.add(r),I(e)):(b.add(i),f--):(u(n,s),f--)}for(;f--;){const e=t[f];m.has(e.key)||u(e,s)}for(;p;)I(y[p-1]);return y}function Lt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Mt(t){return"object"==typeof t&&null!==t?t:{}}function jt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Ft(t){t&&t.c()}function Vt(t,e){t&&t.l(e)}function Ut(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(e,n),r||vt((()=>{const e=o.map(c).filter(f);s?s.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(vt)}function qt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bt(t,e){-1===t.$$.dirty[0]&&(ct.push(t),dt||(dt=!0,pt.then(bt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Kt(t,e,n,r,i,o,a=[-1]){const u=Z;rt(t);const c=t.$$={fragment:null,ctx:null,props:o,update:s,not_equal:i,bound:h(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:h(),dirty:a,skip_bound:!1};let f=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=o)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](o),f&&Bt(t,e)),n})):[],c.update(),f=!0,l(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=q(e.target);c.fragment&&c.fragment.l(t),t.forEach(x)}else c.fragment&&c.fragment.c();e.intro&&Nt(t.$$.fragment),Ut(t,e.target,e.anchor,e.customElement),bt()}rt(u)}class $t{$destroy(){qt(this,1),this.$destroy=s}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const zt=[];function Gt(t,e=s){let n;const r=[];function i(e){if(p(t,e)&&(t=e,n)){const e=!zt.length;for(let n=0;n<r.length;n+=1){const e=r[n];e[1](),zt.push(e,t)}if(e){for(let t=0;t<zt.length;t+=2)zt[t][0](zt[t+1]);zt.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,a=s){const u=[o,a];return r.push(u),1===r.length&&(n=e(i)||s),o(t),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}function Ht(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return{subscribe:Gt(n,(t=>{let n=!1;const a=[];let u=0,c=s;const h=()=>{if(u)return;c();const n=e(r?a[0]:a,t);o?t(n):c=f(n)?n:s},p=i.map(((t,e)=>d(t,(t=>{a[e]=t,u&=~(1<<e),n&&h()}),(()=>{u|=1<<e}))));return n=!0,h(),function(){l(p),c()}})).subscribe}}const Wt={},Xt={};function Qt(t){return o(o({},t.location),{state:t.history.state,key:t.history.state&&t.history.state.key||"initial"})}const Yt=function(t,e){const n=[];let r=Qt(t);return{get location(){return r},listen(e){n.push(e);const i=()=>{r=Qt(t),e({location:r,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const r=n.indexOf(e);n.splice(r,1)}},navigate(e,{state:i,replace:s=!1}={}){i=o(o({},i),{key:Date.now()+""});try{s?t.history.replaceState(i,null,e):t.history.pushState(i,null,e)}catch(bg){t.location[s?"replace":"assign"](e)}r=Qt(t),n.forEach((t=>t({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(t,i,o){const[s,a=""]=o.split("?");e++,n.push({pathname:s,search:a}),r.push(t)},replaceState(t,i,o){const[s,a=""]=o.split("?");n[e]={pathname:s,search:a},r[e]=t}}}}()),{navigate:Jt}=Yt,Zt=/^:(.+)/;function te(t,e){return t.substr(0,e.length)===e}function ee(t){return"*"===t[0]}function ne(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function re(t){return t.replace(/(^\/+|\/+$)/g,"")}function ie(t,e){return{route:t,score:t.default?0:ne(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return Zt.test(t)}(e)?ee(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function oe(t,e){let n,r;const[i]=e.split("?"),o=ne(i),s=""===o[0],a=function(t){return t.map(ie).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let u=0,c=a.length;u<c;u++){const t=a[u].route;let i=!1;if(t.default){r={route:t,params:{},uri:e};continue}const c=ne(t.path),h={},l=Math.max(o.length,c.length);let f=0;for(;f<l;f++){const t=c[f],e=o[f];if(void 0!==t&&ee(t)){h["*"===t?"*":t.slice(1)]=o.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){i=!0;break}let n=Zt.exec(t);if(n&&!s){const t=decodeURIComponent(e);h[n[1]]=t}else if(t!==e){i=!0;break}}if(!i){n={route:t,params:h,uri:"/"+o.slice(0,f).join("/")};break}}return n||r||null}function se(t,e){return t+(e?`?${e}`:"")}function ae(t,e){return`${re("/"===e?t:`${re(t)}/${re(e)}`)}/`}function ue(t){let e;const n=t[9].default,r=y(n,t,t[8],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,[e]){r&&r.p&&256&e&&g(r,n,t,t[8],e,null,null)},i(t){e||(Nt(r,t),e=!0)},o(t){Dt(r,t),e=!1},d(t){r&&r.d(t)}}}function ce(t,e,n){let r,i,o,{$$slots:s={},$$scope:a}=e,{basepath:u="/"}=e,{url:c=null}=e;const h=at(Wt),l=at(Xt),f=Gt([]);v(t,f,(t=>n(7,o=t)));const p=Gt(null);let d=!1;const y=h||Gt(c?{pathname:c}:Yt.location);v(t,y,(t=>n(6,i=t)));const m=l?l.routerBase:Gt({path:u,uri:u});v(t,m,(t=>n(5,r=t)));const g=Ht([m,p],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:r,uri:i}=e;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:i}}));return h||(ot((()=>Yt.listen((t=>{y.set(t.location)})))),st(Wt,y)),st(Xt,{activeRoute:p,base:m,routerBase:g,registerRoute:function(t){const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=ae(e,n),"undefined"==typeof window){if(d)return;const e=function(t,e){return oe([t],e)}(t,i.pathname);e&&(p.set(e),d=!0)}else f.update((e=>(e.push(t),e)))},unregisterRoute:function(t){f.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,u=t.basepath),"url"in t&&n(4,c=t.url),"$$scope"in t&&n(8,a=t.$$scope)},t.$$.update=()=>{if(32&t.$$.dirty){const{path:t}=r;f.update((e=>(e.forEach((e=>e.path=ae(t,e._path))),e)))}if(192&t.$$.dirty){const t=oe(o,i.pathname);p.set(t)}},[f,y,m,u,c,r,i,o,a,s]}class he extends $t{constructor(t){super(),Kt(this,t,ce,ue,p,{basepath:3,url:4})}}const le=t=>({params:4&t,location:16&t}),fe=t=>({params:t[2],location:t[4]});function pe(t){let e,n,r,i;const o=[ve,de],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=j()},l(t){n.l(t),r=j()},m(t,n){s[e].m(t,n),O(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(At(),Dt(s[u],1,1,(()=>{s[u]=null})),kt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),Nt(n,1),n.m(r.parentNode,r))},i(t){i||(Nt(n),i=!0)},o(t){Dt(n),i=!1},d(t){s[e].d(t),t&&x(r)}}}function de(t){let e;const n=t[10].default,r=y(n,t,t[9],fe);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&532&e&&g(r,n,t,t[9],e,le,fe)},i(t){e||(Nt(r,t),e=!0)},o(t){Dt(r,t),e=!1},d(t){r&&r.d(t)}}}function ve(t){let e,n,r;const i=[{location:t[4]},t[2],t[3]];var o=t[0];function s(t){let e={};for(let n=0;n<i.length;n+=1)e=u(e,i[n]);return{props:e}}return o&&(e=new o(s())),{c(){e&&Ft(e.$$.fragment),n=j()},l(t){e&&Vt(e.$$.fragment,t),n=j()},m(t,i){e&&Ut(e,t,i),O(t,n,i),r=!0},p(t,r){const a=28&r?Lt(i,[16&r&&{location:t[4]},4&r&&Mt(t[2]),8&r&&Mt(t[3])]):{};if(o!==(o=t[0])){if(e){At();const t=e;Dt(t.$$.fragment,1,0,(()=>{qt(t,1)})),kt()}o?(e=new o(s()),Ft(e.$$.fragment),Nt(e.$$.fragment,1),Ut(e,n.parentNode,n)):e=null}else o&&e.$set(a)},i(t){r||(e&&Nt(e.$$.fragment,t),r=!0)},o(t){e&&Dt(e.$$.fragment,t),r=!1},d(t){t&&x(n),e&&qt(e,t)}}}function ye(t){let e,n,r=null!==t[1]&&t[1].route===t[7]&&pe(t);return{c(){r&&r.c(),e=j()},l(t){r&&r.l(t),e=j()},m(t,i){r&&r.m(t,i),O(t,e,i),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?r?(r.p(t,n),2&n&&Nt(r,1)):(r=pe(t),r.c(),Nt(r,1),r.m(e.parentNode,e)):r&&(At(),Dt(r,1,1,(()=>{r=null})),kt())},i(t){n||(Nt(r),n=!0)},o(t){Dt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}function me(t,i,o){let s,a,{$$slots:c={},$$scope:h}=i,{path:l=""}=i,{component:f=null}=i;const{registerRoute:p,unregisterRoute:d,activeRoute:y}=at(Xt);v(t,y,(t=>o(1,s=t)));const m=at(Wt);v(t,m,(t=>o(4,a=t)));const g={path:l,default:""===l};let w={},I={};var E;return p(g),"undefined"!=typeof window&&(E=()=>{d(g)},it().$$.on_destroy.push(E)),t.$$set=t=>{o(13,i=u(u({},i),b(t))),"path"in t&&o(8,l=t.path),"component"in t&&o(0,f=t.component),"$$scope"in t&&o(9,h=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&s&&s.route===g&&o(2,w=s.params);{const{path:t,component:s}=i,a=((t,i)=>{var o={};for(var s in t)e.call(t,s)&&i.indexOf(s)<0&&(o[s]=t[s]);if(null!=t&&n)for(var s of n(t))i.indexOf(s)<0&&r.call(t,s)&&(o[s]=t[s]);return o})(i,["path","component"]);o(3,I=a)}},i=b(i),[f,s,w,I,a,y,m,g,l,h,c]}class ge extends $t{constructor(t){super(),Kt(this,t,me,ye,p,{path:8,component:0})}}function be(t){let e,n,r,i;const o=t[16].default,s=y(o,t,t[15],null);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let h=0;h<a.length;h+=1)c=u(c,a[h]);return{c(){e=P("a"),s&&s.c(),this.h()},l(t){e=B(t,"A",{href:!0,"aria-current":!0});var n=q(e);s&&s.l(n),n.forEach(x),this.h()},h(){U(e,c)},m(o,a){O(o,e,a),s&&s.m(e,null),n=!0,r||(i=F(e,"click",t[5]),r=!0)},p(t,[r]){s&&s.p&&32768&r&&g(s,o,t,t[15],r,null,null),U(e,c=Lt(a,[(!n||1&r)&&{href:t[0]},(!n||4&r)&&{"aria-current":t[2]},2&r&&t[1],64&r&&t[6]]))},i(t){n||(Nt(s,t),n=!0)},o(t){Dt(s,t),n=!1},d(t){t&&x(e),s&&s.d(t),r=!1,i()}}}function we(t,e,n){let r;const i=["to","replace","state","getProps"];let o,s,a=w(e,i),{$$slots:c={},$$scope:h}=e,{to:l="#"}=e,{replace:f=!1}=e,{state:p={}}=e,{getProps:d=(()=>({}))}=e;const{base:y}=at(Xt);v(t,y,(t=>n(13,o=t)));const m=at(Wt);v(t,m,(t=>n(14,s=t)));const g=function(){const t=it();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=Y(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}();let I,E,_,T;return t.$$set=t=>{e=u(u({},e),b(t)),n(6,a=w(e,i)),"to"in t&&n(7,l=t.to),"replace"in t&&n(8,f=t.replace),"state"in t&&n(9,p=t.state),"getProps"in t&&n(10,d=t.getProps),"$$scope"in t&&n(15,h=t.$$scope)},t.$$.update=()=>{8320&t.$$.dirty&&n(0,I="/"===l?o.uri:function(t,e){if(te(t,"/"))return t;const[n,r]=t.split("?"),[i]=e.split("?"),o=ne(n),s=ne(i);if(""===o[0])return se(i,r);if(!te(o[0],"."))return se(("/"===i?"":"/")+s.concat(o).join("/"),r);const a=s.concat(o),u=[];return a.forEach((t=>{".."===t?u.pop():"."!==t&&u.push(t)})),se("/"+u.join("/"),r)}(l,o.uri)),16385&t.$$.dirty&&n(11,E=te(s.pathname,I)),16385&t.$$.dirty&&n(12,_=I===s.pathname),4096&t.$$.dirty&&n(2,r=_?"page":void 0),23553&t.$$.dirty&&n(1,T=d({location:s,href:I,isPartiallyCurrent:E,isCurrent:_}))},[I,T,r,y,m,function(t){if(g("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();const e=s.pathname===I||f;Jt(I,{state:p,replace:e})}},a,l,f,p,d,E,_,o,s,h,c]}class Ie extends $t{constructor(t){super(),Kt(this,t,we,be,p,{to:7,replace:8,state:9,getProps:10})}}function Ee(t){let e,n,r,i;return{c(){e=R("svg"),n=R("path"),r=R("path"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"path",{d:!0},1),q(n).forEach(x),r=B(i,"path",{d:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),V(r,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-book-open "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-book-open "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function _e(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class Te extends $t{constructor(t){super(),Kt(this,t,_e,Ee,p,{size:0,strokeWidth:1,class:2})}}function Se(t){let e,n,r,i,o,a;return{c(){e=R("svg"),n=R("rect"),r=R("line"),i=R("line"),o=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var s=q(e);n=B(s,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0},1),q(n).forEach(x),r=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(i).forEach(x),o=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(o).forEach(x),s.forEach(x),this.h()},h(){V(n,"x","3"),V(n,"y","4"),V(n,"width","18"),V(n,"height","18"),V(n,"rx","2"),V(n,"ry","2"),V(r,"x1","16"),V(r,"y1","2"),V(r,"x2","16"),V(r,"y2","6"),V(i,"x1","8"),V(i,"y1","2"),V(i,"x2","8"),V(i,"y2","6"),V(o,"x1","3"),V(o,"y1","10"),V(o,"x2","21"),V(o,"y2","10"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",a="feather feather-calendar "+t[2])},m(t,s){O(t,e,s),D(e,n),D(e,r),D(e,i),D(e,o)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&a!==(a="feather feather-calendar "+t[2])&&V(e,"class",a)},i:s,o:s,d(t){t&&x(e)}}}function Ae(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class ke extends $t{constructor(t){super(),Kt(this,t,Ae,Se,p,{size:0,strokeWidth:1,class:2})}}function Ne(t){let e,n,r,i,o,a,u,c;return{c(){e=R("svg"),n=R("line"),r=R("line"),i=R("line"),o=R("line"),a=R("line"),u=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var s=q(e);n=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(n).forEach(x),r=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(i).forEach(x),o=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(o).forEach(x),a=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(a).forEach(x),u=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(u).forEach(x),s.forEach(x),this.h()},h(){V(n,"x1","8"),V(n,"y1","6"),V(n,"x2","21"),V(n,"y2","6"),V(r,"x1","8"),V(r,"y1","12"),V(r,"x2","21"),V(r,"y2","12"),V(i,"x1","8"),V(i,"y1","18"),V(i,"x2","21"),V(i,"y2","18"),V(o,"x1","3"),V(o,"y1","6"),V(o,"x2","3.01"),V(o,"y2","6"),V(a,"x1","3"),V(a,"y1","12"),V(a,"x2","3.01"),V(a,"y2","12"),V(u,"x1","3"),V(u,"y1","18"),V(u,"x2","3.01"),V(u,"y2","18"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",c="feather feather-list "+t[2])},m(t,s){O(t,e,s),D(e,n),D(e,r),D(e,i),D(e,o),D(e,a),D(e,u)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&c!==(c="feather feather-list "+t[2])&&V(e,"class",c)},i:s,o:s,d(t){t&&x(e)}}}function De(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class Oe extends $t{constructor(t){super(),Kt(this,t,De,Ne,p,{size:0,strokeWidth:1,class:2})}}function xe(t){let e,n,r,i,o;return{c(){e=R("svg"),n=R("circle"),r=R("circle"),i=R("path"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var o=q(e);n=B(o,"circle",{cx:!0,cy:!0,r:!0},1),q(n).forEach(x),r=B(o,"circle",{cx:!0,cy:!0,r:!0},1),q(r).forEach(x),i=B(o,"path",{d:!0},1),q(i).forEach(x),o.forEach(x),this.h()},h(){V(n,"cx","9"),V(n,"cy","21"),V(n,"r","1"),V(r,"cx","20"),V(r,"cy","21"),V(r,"r","1"),V(i,"d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",o="feather feather-shopping-cart "+t[2])},m(t,o){O(t,e,o),D(e,n),D(e,r),D(e,i)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&o!==(o="feather feather-shopping-cart "+t[2])&&V(e,"class",o)},i:s,o:s,d(t){t&&x(e)}}}function Ce(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class Pe extends $t{constructor(t){super(),Kt(this,t,Ce,xe,p,{size:0,strokeWidth:1,class:2})}}function Re(t){let e,n,r,i;return{c(){e=R("svg"),n=R("circle"),r=R("path"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"circle",{cx:!0,cy:!0,r:!0},1),q(n).forEach(x),r=B(i,"path",{d:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"cx","12"),V(n,"cy","12"),V(n,"r","3"),V(r,"d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-settings "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-settings "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function Le(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class Me extends $t{constructor(t){super(),Kt(this,t,Le,Re,p,{size:0,strokeWidth:1,class:2})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Fe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ve=function(){return(Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ue(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(bg){o(bg)}}function a(t){try{u(r.throw(t))}catch(bg){o(bg)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function qe(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(bg){o=[6,bg],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Be(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function $e(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=ze(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ge=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(bg){return!1}}function Xe(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Qe(){return"indexedDB"in self&&null!=indexedDB}function Ye(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function Je(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,tn.prototype.create),o}return Fe(e,t),e}(Error),tn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?en(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Ze(i,a,r);return u},t}();function en(t,e){return t.replace(nn,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var nn=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function on(t,e){var n=new sn(t,e);return n.subscribe.bind(n)}var sn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(bg){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(bg){"undefined"!=typeof console&&console.error&&console.error(bg)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function an(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}var hn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),ln=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ge;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(bg){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ve({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(bg){if(r)return null;throw bg}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(bg){}try{for(var r=Be(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ke(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(bg){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ue(this,void 0,void 0,(function(){var t;return qe(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all($e($e([],Ke(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Ke(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Be(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var l=Ke(h.value,2),f=l[0],p=l[1];a===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(d){e={error:d}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,pn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ln(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function dn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,yn,mn=[];(yn=vn||(vn={}))[yn.DEBUG=0]="DEBUG",yn[yn.VERBOSE=1]="VERBOSE",yn[yn.INFO=2]="INFO",yn[yn.WARN=3]="WARN",yn[yn.ERROR=4]="ERROR",yn[yn.SILENT=5]="SILENT";var gn,bn={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},wn=vn.INFO,In=((fn={})[vn.DEBUG]="log",fn[vn.VERBOSE]="log",fn[vn.INFO]="info",fn[vn.WARN]="warn",fn[vn.ERROR]="error",fn),En=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=In[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,dn(["["+i+"]  "+t.name+":"],n))}},_n=function(){function t(t){this.name=t,this._logLevel=wn,this._logHandler=En,this._userLogHandler=null,mn.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in vn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?bn[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,vn.DEBUG],t)),this._logHandler.apply(this,dn([this,vn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,vn.VERBOSE],t)),this._logHandler.apply(this,dn([this,vn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,vn.INFO],t)),this._logHandler.apply(this,dn([this,vn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,vn.WARN],t)),this._logHandler.apply(this,dn([this,vn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,dn([this,vn.ERROR],t)),this._logHandler.apply(this,dn([this,vn.ERROR],t))},t}();function Tn(t){mn.forEach((function(e){e.setLogLevel(t)}))}var Sn,An=((gn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gn["bad-app-name"]="Illegal App name: '{$appName}",gn["duplicate-app"]="Firebase App named '{$appName}' already exists",gn["app-deleted"]="Firebase App named '{$appName}' already deleted",gn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gn),kn=new tn("app","Firebase",An),Nn=((Sn={})["@firebase/app"]="fire-core",Sn["@firebase/analytics"]="fire-analytics",Sn["@firebase/auth"]="fire-auth",Sn["@firebase/database"]="fire-rtdb",Sn["@firebase/functions"]="fire-fn",Sn["@firebase/installations"]="fire-iid",Sn["@firebase/messaging"]="fire-fcm",Sn["@firebase/performance"]="fire-perf",Sn["@firebase/remote-config"]="fire-rc",Sn["@firebase/storage"]="fire-gcs",Sn["@firebase/firestore"]="fire-fst",Sn["fire-js"]="fire-js",Sn["firebase-wrapper"]="fire-js-all",Sn),Dn=new _n("@firebase/app"),On=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=ze(void 0,t),this.container=new pn(e.name),this._addComponent(new hn("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(bg){Dn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,bg)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw kn.create("app-deleted",{appName:this.name_})},t}();On.prototype.name&&On.prototype.options||On.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xn(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw kn.create("bad-app-name",{appName:String(s)});if(rn(e,s))throw kn.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Nn[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Dn.warn(u.join(" "))}o(new hn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Tn,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw kn.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=bn[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:vn[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=mn;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.3.3",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!rn(e,t=t||"[DEFAULT]"))throw kn.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Dn.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw kn.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&ze(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn=function t(){var e=xn(On);return e.INTERNAL=Ve(Ve({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){ze(e,t)},createSubscribe:on,ErrorFactory:tn,deepExtend:ze}),e}(),Pn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Dn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Rn=self.firebase.SDK_VERSION;Rn&&Rn.indexOf("LITE")>=0&&Dn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ln=Cn.initializeApp;Cn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return We()&&Dn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ln.apply(void 0,t)};var Mn,jn,Fn=Cn;function Vn(t){return Array.prototype.slice.call(t)}function Un(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function qn(t,e,n){var r,i=new Promise((function(i,o){Un(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Bn(t,e,n){var r=qn(t,e,n);return r.then((function(t){if(t)return new Wn(t,r.request)}))}function Kn(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function $n(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return qn(this[e],r,arguments)})}))}function zn(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Gn(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Bn(this[e],r,arguments)})}))}function Hn(t){this._index=t}function Wn(t,e){this._cursor=t,this._request=e}function Xn(t){this._store=t}function Qn(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function Yn(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Qn(n)}function Jn(t){this._db=t}(Mn=Fn).INTERNAL.registerComponent(new hn("platform-logger",(function(t){return new Pn(t)}),"PRIVATE")),Mn.registerVersion("@firebase/app","0.6.19",jn),Mn.registerVersion("fire-js",""),Kn(Hn,"_index",["name","keyPath","multiEntry","unique"]),$n(Hn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Gn(Hn,"_index",IDBIndex,["openCursor","openKeyCursor"]),Kn(Wn,"_cursor",["direction","key","primaryKey","value"]),$n(Wn,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Wn.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Un(e._request).then((function(t){if(t)return new Wn(t,e._request)}))}))})})),Xn.prototype.createIndex=function(){return new Hn(this._store.createIndex.apply(this._store,arguments))},Xn.prototype.index=function(){return new Hn(this._store.index.apply(this._store,arguments))},Kn(Xn,"_store",["name","keyPath","indexNames","autoIncrement"]),$n(Xn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Gn(Xn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),zn(Xn,"_store",IDBObjectStore,["deleteIndex"]),Qn.prototype.objectStore=function(){return new Xn(this._tx.objectStore.apply(this._tx,arguments))},Kn(Qn,"_tx",["objectStoreNames","mode"]),zn(Qn,"_tx",IDBTransaction,["abort"]),Yn.prototype.createObjectStore=function(){return new Xn(this._db.createObjectStore.apply(this._db,arguments))},Kn(Yn,"_db",["name","version","objectStoreNames"]),zn(Yn,"_db",IDBDatabase,["deleteObjectStore","close"]),Jn.prototype.transaction=function(){return new Qn(this._db.transaction.apply(this._db,arguments))},Kn(Jn,"_db",["name","version","objectStoreNames"]),zn(Jn,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Xn,Hn].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=Vn(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Hn,Xn].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Zn,tr=((Zn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zn["not-registered"]="Firebase Installation is not registered.",Zn["installation-not-found"]="Firebase Installation not found.",Zn["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Zn["app-offline"]="Could not process request. Application offline.",Zn["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Zn),er=new tn("installations","Installations",tr);function nr(t){return t instanceof Ze&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function ir(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function or(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,er.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function sr(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ar(t,e){var n=e.refreshToken,r=sr(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function ur(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function cr(t,e){var n=e.fid;return Ue(this,void 0,void 0,(function(){var e,r,i,o,s,a;return qe(this,(function(u){switch(u.label){case 0:return e=rr(t),r=sr(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.24"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,ur((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:ir(a.authToken)}];case 3:return[4,or("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lr=/^[cdef][\w-]{21}$/;function fr(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,$e([],Ke(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return lr.test(e)?e:""}catch(n){return""}}function pr(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=new Map;function vr(t,e){var n=pr(t);yr(n,e),function(t,e){var n=gr();n&&n.postMessage({key:t,fid:e});br()}(n,e)}function yr(t,e){var n,r,i=dr.get(t);if(i)try{for(var o=Be(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var mr=null;function gr(){return!mr&&"BroadcastChannel"in self&&((mr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){yr(t.data.key,t.data.fid)}),mr}function br(){0===dr.size&&mr&&(mr.close(),mr=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr,Ir="firebase-installations-store",Er=null;function _r(){var t,e,n;return Er||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ir)}},e=qn(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new Yn(n.result,e.oldVersion,n.transaction))}),Er=e.then((function(t){return new Jn(t)}))),Er}function Tr(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s;return qe(this,(function(a){switch(a.label){case 0:return n=pr(t),[4,_r()];case 1:return r=a.sent(),i=r.transaction(Ir,"readwrite"),[4,(o=i.objectStore(Ir)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||vr(t,e.fid),[2,e]}}))}))}function Sr(t){return Ue(this,void 0,void 0,(function(){var e,n,r;return qe(this,(function(i){switch(i.label){case 0:return e=pr(t),[4,_r()];case 1:return n=i.sent(),[4,(r=n.transaction(Ir,"readwrite")).objectStore(Ir).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ar(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a;return qe(this,(function(u){switch(u.label){case 0:return n=pr(t),[4,_r()];case 1:return r=u.sent(),i=r.transaction(Ir,"readwrite"),[4,(o=i.objectStore(Ir)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||vr(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){return Ue(this,void 0,void 0,(function(){var e,n,r;return qe(this,(function(i){switch(i.label){case 0:return[4,Ar(t,(function(n){var r=function(t){return Or(t||{fid:fr(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(er.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,cr(t,e)];case 1:return n=i.sent(),[2,Tr(t,n)];case 2:return nr(r=i.sent())&&409===r.customData.serverCode?[4,Sr(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Tr(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Nr(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Nr(t){return Ue(this,void 0,void 0,(function(){var e,n,r,i;return qe(this,(function(o){switch(o.label){case 0:return[4,Dr(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,hr(100)];case 3:return o.sent(),[4,Dr(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,kr(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Dr(t){return Ar(t,(function(t){if(!t)throw er.create("installation-not-found");return Or(t)}))}function Or(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function xr(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Ue(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return qe(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return rr(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=ar(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.24"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,ur((function(){return fetch(t,a)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,ir(c)];case 3:return[4,or("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function Cr(t,e){return void 0===e&&(e=!1),Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:return[4,Ar(t.appConfig,(function(r){if(!Rr(r))throw er.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return[4,Pr(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,hr(100)];case 3:return i.sent(),[4,Pr(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Cr(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw er.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Ve(Ve({},t),{authToken:e})}(r);return n=function(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,xr(t,e)];case 1:return n=o.sent(),i=Ve(Ve({},e),{authToken:n}),[4,Tr(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!nr(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Sr(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ve(Ve({},e),{authToken:{requestStatus:0}}),[4,Tr(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Pr(t){return Ar(t,(function(t){if(!Rr(t))throw er.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Ve(Ve({},t),{authToken:{requestStatus:0}}):t}))}function Rr(t){return void 0!==t&&2===t.registrationStatus}function Lr(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return[4,kr(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o;return qe(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return rr(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=ar(t,e),i={method:"DELETE",headers:r},[4,ur((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,or("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jr(t,e){var n=t.appConfig;return function(t,e){gr();var n=pr(t),r=dr.get(n);r||(r=new Set,dr.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=pr(t),r=dr.get(n);r&&(r.delete(e),0===r.size&&dr.delete(n),br())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){return er.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(wr=Fn).INTERNAL.registerComponent(new hn("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Fr("App Configuration");if(!t.name)throw Fr("App Name");try{for(var r=Be(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Fr(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return Ue(this,void 0,void 0,(function(){var e,n,r;return qe(this,(function(i){switch(i.label){case 0:return[4,kr(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Cr(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Ue(this,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return[4,Lr(t.appConfig)];case 1:return n.sent(),[4,Cr(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Ue(this,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:return[4,Ar(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw er.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw er.create("app-offline");case 3:return[4,Mr(e,n)];case 4:return r.sent(),[4,Sr(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return jr(n,t)}}}),"PUBLIC")),wr.registerVersion("@firebase/installations","0.4.24");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vr,Ur,qr,Br,Kr="https://www.googletagmanager.com/gtag/js";(Ur=Vr||(Vr={})).EVENT="event",Ur.SET="set",Ur.CONFIG="config",(Br=qr||(qr={})).ADD_SHIPPING_INFO="add_shipping_info",Br.ADD_PAYMENT_INFO="add_payment_info",Br.ADD_TO_CART="add_to_cart",Br.ADD_TO_WISHLIST="add_to_wishlist",Br.BEGIN_CHECKOUT="begin_checkout",Br.CHECKOUT_PROGRESS="checkout_progress",Br.EXCEPTION="exception",Br.GENERATE_LEAD="generate_lead",Br.LOGIN="login",Br.PAGE_VIEW="page_view",Br.PURCHASE="purchase",Br.REFUND="refund",Br.REMOVE_FROM_CART="remove_from_cart",Br.SCREEN_VIEW="screen_view",Br.SEARCH="search",Br.SELECT_CONTENT="select_content",Br.SELECT_ITEM="select_item",Br.SELECT_PROMOTION="select_promotion",Br.SET_CHECKOUT_OPTION="set_checkout_option",Br.SHARE="share",Br.SIGN_UP="sign_up",Br.TIMING_COMPLETE="timing_complete",Br.VIEW_CART="view_cart",Br.VIEW_ITEM="view_item",Br.VIEW_ITEM_LIST="view_item_list",Br.VIEW_PROMOTION="view_promotion",Br.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $r,zr=new _n("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e,n,r,i,o){return Ue(this,void 0,void 0,(function(){var s,a,u,c;return qe(this,(function(h){switch(h.label){case 0:s=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=h.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),zr.error(c),[3,8];case 8:return t(Vr.CONFIG,i,o),[2]}}))}))}function Hr(t,e,n,r,i){return Ue(this,void 0,void 0,(function(){var o,s,a,u,c,h,l,f;return qe(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=p.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=s;c<h.length&&(l=h[c],"break"!==u(l));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(Vr.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),zr.error(f),[3,5];case 5:return[2]}}))}))}function Wr(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Ue(this,void 0,void 0,(function(){var a;return qe(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Vr.EVENT?[3,2]:[4,Hr(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==Vr.CONFIG?[3,4]:[4,Gr(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(Vr.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),zr.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var Xr=(($r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',$r),Qr=new tn("analytics","Analytics",Xr),Yr=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Jr(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Zr(t){var e;return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return qe(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Jr(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Qr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function ti(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Yr),Ue(this,void 0,void 0,(function(){var e,s,a,u,c,h,l;return qe(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,ei(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return zr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,Zr(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Ze&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return zr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return h=503===Number(c.customData.httpStatus)?un(o,r.intervalMillis,30):un(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,l),zr.debug("Calling attemptFetch again in "+h+" millis"),[2,ti(t,l,n,r)];case 7:return[2]}}))}))}function ei(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ni=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e,n,r,i,o){return Ue(this,void 0,void 0,(function(){var s,a,u,c,h,l,f;return qe(this,(function(p){switch(p.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=Yr),Ue(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return qe(this,(function(h){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Qr.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Qr.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ni,setTimeout((function(){return Ue(c,void 0,void 0,(function(){return qe(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,ti({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&zr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return zr.error(t)})),e.push(s),a=function(){return Ue(this,void 0,void 0,(function(){var t;return qe(this,(function(e){switch(e.label){case 0:return Qe()?[3,1]:(zr.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Ye()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),zr.warn(Qr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=p.sent(),c=u[0],h=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Kr))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=Kr+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=h&&(l.firebase_id=h),i(Vr.CONFIG,c.measurementId,l),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii,oi,si={},ai=[],ui={},ci="dataLayer",hi="gtag",li=!1;function fi(t){if(li)throw Qr.create("already-initialized");t.dataLayerName&&(ci=t.dataLayerName),t.gtagName&&(hi=t.gtagName)}function pi(t,e){!function(){var t=[];if(Xe()&&t.push("This is a browser extension environment."),Je()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Qr.create("invalid-analytics-context",{errorInfo:e});zr.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw Qr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qr.create("no-api-key");zr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=si[i])throw Qr.create("already-exists",{id:i});if(!li){n=ci,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=Wr(si,ai,ui,ci,hi),s=o.wrappedGtag,a=o.gtagCore;oi=s,ii=a,li=!0}return si[i]=ri(t,ai,ui,e,ii,ci),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Ue(this,void 0,void 0,(function(){var o,s;return qe(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Vr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Ve(Ve({},r),{send_to:o}),t(Vr.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(oi,si[i],t,e,n).catch((function(t){return zr.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i;return qe(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Vr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(oi,si[i],t,e).catch((function(t){return zr.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i;return qe(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Vr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(oi,si[i],t,e).catch((function(t){return zr.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o,s,a,u;return qe(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(Vr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Vr.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(oi,si[i],t,e).catch((function(t){return zr.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Ue(this,void 0,void 0,(function(){var n;return qe(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(si[i],t).catch((function(t){return zr.error(t)}))},INTERNAL:{delete:function(){return delete si[i],Promise.resolve()}}}}function di(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:if(Xe())return[2,!1];if(!Je())return[2,!1];if(!Qe())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Ye()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new hn("analytics",(function(t){return pi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:fi,EventName:qr,isSupported:di})),t.INTERNAL.registerComponent(new hn("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(bg){throw Qr.create("interop-component-reg-failed",{reason:bg})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.8")}(Fn);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Fn.registerVersion("firebase","8.3.3","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t){return t}function T(t,e,n){this.code=k+t,this.message=e||N[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,k="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function R(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}A=O("__EID__")?"__EID__":void 0,E(C,Error),C.prototype.name="CustomError",E(P,C),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new L((function(){return new U}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},$=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=q(t,e)}function H(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ct=ut.userAgent;if(ct){Y=ct;break t}}Y=""}function ht(t){return st(Y,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===It&&e||"",this.b=wt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===wt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,wt={},It={};function Et(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(n){s.console&&s.console.error(n.message)}bt=t}else bt=t}return bt}function _t(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof _t&&t.constructor===_t?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new _t(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function Dt(t,e){this.a=e===Mt?t:""}function Ot(t){return t instanceof Dt&&t.constructor===Dt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ct=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Dt(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ct);t=e&&xt.test(e[1])?new Dt(t,Mt):null}return t}function Lt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Mt))}var Mt={},jt=new Dt("about:invalid#zClosurez",Mt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof Dt?t:Lt(t),e=e||s,n=n instanceof mt?gt(n):n||"",e.open(Ot(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var $t,zt,Gt=ht("Opera"),Ht=ht("Trident")||ht("MSIE"),Wt=ht("Edge"),Xt=Wt||Ht,Qt=ht("Gecko")&&!(st(Y.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Yt=st(Y.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=s.document;return t?t.documentMode:void 0}t:{var Zt="",te=(zt=Y,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Wt?/Edge\/([\d\.]+)/.exec(zt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Yt?/WebKit\/(\S+)/.exec(zt):Gt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(te&&(Zt=te?te[1]:""),Ht){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){$t=String(ee);break t}}$t=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String($t)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Ht){var oe=Jt();ne=oe||(parseInt($t,10)||void 0)}else ne=void 0;var se=ne;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var ae=!Ht||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,le,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout((function(){throw t}),0)}function ye(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(be)}}else le=function(){var t=be;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(he||(he=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),he(t)):s.setImmediate(t)}}(),me||(le(),me=!0),ge.add(t,e)}var me=!1,ge=new j;function be(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ve(e)}M(F,t)}me=!1}function we(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,Ee,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(bg){}Re(n,_e,t)}))}catch(r){Re(this,_e,r)}}var Ie=0,Ee=2,_e=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof we)return t;var e=new we(h);return Re(e,Ee,t),e}function Ne(t){return new we((function(e,n){n(t)}))}function De(t,e,n){Le(t,e,n,null)||ye(w(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function xe(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Ie&&1==r?xe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):je(n),Fe(n,i,_e,e)))}t.c=null}else Re(t,_e,e)}function Ce(t,e){t.b||t.a!=Ee&&t.a!=_e||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ae(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ce(t,i),i.a}function Re(t,e,n){t.a==Ie&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=_e||n instanceof qe||function(t,e){t.g=!0,ye((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof we)return Ce(t,Ae(e||h,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ye(t.gc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(bg){Ue.call(null,bg)}M(Se,e)}function Ve(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new qe(t);ye((function(){xe(this,e)}),this)}},t.$c=function(t){this.a=Ie,Re(this,Ee,t)},t.ad=function(t){this.a=Ie,Re(this,_e,t)},t.gc=function(){for(var t;t=je(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=ve;function qe(t){C.call(this,t)}function Be(){this.xa=this.xa,this.pa=this.pa}E(qe,C),qe.prototype.name="cancel";function Ke(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}(t)}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},ze=!Ht||9<=Number(se),Ge=Ht&&!ie("9"),He=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,We);var Qe=$e({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?wn(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=yn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)He||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?In(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=gn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Xe(e,this))}function yn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){Be.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Tn(t){var e=null;return new we((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(bn,Be),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;vt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=kn.prototype).W=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof xn?(this.i=void 0!==e?e:t.i,Cn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Rn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Cn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Gn)),t.b=new Wn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function jn(t){return t instanceof xn?new xn(t):new xn(t,void 0)}function Vn(t,e,n,r){var i=new xn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?zn:$n,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Hn)),t.join("")},xn.prototype.resolve=function(t){var e=new xn(this),n=!!t.c;n?Cn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,$n=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Xn(t),e=er(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Jn(t,e){return Xn(t),e=er(t,e),Dn(t.a.b,e)}function Zn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),Q(n)),t.b+=n.length)}function tr(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Xn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Xn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Xn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(sr,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ur(){var t=Nr();return Ht&&!!se&&11==se||/Edge\/\d+/.test(t)}function cr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||s.window;var n="about:blank";t&&(n=Ot(Rt(t)||jt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Sr(Nr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Rt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Lt(e),s.href=Ot(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Ot(e),s&&(Xt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Ft(t=(r=Et())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new we((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||Nr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ir(){return Fn.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fn.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Ir();return"ReactNative"===t||"Node"===t}var _r="Firefox",Tr="Chrome";function Sr(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?_r:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Sr(i=Nr()):"Worker"===r&&(r=Sr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!s.indexedDB}catch(n){return wr()&&!!s.indexedDB}return!1}function xr(){return(Cr()||"chrome-extension:"===Pr()||gr())&&!Er()&&Or()&&!wr()}function Cr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return s.location&&s.location.protocol||null}function Rr(t){return!fr(t=t||Nr())&&Sr(t)!=_r}function Lr(t){return void 0===t?null:nr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Sr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=Ir(),this.b=fr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function $r(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}qr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Hr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Wr.abcd}catch(zt){zr=!1}function Xr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Xr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Xr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",t[ri]),Xr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Xr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[hi],r=t[fi],i=t[pi];if(t=ti(t[li]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[mi]=n||null,e[di]=r):(e[vi]=r||null,e[mi]=r||null,e[di]=n||null),e[yi]=t||null,Xr(this,bi,i),Xr(this,gi,Jr(e))}E(oi,Zr),oi.prototype.w=function(){var t=oi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",hi="email",li="mfaInfo",fi="newEmail",pi="requestType",di="email",vi="fromEmail",yi="multiFactorInfo",mi="previousEmail",gi="data",bi="operation";function wi(t){var e=Mn(t=jn(t),Ii)||null,n=Mn(t,Ei)||null,r=Mn(t,Si)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",Ii+", "+Ei+"and "+Si+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,_i)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,Ai)||null})}var Ii="apiKey",Ei="oobCode",_i="continueUrl",Ti="languageCode",Si="mode",Ai="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new wi(t)}catch(e){return null}}function Di(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[ji];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new T("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Oi="android",xi="dynamicLinkDomain",Ci="handleCodeInApp",Pi="iOS",Ri="url",Li="installApp",Mi="minimumVersion",ji="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function qi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Bi(t)}catch(e){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=qi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:zi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Wi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Xi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Ji(t){var e=t[Yi];if(!e&&t[Qi]){var n=Ki(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Xr(this,"providerId",e),Xr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Xr(this,"profile",Jr((t=jr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",t.screenName||null)}function io(t){var e=jn(t),n=Mn(e,"link"),r=Mn(jn(n),"link");return e=Mn(e,"deep_link_id"),Mn(jn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}E(Zi,Ji),E(to,Zi),E(eo,Zi),E(no,Zi),E(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then((function(t){if(t[Js]){var n=Ki(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function ho(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Xr(this,"providerId",t),Xr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Xr(this,"idToken",e.idToken),e.accessToken&&Xr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Xr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Xr(this,"accessToken",e.oauthToken),Xr(this,"secret",e.oauthTokenSecret)}Xr(this,"providerId",t),Xr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Wi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function To(){bo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Ao(){mo.call(this,"twitter.com",zi)}function ko(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Co(e)))throw new T("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ni(t=io(t)))&&t.operation===ui?t:null}function Po(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Mo(t){try{this.a=t||Fn.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Po({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return Io(n);case"github.com":return _o(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ho(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},ho.prototype.ka=function(t){return wa(t,lo(this))},ho.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Ia(t,n)},ho.prototype.c=function(t,e){return co(Ea(t,lo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return wa(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ia(t,n)},po.prototype.c=function(t,e){return co(Ea(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=pt(t),this},E(go,mo),E(bo,mo),bo.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return Q(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},E(wo,bo),Xr(wo,"PROVIDER_ID","facebook.com"),Xr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Eo,bo),Xr(Eo,"PROVIDER_ID","github.com"),Xr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),E(To,bo),Xr(To,"PROVIDER_ID","google.com"),Xr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Ao,mo),Xr(Ao,"PROVIDER_ID","twitter.com"),Xr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,xa,{idToken:e,email:this.a,oobCode:this.f}):ru(t,$a,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return co(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Oo,{PROVIDER_ID:"password"}),Qr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.fb(Lo(this))},Po.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,ru(t,tu,n)},Po.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then((function(t){return function(t,e){return ru(t,Ga,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return ru(t,Ha,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Mo,{PROVIDER_ID:"phone"}),Qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,$o=null;function zo(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Go(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Xr(this,"email",t.Jb),t.ea&&Xr(this,"phoneNumber",t.ea),t.credential&&Xr(this,"credential",t.credential),t.Zb&&Xr(this,"tenantId",t.Zb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Wo(){}function Xo(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(bg){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}E(zo,T),E(Go,T),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,E(Qo,Wo),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Qo,E(Jo,Wo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(R("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(p(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},hs=null;function ls(t){var e;if(hs||(hs=new ns(""),cs[""]=hs,hs.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ps(t){this.f=t}function ds(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ps,Wo),ps.prototype.a=function(){return new ds(this.f)},ps.prototype.b=function(t){return function(){return t}}({}),E(ds,bn);var vs=0;function ys(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ys(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):gs(this),3==this.readyState&&ys(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Ua=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(bs,bn);var ws="";bs.prototype.b=ls("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function _s(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Xo(t.D):Xo(Ko),t.a.onreadystatechange=b(t.Vb,t);try{fs(t.b,Cs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return fs(t.b,Cs(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=An(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!G(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ds(t),0<t.g&&(t.u=function(t){return Ht&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=_n(t.Ma,t.g,t)),fs(t.b,Cs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,Cs(t,"Send error: "+a.message)),Ss(t,a)}}function Ts(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,As(t),Ns(t)}function As(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Os(t)&&2==xs(t))fs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.i&&4==Os(t))_n(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){fs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(h){fs(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+xs(t)+"]",As(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){Ds(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(bg){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+bg.message,void 0)}}}function Ds(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Os(t)?t.a.status:-1}catch(e){return-1}}function Cs(t,e){return e+" ["+t.R+" "+t.l+" "+xs(t)+"]"}function Ps(t){var e=$s;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function Ls(t){if(t.a){if(!t.v)throw new Vs(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function js(t){return z(t.g,(function(t){return p(t[1])}))}function Fs(t){if(t.h&&t.a&&js(t)){var e=t.h,n=Bs[e];n&&(s.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,js(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ps?(Ms(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qs(e),Bs[e.a]=e,t.h=e.a)}function Vs(){C.call(this)}function Us(){C.call(this)}function qs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ks(this):this.Jc())},t.Jc=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},Ps.prototype.cancel=function(t){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Us(this),Ls(this),Rs(this,!1,t))}},Ps.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ps.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Ps.prototype.$goog_Thenable=!0,E(Vs,C),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",E(Us,C),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Ks(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ps(o);return e=window.setTimeout((function(){zs(i,!0);var t=new Ws(Hs,"Timeout reached for loading script "+r);Ls(a),Rs(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(zs(i,!1,e),Ls(a),Rs(a,!0,null))},i.onerror=function(){zs(i,!0,e);var t=new Ws(Gs,"Error while loading script "+r);Ls(a),Rs(a,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function $s(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&zs(t,!0,this.Ma)}}function zs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Hs=1;function Ws(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Xs(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=pt(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=pt(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&Fn.INTERNAL.node&&Fn.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ps(self):Er()?this.f=new Xs(n):this.f=new Jo,this.b=null}E(Ws,C),E(Xs,Wo),Xs.prototype.a=function(){return new this.f},Xs.prototype.b=function(){return{}};var Ys,Js="idToken",Zs=new qr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new qr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=jn(t),e=jn(e.url),t.f=t.a+t.f,Cn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Sr(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&se&&!(9<se))})()||wr()?t=b(t.u,t):(Ys||(Ys=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}(Ks(St(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),_s(a,t,n,r,i)};var ua=new mt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function ha(t,e,n,r,i,o,s){var a=jn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new we((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:nr(Mr(i)),t.a,t.v.get())}))}function la(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&la(t)}function pa(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function da(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.zb=function(){return ru(this,za,{})},Qs.prototype.Bb=function(t,e){return ru(this,Ka,{idToken:t,email:e})},Qs.prototype.Cb=function(t,e){return ru(this,$a,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ya(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ma(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Jn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;pa(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Wa,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Qa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Xa,e)}function _a(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Qs.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ka,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fa,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,ja,t)},t.fb=function(t){return ru(this,Za,t)},t.nb=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,Sa,{oobCode:t})},t.jb=function(t){return ru(this,Ta,{oobCode:t})};var Ta={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Aa={endpoint:"signupNewUser",A:function(t){if(la(t),!t.password)throw new T("weak-password")},G:pa,V:!0,B:!0},ka={endpoint:"createAuthUri",B:!0},Na={endpoint:"deleteAccount",N:["idToken"]},Da={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Oa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:la,G:pa,V:!0,B:!0},xa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:la,G:pa,V:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ya,G:pa,B:!0,Na:!0},Pa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ya,G:pa,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");la(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");la(t)},Z:"email",B:!0},Va={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},qa={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",N:["idToken"],A:fa,V:!0},$a={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:pa,V:!0},za={endpoint:"signupNewUser",G:pa,V:!0,B:!0},Ga={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Wa={endpoint:"verifyAssertion",A:ma,Ya:ga,G:ba,V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:ma,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);pa(t)},V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:function(t){if(ma(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ba,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:pa,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(la(t),!t.password)throw new T("wrong-password")},G:pa,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");da(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);pa(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ha(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(hu||(hu=new we((function(t,e){function n(){Ur(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},ke(Ks(r=St(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new we((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new qr(3e4,6e4),cu=new qr(5e3,15e3),hu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=jn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return Fn.app(t).auth().Ga()}catch(e){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=cr();return function(t){return ru(t,Va,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:vr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(cr())}))}function yu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?kr(t.c,pu(t.b)):null,t.l=new Qs(t.g,O(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new fu(t,e,n,r,i,l)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.yb(h).toString()}function bu(t){if(this.a=t||Fn.INTERNAL.reactNative&&Fn.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=jn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Fn.app(this.c).auth().la()}catch(a){n=null}for(var r in e.ob=n,Ln(t,"providerId",this.a.providerId),e=Mr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ft(e)||Ln(t,"customParameters",Lr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Yn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Yn(t.b,"eid"),(s=pu(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=du.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return yu(t).then((function(){return function(t,e){return t.rb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&pr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new we((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Nr();return!Rr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new T("popup-blocked"));if(s&&!Rr())return this.ma().o((function(e){pr(t),i(e)})),r(),ke();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw pr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){Vo(e),hr(gu(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return yu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Lr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function _u(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Nu(){if(!Cu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(B(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),_u(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),_u(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new we((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.i||(t.i=Du(t)),t.i}function xu(t,e){var n=0;return new we((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!s.indexedDB}catch(zt){return!1}}function Pu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function ju(t){return Ou(t).then((function(t){var e=Pu(Ru(t,!1));return e.getAll?Lu(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Cu()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new Nu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==Ir();if(!(t=Bu()||t&&Fn.INTERNAL.node&&Fn.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Fn.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function $u(){if(!function(){var t="Node"==Ir();if(!(t=zu()||t&&Fn.INTERNAL.node&&Fn.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=zu()||Fn.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){var t={};t.Browser=Xu,t.Node=Qu,t.ReactNative=Yu,t.Worker=Ju,this.a=t[Ir()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Lu((e=Pu(Ru(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Pu(Ru(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Lu(Pu(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Lu(Pu(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Fu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Ku.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=$u.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Hu,Wu,Xu={F:qu,bb:$u},Qu={F:qu,bb:$u},Yu={F:bu,bb:Ku},Ju={F:qu,bb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Nr())||!br()),e=Rr(),n=Or();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Gu),t=Hu;try{this.g=!ur()&&$r()||!s.indexedDB?new t.a.F:new Vu(wr()?new Uu:new t.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function ec(){return Wu||(Wu=new tc),Wu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ft(this.a)&&(nc(this,"local").ca(this.f),this.h||(ur()||!$r())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Ht&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=lc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(gc):gc),this.reset()}E(hc,(function(){this.b=-1}));for(var lc=64,fc=lc-1,pc=[],dc=0;dc<fc;dc++)pc[dc]=0;var vc=X(128,pc);function yc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|ac[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(yc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(yc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}E(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function _c(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(yc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return $(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(Mn(o=jn(i),"firebaseError")||null))?S(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then((function(){return Ac(t).then((function(){r||Tc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},$o||($o=new Bo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new we((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=ke().then((function(){return Vo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",s),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=_c(o),h.sessionId=o;var l=gu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=Dr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Br()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){W(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Dc(t){return ic(t.b,Nc,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new zc,this.C=new Qc,this.g=new kc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,A,this.J)}function xc(t,e,n,r,i){var o=Fn.SDK_VERSION||null;return gr()?new Ic(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Pc(t){t.a.Xb()&&Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Tb()||Gc(t.b)}function Rc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):Pc(t)})).o((function(){Pc(t)}))}function Lc(t,e){W(t.h,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Gc(this.b),e};var Mc=new qr(2e3,1e4),jc=new qr(3e4,6e4);function Fc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Vc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new we((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Oc.prototype.qa=function(){return this.b.qa()};var Bc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function $c(t,e,n,r){var i=Kc(e,n,r);return Bc[i]||(Bc[i]=new Oc(t,e,n,r)),Bc[i]}function zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Xc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Xc(t,!1,null,null)}function Wc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Wc(t,n):Wc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,Xr(this,"verificationId",t)}function Zc(t,e,n,r){return new Mo(t).fb(e,n).then((function(t){return new Jc(t,r)}))}function th(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function eh(t,e,n){var r=e&&e[rh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;B(e[nh]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Xc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Xc(t,a,e,null)})).o((function(e){Xc(t,a,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):(Xc(this,!1,null,null),ke())}else Ne(new T("invalid-auth-event"))},zc.prototype.qa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(jc.get()).then((function(){t.b||(t.g=!0,Xc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=jo(this.verificationId,t),this.a(t)};var nh="mfaInfo",rh="mfaPendingCredential";function ih(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new eh(t,e,n),Xr(this,"resolver",this.b)}function oh(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ih(e,t.serverResponse,n,t.message)}catch(r){}return null}function sh(){}function ah(t){Xr(this,"factorId",t.fa),this.a=t}function uh(t){if(ah.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ch(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function hh(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),lh(this,n)}function lh(t,e){t.b=e,Xr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ph(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Br()||!t?ke():new we((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){ph(t,!0)})).o((function(e){t.i(e)&&ph(t,!1)}))}function dh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function yh(t,e){t.b=Ki(e[Js]||""),t.a=e.refreshToken,vh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function mh(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,vh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gh(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function bh(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Fn.SDK_VERSION?kr(Fn.SDK_VERSION):null;this.a=new Qs(this.l,O(A),r),t.emulatorConfig&&ia(this.a,t.emulatorConfig),this.b=new dh(this.a),Nh(this,e[Js]),yh(this.b,e),Xr(this,"refreshToken",this.b.a),xh(this,n||{}),bn.call(this),this.R=!1,this.s&&xr()&&(this.i=$c(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ia(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){_h(i,t.f)},this.ba=null,this.O=new hh(this,n),Xr(this,"multiFactor",this.O)}function Ih(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function Eh(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function _h(t,e){t.$=e,sa(t.a,Fn.SDK_VERSION?kr(Fn.SDK_VERSION,t.$):null)}function Th(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function Sh(t){try{return Fn.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ah(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function kh(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function Nh(t,e){t.za=e,Xr(t,"_lat",e)}function Dh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function Oh(t){t.i&&!t.R&&(t.R=!0,Rc(t.i,t))}function xh(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function Ph(t){return ke().then((function(){if(t.D)throw new T("app-deleted")}))}function Rh(t){return $(t.providerData,(function(t){return t.providerId}))}function Lh(t,e){e&&(Mh(t,e.providerId),t.providerData.push(e))}function Mh(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function jh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Xr(t,e,n)}function Fh(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Xr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Xr(t,"metadata",new gh),B(e.providerData,(function(e){Lh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Xr(t,"refreshToken",t.b.a),lh(t.O,e.O.b))}function Vh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ra,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||jh(t,"isAnonymous",!1),e}))}))}function Uh(t,e){e[Js]&&t.za!=e[Js]&&(yh(t.b,e),t.dispatchEvent(new ch("tokenChanged")),Nh(t,e[Js]),jh(t,"refreshToken",t.b.a))}function qh(t,e){return Vh(t).then((function(){if(G(Rh(t),e))return Dh(t).then((function(){throw new T("provider-already-linked")}))}))}function Bh(t,e,n){return Yr({user:t,credential:Fo(e),additionalUserInfo:e=Xi(e),operationType:n})}function Kh(t,e){return Uh(t,e),t.reload().then((function(){return t}))}function $h(t,e,n,r,i){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=Wi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Rr()||br())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,Fn.SDK_VERSION||null,null,null,t.tenantId));var u=dr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new we((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.i,t,e,u,s)}))})).then((function(t){return u&&pr(u),t?Yr(t):null})).o((function(t){throw u&&pr(u),t})),Hh(t,r,i)}function zh(t,e,n,r,i){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Dh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Qh,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Yh(t.ha);throw o})).then((function(){if(o)throw o})),Hh(t,r,i)}function Gh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Hh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ch("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),Sh(t),b(t.jc,t))),n||e}))}function Wh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wh(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Lh(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xh(t){this.a=t,this.b=ec()}eh.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[nh],delete n[rh],vt(n,t),e.g(n)}))},E(ih,T),sh.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Lo(t.a)}),ru(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),ru(e,Pa,n)}))}(this,t,e)},E(ah,sh),E(uh,ah),E(ch,We),(t=hh.prototype).yc=function(t){lh(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Uh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return lh(e,r),Uh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:$(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,ph(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?mh(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(wh,bn),wh.prototype.wa=function(t){this.ya=t,ra(this.a,t)},wh.prototype.la=function(){return this.ya},wh.prototype.Ga=function(){return Q(this.$)},wh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Xr(wh.prototype,"providerId","firebase"),(t=wh.prototype).reload=function(){var t=this;return Hh(this,Ph(this).then((function(){return Vh(t).then((function(){return Dh(t)})).then(Ch)})))},t.oc=function(t){return this.I(t).then((function(t){return new th(t)}))},t.I=function(t){var e=this;return Hh(this,Ph(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Nh(e,t.accessToken),e.dispatchEvent(new ch("tokenChanged"))),jh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");xh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?$(t,(function(t){return new bh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Lh(this,e[n]);jh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ch("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Hh(this,t.c(this.a,this.uid).then((function(t){return Uh(e,t),n=Bh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Hh(this,qh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bh(e,t,"link"),Kh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Hh(this,qh(this,"phone").then((function(){return Zc(Sh(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Hh(this,ke().then((function(){return Zc(Sh(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Hh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Uh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ph(this);var e=this;return Hh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Uh(e,t),jh(e,"displayName",t.displayName||null),jh(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Xr(t,"displayName",e.displayName),Xr(t,"photoURL",e.photoURL))})),Dh(e)})).then(Ch))},t.cd=function(t){var e=this;return Hh(this,Vh(this).then((function(n){return G(Rh(e),t)?function(t,e,n){return ru(t,Da,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Rh(e),(function(t){n[t]||Mh(e,t)})),n[Mo.PROVIDER_ID]||Xr(e,"phoneNumber",null),Dh(e)})):Dh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Hh(this,this.I().then((function(e){return ru(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new ch("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Ih(t,null),Eh(t,null),Th(t,null),t.J=[],t.D=!0,kh(t),Xr(t,"refreshToken",null),t.i&&Lc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return $h(this,"linkViaPopup",t,(function(){return qh(e,t.providerId).then((function(){return Dh(e)}))}),!1)},t.Nc=function(t){return $h(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return zh(this,"linkViaRedirect",t,(function(){return qh(e,t.providerId)}),!1)},t.Oc=function(t){return zh(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bh(i,t,"link"),Kh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,ke().then((function(){return co(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bh(i,t,"reauthenticate"),Uh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Hh(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Vi(new Di(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Hh(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Vi(new Di(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Hh(this,t=co(ke(t),n.uid).then((function(t){return e=Bh(n,t,"reauthenticate"),Uh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.w()),t};var Qh={name:"redirectUser",F:"session"};function Yh(t){return ic(t.b,Qh,t.a)}function Jh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=el("local"),n=el("session"),r=el("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=jr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(tl,t.a).then((function(t){return t?el(t):e}))}))}))})).then((function(e){return t.c=e,Zh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(el("local"),this.a,b(this.g,this))}function Zh(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,el(Zu[n]),t.a));return r.push(ic(t.b,tl,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)De(t[a],w(o,a),s);else e(i)}))}(r)}Jh.prototype.g=function(){var t=this,e=el("local");ol(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zh(t,"local").then((function(){t.c=e}))}))}))};var tl={name:"persistence",F:"session"};function el(t){return{name:"authUser",F:t}}function nl(t,e){return ol(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rl(t){return ol(t,(function(){return ic(t.b,t.c,t.a)}))}function il(t,e,n){return ol(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wh(t||{})}))}))}function ol(t,e){return t.f=t.f.then(e,e),t.f}function sl(t){if(this.l=!1,Xr(this,"settings",new Yc),Xr(this,"app",t),!vl(this).options||!vl(this).options.apiKey)throw new T("invalid-api-key");t=Fn.SDK_VERSION?kr(Fn.SDK_VERSION):null,this.a=new Qs(vl(this).options&&vl(this).options.apiKey,O(A),t),this.R=[],this.s=[],this.O=[],this.hb=Fn.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Fn.INTERNAL.createSubscribe(b(this.Ac,this)),pl(this,null),this.i=new Jh(vl(this).options.apiKey+":"+vl(this).name),this.D=new Xh(vl(this).options.apiKey+":"+vl(this).name),this.$=bl(this,function(t){var e=vl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Qh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Wh(t||{})}))}(t.D,vl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Yh(t.D)}));return bl(t,e)}(t).then((function(){return il(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rl(t.i)}))):null})).then((function(e){pl(t,e||null)}));return bl(t,n)}(this)),this.h=bl(this,function(t){return t.$.then((function(){return ll(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(el("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=vl(t).options.authDomain,n=vl(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=$c(e,n,vl(t).name,t.P),Rc(t.b,t),yl(t)&&Oh(yl(t)),t.m){Oh(t.m);var r=t.m;r.wa(t.la()),Ih(r,t),_h(r=t.m,t.J),Th(r,t),ia((r=t.m).a,t.P),Eh(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=jn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function al(t){We.call(this,"languageCodeChanged"),this.h=t}function ul(t){We.call(this,"emulatorConfigChanged"),this.c=t}function cl(t){We.call(this,"frameworkChanged"),this.f=t}function hl(t){return t.Oa||Ne(new T("auth-domain-config-required"))}function ll(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=hl(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return bl(t,e)}function fl(t,e){var n={};return n.apiKey=vl(t).options.apiKey,n.authDomain=vl(t).options.authDomain,n.appName=vl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new wh(t,e);return n&&(i.ha=n),r&&_h(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return yl(t)&&e.uid==yl(t).uid?(Fh(yl(t),e),t.da(e)):(pl(t,e),Oh(e),t.da(e))})).then((function(){gl(t)}))}function pl(t,e){yl(t)&&(function(t,e){W(t.S,(function(t){return t==e}))}(yl(t),t.Ba),hn(yl(t),"tokenChanged",t.ya),hn(yl(t),"userDeleted",t.za),hn(yl(t),"userInvalidated",t.Aa),kh(yl(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&Ah(e)),Xr(t,"currentUser",e),e&&(e.wa(t.la()),Ih(e,t),_h(e,t.J),Th(e,t),ia(e.a,t.P),Eh(e,t))}function dl(t,e){var n=null,r=null;return bl(t,e.then((function(e){return n=Fo(e),r=Xi(e),fl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Yr({user:yl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vl(t){return t.app}function yl(t){return t.currentUser}function ml(t){return yl(t)&&yl(t)._lat||null}function gl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ml(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ml(t))}}function bl(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function wl(){}function Il(){this.a={},this.b=1e12}Jh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),ol(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zh(n,t)})).then((function(){if(n.c=el(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},E(sl,bn),E(al,We),E(ul,We),E(cl,We),(t=sl.prototype).xb=function(t){return bl(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new al(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ia(this.a,this.P),this.dispatchEvent(new ul(this.P))}},t.Gc=function(t){this.J.push(t),sa(this.a,Fn.SDK_VERSION?kr(Fn.SDK_VERSION,this.J):null),this.dispatchEvent(new cl(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vl(this).options.apiKey,authDomain:vl(this).options.authDomain,appName:vl(this).name,currentUser:yl(this)&&yl(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dl(i,wa(i.a,o))}))},t.Xc=function(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Rr()||br())&&vl(this).options.authDomain&&t.isOAuthProvider&&(i=gu(vl(this).options.authDomain,vl(this).options.apiKey,vl(this).name,"signInViaPopup",t,null,r,Fn.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return bl(this,n=hl(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new we((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&pr(o),t?Yr(t):null})).o((function(t){throw o&&pr(o),t})))},t.Yc=function(t){if(!xr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this;return bl(this,hl(this).then((function(){return function(t){return ol(t,(function(){return t.b.set(tl,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return ll(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new T("null-user"));if(this.S!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=vl(this).options.apiKey,n.authDomain=vl(this).options.authDomain,n.appName=vl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_h(e,r),Fh(e,t),e}(t,n,e.D,e.Ga());return bl(this,this.h.then((function(){if(vl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return yl(e)&&t.uid==yl(e).uid?(Fh(yl(e),t),e.da(t)):(pl(e,r),Oh(r),e.da(r))})).then((function(){gl(e)})))},t.Ab=function(){var t=this;return bl(this,this.h.then((function(){return t.b&&Hc(t.b.b),yl(t)?(pl(t,null),rl(t.i).then((function(){gl(t)}))):ke()})))},t.Zc=function(){var t=this;return il(this.i,vl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=yl(t)&&e){n=yl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fh(yl(t),e),yl(t).I();(yl(t)||e)&&(pl(t,e),e&&(Oh(e),e.ha=t.D),t.b&&Rc(t.b,t),gl(t))}}))},t.da=function(t){return nl(this.i,t)},t.mc=function(){gl(this),this.da(yl(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dl(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(yl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bl(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ml(t)))})))}(this,(function(){t.next(yl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(yl(r)):"function"==typeof t.next&&t.next(yl(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(yl(r)):"function"==typeof t.next&&t.next(yl(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return bl(this,this.h.then((function(){return yl(e)?yl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dl(e,ru(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return jh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dl(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dl(n,ru(n.a,Aa,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dl(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=yl(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dl(t,t.a.zb()).then((function(e){var n=e.user;return jh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return yl(this)&&yl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&yl(this)&&Ah(yl(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&yl(this)&&kh(yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),bl(this,this.h.then((function(){e.l||G(e.s,t)&&t(ml(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(el("local"),t.a,this.ja),this.b&&(Lc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return bl(this,function(t,e){return ru(t,ka,{identifier:e,continueUri:Cr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.wb=function(t,e){var n=this;return bl(this,ke().then((function(){var t=new Di(e);if(!t.c)throw new T("argument-error",Ci+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return bl(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return bl(this,this.a.Ra(t).then((function(t){return new si(t)})))},t.jb=function(t){return bl(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return bl(this,ke().then((function(){return void 0===e||ft(e)?{}:Vi(new Di(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return bl(this,Zc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return bl(this,ke().then((function(){var r=e||cr(),i=xo(t,r);if(!(r=Co(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},wl.prototype.render=function(){},wl.prototype.reset=function(){},wl.prototype.getResponse=function(){},wl.prototype.execute=function(){};var El=null;function _l(t,e){return(e=Tl(e))&&t.a[e]||null}function Tl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function Al(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kl(){}function Nl(){}Il.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sl(t,e),this.b++},Il.prototype.reset=function(t){var e=_l(this,t);t=Tl(t),e&&t&&(e.delete(),delete this.a[t])},Il.prototype.getResponse=function(t){return(t=_l(this,t))?t.getResponse():null},Il.prototype.execute=function(t){(t=_l(this,t))&&t.execute()},Sl.prototype.getResponse=function(){return Al(this),this.b},Sl.prototype.execute=function(){Al(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Sl.prototype.delete=function(){Al(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Xr(kl,"FACTOR_ID","phone"),Nl.prototype.g=function(){return El||(El=new Il),ke(El)},Nl.prototype.c=function(){};var Dl=null;function Ol(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xl=new mt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cl=new qr(3e4,6e4);Ol.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Cl.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},ke(Ks(St(xl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Ol.prototype.c=function(){this.b--};var Pl=null;function Rl(t,e,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Dl||(Dl=new Nl),a=Dl):(Pl||(Pl=new Ol),a=Pl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fl],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ll];this.a[Ll]=function(t){if(Vl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,s);"function"==typeof e&&e(t)}};var h=this.a[Ml];this.a[Ml]=function(){if(Vl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Dr(h,s);"function"==typeof t&&t()}}}var Ll="callback",Ml="expired-callback",jl="sitekey",Fl="size";function Vl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ul(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function ql(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bl(t,e,n){var r=!1;try{this.b=n||Fn.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Fn.SDK_VERSION?kr(Fn.SDK_VERSION,o):null,Rl.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,O(A),r)}function Kl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=$l.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=$l[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Rl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ul(this,ke().then((function(){if(Cr()&&!wr())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Ua,{})})).then((function(e){t.a[jl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){ql(this);var t=this;return Ul(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&pe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){ql(this);var t=this;return Ul(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){ql(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){ql(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Bl,Rl);var $l="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Hl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Wl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Ql(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yl(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jl(t){return d(t)&&"string"==typeof t.uid}function Zl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Kl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(sl.prototype,{jb:{name:"applyActionCode",j:[zl("code")]},Ra:{name:"checkActionCode",j:[zl("code")]},nb:{name:"confirmPasswordReset",j:[zl("code"),zl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zl("email"),zl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zl("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zl(Hl(),Wl(),"nextOrObserver"),Wl("opt_error",!0),Wl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zl(Hl(),Wl(),"nextOrObserver"),Wl("opt_error",!0),Wl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[zl("email"),Zl(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[zl("email"),Hl("actionCodeSettings")]},xb:{name:"setPersistence",j:[zl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ql()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ql()]},Tc:{name:"signInWithCustomToken",j:[zl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zl("email"),zl("password")]},Vc:{name:"signInWithEmailLink",j:[zl("email"),zl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wh)}},Xl(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zl("url"),Hl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zl("code")]}}),ef(sl.prototype,{lc:{name:"languageCode",kb:Zl(zl(),Xl(),"languageCode")},ti:{name:"tenantId",kb:Zl(zl(),Xl(),"tenantId")}}),sl.Persistence=Zu,sl.Persistence.LOCAL="local",sl.Persistence.SESSION="session",sl.Persistence.NONE="none",tf(wh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ql()]},qb:{name:"linkWithCredential",j:[Ql()]},Dc:{name:"linkWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ql()]},tb:{name:"reauthenticateWithCredential",j:[Ql()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zl(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zl(null,!0)]},cd:{name:"unlink",j:[zl("provider")]},Bb:{name:"updateEmail",j:[zl("email")]},Cb:{name:"updatePassword",j:[zl("password")]},ed:{name:"updatePhoneNumber",j:[Ql("phone")]},Db:{name:"updateProfile",j:[Hl("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[zl("email"),Zl(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]}}),tf(Il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(wl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gl("appVerificationDisabledForTesting")}}),tf(Jc.prototype,{confirm:{name:"confirm",j:[zl("verificationCode")]}}),nf(uo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[yo,Do,Ro,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zl(zl(),Hl(),"json")]),nf(Oo,"credential",(function(t,e){return new No(t,e)}),[zl("email"),zl("password")]),tf(No.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),tf(wo.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),nf(wo,"credential",Io,[Zl(zl(),Hl(),"token")]),nf(Oo,"credentialWithLink",xo,[zl("email"),zl("emailLink")]),tf(Eo.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),nf(Eo,"credential",_o,[Zl(zl(),Hl(),"token")]),tf(To.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),nf(To,"credential",So,[Zl(zl(),Zl(Hl(),Xl()),"idToken"),Zl(zl(),Xl(),"accessToken",!0)]),tf(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),nf(Ao,"credential",ko,[Zl(zl(),Hl(),"token"),zl("secret",!0)]),tf(bo.prototype,{Ca:{name:"addScope",j:[zl("scope")]},credential:{name:"credential",j:[Zl(zl(),Zl(Hl(),Xl()),"optionsOrIdToken"),Zl(zl(),Xl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),tf(po.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),tf(ho.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),nf(Mo,"credential",jo,[zl("verificationId"),zl("verificationCode")]),tf(Mo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zl(zl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yl(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yl(t.session,ao)&&Jl(t.multiFactorHint):t.session&&t.multiFactorUid?Yl(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(Po.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),tf(T.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),tf(Go.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),tf(zo.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),tf(ih.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),tf(eh.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),tf(hh.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},zl("displayName",!0)]},bd:{name:"unenroll",j:[Zl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jl},zl(),"multiFactorInfoIdentifier")]}}),tf(Bl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(wi,"parseLink",Ni,[zl("link")]),nf(kl,"assertion",(function(t){return new uh(t)}),[Ql("phone")]),function(){if(void 0===Fn||!Fn.INTERNAL||!Fn.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sl,AuthCredential:uo,Error:T};nf(t,"EmailAuthProvider",Oo,[]),nf(t,"FacebookAuthProvider",wo,[]),nf(t,"GithubAuthProvider",Eo,[]),nf(t,"GoogleAuthProvider",To,[]),nf(t,"TwitterAuthProvider",Ao,[]),nf(t,"OAuthProvider",bo,[zl("providerId")]),nf(t,"SAMLAuthProvider",go,[zl("providerId")]),nf(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sl)}}]),nf(t,"RecaptchaVerifier",Bl,[Zl(zl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Fn.app.App)}}]),nf(t,"ActionCodeURL",wi,[]),nf(t,"PhoneMultiFactorGenerator",kl,[]),Fn.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Fn.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fn.registerVersion("@firebase/auth","0.16.4"),Fn.INTERNAL.extendNamespace({User:wh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var vi=function(t,e){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function yi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var mi,gi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bi=bi||{},wi=gi||self;function Ii(){}function Ei(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function _i(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ti="closure_uid_"+(1e9*Math.random()>>>0),Si=0;function Ai(t,e,n){return t.call.apply(t.bind,arguments)}function ki(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ni(t,e,n){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ai:ki).apply(null,arguments)}function Di(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Oi(){return Date.now()}function xi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ci(){this.j=this.j,this.i=this.i}Ci.prototype.j=!1,Ci.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Ti)&&t[Ti]||(t[Ti]=++Si))},Ci.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Pi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ri=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Li(t){return Array.prototype.concat.apply([],arguments)}function Mi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ji(t){return/^[\s\xa0]*$/.test(t)}var Fi,Vi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ui(t,e){return-1!=t.indexOf(e)}function qi(t,e){return t<e?-1:t>e?1:0}t:{var Bi=wi.navigator;if(Bi){var Ki=Bi.userAgent;if(Ki){Fi=Ki;break t}}Fi=""}function $i(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function zi(t){var e={};for(var n in t)e[n]=t[n];return e}var Gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Gi.length;o++)n=Gi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wi(t){return Wi[" "](t),t}Wi[" "]=Ii;var Xi,Qi,Yi=Ui(Fi,"Opera"),Ji=Ui(Fi,"Trident")||Ui(Fi,"MSIE"),Zi=Ui(Fi,"Edge"),to=Zi||Ji,eo=Ui(Fi,"Gecko")&&!(Ui(Fi.toLowerCase(),"webkit")&&!Ui(Fi,"Edge"))&&!(Ui(Fi,"Trident")||Ui(Fi,"MSIE"))&&!Ui(Fi,"Edge"),no=Ui(Fi.toLowerCase(),"webkit")&&!Ui(Fi,"Edge");function ro(){var t=wi.document;return t?t.documentMode:void 0}t:{var io="",oo=(Qi=Fi,eo?/rv:([^\);]+)(\)|;)/.exec(Qi):Zi?/Edge\/([\d\.]+)/.exec(Qi):Ji?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qi):no?/WebKit\/(\S+)/.exec(Qi):Yi?/(?:Version)[ \/]?(\S+)/.exec(Qi):void 0);if(oo&&(io=oo?oo[1]:""),Ji){var so=ro();if(null!=so&&so>parseFloat(io)){Xi=String(so);break t}}Xi=io}var ao,uo={};function co(t){return function(t,e){var n=uo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Vi(String(Xi)).split("."),r=Vi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=qi(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||qi(0==s[2].length,0==a[2].length)||qi(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(wi.document&&Ji){var ho=ro();ao=ho||(parseInt(Xi,10)||void 0)}else ao=void 0;var lo=ao,fo=!Ji||9<=Number(lo),po=Ji&&!co("9"),vo=function(){if(!wi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wi.addEventListener("test",Ii,e),wi.removeEventListener("test",Ii,e)}catch(n){}return t}();function yo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function mo(t,e){if(yo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(eo){t:{try{Wi(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:go[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}yo.prototype.b=function(){this.defaultPrevented=!0},xi(mo,yo);var go={2:"touch",3:"pen",4:"mouse"};mo.prototype.b=function(){mo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,po)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var bo="closure_listenable_"+(1e6*Math.random()|0),wo=0;function Io(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++wo,this.Y=this.Z=!1}function Eo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _o(t){this.src=t,this.a={},this.b=0}function To(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Pi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Eo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function So(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}_o.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=So(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Io(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ao="closure_lm_"+(1e6*Math.random()|0),ko={};function No(t,e,n,r,i){if(r&&r.once)return Oo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)No(t,e[o],n,r,i);return null}return n=Fo(n),t&&t[bo]?t.va(e,n,_i(r)?!!r.capture:!!r,i):Do(t,e,n,!1,r,i)}function Do(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=_i(i)?!!i.capture:!!i;if(s&&!fo)return null;var a=Mo(t);if(a||(t[Ao]=a=new _o(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Lo,e=fo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Po(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Oo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oo(t,e[o],n,r,i);return null}return n=Fo(n),t&&t[bo]?t.wa(e,n,_i(r)?!!r.capture:!!r,i):Do(t,e,n,!0,r,i)}function xo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xo(t,e[o],n,r,i);else r=_i(r)?!!r.capture:!!r,n=Fo(n),t&&t[bo]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=So(o=t.a[e],n,r,i))&&(Eo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Mo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=So(e,n,r,i)),(n=-1<t?e[t]:null)&&Co(n))}function Co(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[bo])To(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Po(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mo(e))?(To(n,t),0==n.b&&(n.src=null,e[Ao]=null)):Eo(t)}}}function Po(t){return t in ko?ko[t]:ko[t]="on"+t}function Ro(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Co(t),n.call(r,e)}function Lo(t,e){if(t.Y)return!0;if(!fo){if(!e)t:{e=["window","event"];for(var n=wi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ro(t,e=new mo(e,this))}return Ro(t,new mo(e,this))}function Mo(t){return(t=t[Ao])instanceof _o?t:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fo(t){return"function"==typeof t?t:(t[jo]||(t[jo]=function(e){return t.handleEvent(e)}),t[jo])}function Vo(){Ci.call(this),this.c=new _o(this),this.J=this,this.C=null}function Uo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new yo(e,t);else if(e instanceof yo)e.target=e.target||t;else{var i=e;Hi(e=new yo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=qo(s,r,!0,e)&&i}if(i=qo(s=e.a=t,r,!0,e)&&i,i=qo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qo(s=e.a=n[o],r,!1,e)&&i}function qo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&To(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xi(Vo,Ci),Vo.prototype[bo]=!0,(mi=Vo.prototype).addEventListener=function(t,e,n,r){No(this,t,e,n,r)},mi.removeEventListener=function(t,e,n,r){xo(this,t,e,n,r)},mi.G=function(){if(Vo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Eo(n[r]);delete e.a[t],e.b--}}this.C=null},mi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},mi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Bo=wi.JSON.stringify;function Ko(){this.b=this.a=null}var $o,zo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ho}),(function(t){t.reset()}));function Go(){var t=Yo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ho(){this.next=this.b=this.a=null}function Wo(t){wi.setTimeout((function(){throw t}),0)}function Xo(t,e){$o||function(){var t=wi.Promise.resolve(void 0);$o=function(){t.then(Jo)}}(),Qo||($o(),Qo=!0),Yo.add(t,e)}Ko.prototype.add=function(t,e){var n=zo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ho.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ho.prototype.reset=function(){this.next=this.b=this.a=null};var Qo=!1,Yo=new Ko;function Jo(){for(var t;t=Go();){try{t.a.call(t.b)}catch(n){Wo(n)}var e=zo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qo=!1}function Zo(t,e){Vo.call(this),this.b=t||1,this.a=e||wi,this.f=Ni(this.Za,this),this.g=Oi()}function ts(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function es(t,e,n){if("function"==typeof t)n&&(t=Ni(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ni(t.handleEvent,t)}return 2147483647<Number(e)?-1:wi.setTimeout(t,e||0)}function ns(t){t.a=es((function(){t.a=null,t.c&&(t.c=!1,ns(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}xi(Zo,Vo),(mi=Zo.prototype).aa=!1,mi.M=null,mi.Za=function(){if(this.aa){var t=Oi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Uo(this,"tick"),this.aa&&(ts(this),this.start()))}},mi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Oi())},mi.G=function(){Zo.X.G.call(this),ts(this),delete this.a};var rs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ns(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ci);function is(t){Ci.call(this),this.b=t,this.a={}}xi(is,Ci);var os=[];function ss(t,e,n,r){Array.isArray(n)||(n&&(os[0]=n.toString()),n=os);for(var i=0;i<n.length;i++){var o=No(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function as(t){$i(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Co(t)}),t),t.a={}}function us(){this.a=!0}function cs(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}is.prototype.G=function(){is.X.G.call(this),as(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},us.prototype.info=function(){};var hs={},ls=null;function fs(){return ls=ls||new Vo}function ps(t){yo.call(this,hs.Fa,t)}function ds(t){var e=fs();Uo(e,new ps(e,t))}function vs(t,e){yo.call(this,hs.STAT_EVENT,t),this.stat=e}function ys(t){var e=fs();Uo(e,new vs(e,t))}function ms(t){yo.call(this,hs.Ga,t)}function gs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wi.setTimeout((function(){t()}),e)}hs.Fa="serverreachability",xi(ps,yo),hs.STAT_EVENT="statevent",xi(vs,yo),hs.Ga="timingevent",xi(ms,yo);var bs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ws={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Is(){}function Es(t){var e;return(e=t.a)||(e=t.a={}),e}function _s(){}Is.prototype.a=null;var Ts,Ss={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function As(){yo.call(this,"d")}function ks(){yo.call(this,"c")}function Ns(){}function Ds(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new is(this),this.P=Os,t=to?125:void 0,this.R=new Zo(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}xi(As,yo),xi(ks,yo),xi(Ns,Is),Ts=new Ns;var Os=45e3,xs={},Cs={};function Ps(t,e,n){t.H=1,t.i=ea(Xs(e)),t.j=n,t.I=!0,Rs(t,null)}function Rs(t,e){t.u=Oi(),js(t),t.l=Xs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),da(n.b,"t",r),t.D=0,t.a=uu(t.g,t.g.C?e:null),0<t.O&&(t.F=new rs(Ni(t.Ca,t,t.a),t.O)),ss(t.J,t.a,"readystatechange",t.Xa),e=t.B?zi(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ds(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");s=2<=l.length&&"type"==l[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ls(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ms(t,n);if(i==Cs){4==e&&(t.h=4,ys(14),r=!1),cs(t.c,t.f,null,"[Incomplete Response]");break}if(i==xs){t.h=4,ys(15),cs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}cs(t.c,t.f,i,null),Bs(t,i)}4==e&&0==n.length&&(t.h=1,ys(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tu(e),e.F=!0,ys(11))):(cs(t.c,t.f,n,"[Invalid Chunked Response]"),qs(t),Us(t))}function Ms(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Cs:(n=Number(e.substring(n,r)),isNaN(n)?xs:(r+=1)+n>e.length?Cs:(e=e.substr(r,n),t.D=r+n,e))}function js(t){t.T=Oi()+t.P,Fs(t,t.P)}function Fs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=gs(Ni(t.Va,t),e)}function Vs(t){t.o&&(wi.clearTimeout(t.o),t.o=null)}function Us(t){0==t.g.v||t.A||ru(t.g,t)}function qs(t){Vs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ts(t.R),as(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Bs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ia(n.b,t)))if(n.I=t.N,!t.C&&Ia(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nu(n),za(n)}Za(n),ys(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=gs(Ni(n.Sa,n),6e3));if(1>=wa(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else ou(n,11)}else if((t.C||n.a==t)&&nu(n),!ji(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(Ui(h,"spdy")||Ui(h,"quic")||Ui(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(Ea(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ta(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Oi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=au(u,u.C?u.ga:null,u.fa),p.C){_a(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Vs(d),js(d)),u.a=p}else Ja(u);0<n.g.length&&Wa(n)}else"stop"!=i[0]&&"close"!=i[0]||ou(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ou(n,7):$a(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ds(4)}catch(y){}}function Ks(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ei(t)||"string"==typeof t)Ri(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ei(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ei(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $s(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $s)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Gs(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Gs(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Gs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(mi=Ds.prototype).setTimeout=function(t){this.P=t},mi.Xa=function(t){t=t.target;var e=this.F;e&&3==Ua(t)?e.f():this.Ca(t)},mi.Ca=function(t){try{if(t==this.a)t:{var e=Ua(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!to&&!this.a.$())){this.A||4!=e||7==n||ds(8==n||0>=r?3:2),Vs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ji(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ys(12),qs(this),Us(this);break t}cs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Bs(this,u)}this.I?(Ls(this,e,o),to&&this.b&&3==e&&(ss(this.J,this.R,"tick",this.Wa),this.R.start())):(cs(this.c,this.f,o,null),Bs(this,o)),4==e&&qs(this),this.b&&!this.A&&(4==e?ru(this.g,this):(this.b=!1,js(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ys(12)):(this.h=0,ys(13)),qs(this),Us(this)}}}catch(c){}},mi.Wa=function(){if(this.a){var t=Ua(this.a),e=this.a.$();this.D<e.length&&(Vs(this),Ls(this,t,e),this.b&&4!=t&&js(this))}},mi.cancel=function(){this.A=!0,qs(this)},mi.Va=function(){this.o=null;var t=Oi();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ds(3),ys(17)),qs(this),this.h=2,Us(this)):Fs(this,this.T-t)},(mi=$s.prototype).K=function(){zs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},mi.L=function(){return zs(this),this.a.concat()},mi.get=function(t,e){return Gs(this.b,t)?this.b[t]:e},mi.set=function(t,e){Gs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},mi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Hs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ws(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ws){this.a=void 0!==e?e:t.a,Qs(this,t.f),this.j=t.j,Ys(this,t.c),Js(this,t.h),this.g=t.g,e=t.b;var n=new ha;n.c=e.c,e.a&&(n.a=new $s(e.a),n.b=e.b),Zs(this,n),this.i=t.i}else t&&(n=String(t).match(Hs))?(this.a=!!e,Qs(this,n[1]||"",!0),this.j=na(n[2]||""),Ys(this,n[3]||"",!0),Js(this,n[4]),this.g=na(n[5]||"",!0),Zs(this,n[6]||"",!0),this.i=na(n[7]||"")):(this.a=!!e,this.b=new ha(null,this.a))}function Xs(t){return new Ws(t)}function Qs(t,e,n){t.f=n?na(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ys(t,e,n){t.c=n?na(e,!0):e}function Js(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Zs(t,e,n){e instanceof ha?(t.b=e,function(t,e){e&&!t.f&&(la(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(fa(this,e),da(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ra(e,ua)),t.b=new ha(e,t.a))}function ta(t,e,n){t.b.set(e,n)}function ea(t){return ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Oi()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ws.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ra(e,oa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ra(e,oa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ra(n,"/"==n.charAt(0)?aa:sa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ra(n,ca)),t.join("")};var oa=/[#\/\?@]/g,sa=/[#\?:]/g,aa=/[#\?]/g,ua=/[#\?@]/g,ca=/#/g;function ha(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function la(t){t.a||(t.a=new $s,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function fa(t,e){la(t),e=va(t,e),Gs(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Gs((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zs(t)))}function pa(t,e){return la(t),e=va(t,e),Gs(t.a.b,e)}function da(t,e,n){fa(t,e),0<n.length&&(t.c=null,t.a.set(va(t,e),Mi(n)),t.b+=n.length)}function va(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(mi=ha.prototype).add=function(t,e){la(this),this.c=null,t=va(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},mi.forEach=function(t,e){la(this),this.a.forEach((function(n,r){Ri(n,(function(n){t.call(e,n,r,this)}),this)}),this)},mi.L=function(){la(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},mi.K=function(t){la(this);var e=[];if("string"==typeof t)pa(this,t)&&(e=Li(e,this.a.get(va(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Li(e,t[n])}return e},mi.set=function(t,e){return la(this),this.c=null,pa(this,t=va(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},mi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},mi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ya=function(t,e){this.b=t,this.a=e};function ma(t){this.g=t||ga,wi.PerformanceNavigationTiming?t=0<(t=wi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(wi.ia&&wi.ia.ya&&wi.ia.ya()&&wi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ga=10;function ba(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wa(t){return t.b?1:t.a?t.a.size:0}function Ia(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ea(t,e){t.a?t.a.add(e):t.b=e}function _a(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ta(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=yi(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Mi(t.c)}function Sa(){}function Aa(){this.a=new Sa}function ka(t,e,n){var r=n||"";try{Ks(t,(function(t,n){var i=t;_i(t)&&(i=Bo(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(bg){throw e.push(r+"type="+encodeURIComponent("_badmap")),bg}}function Na(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ma.prototype.cancel=function(){var t,e;if(this.c=Ta(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=yi(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Sa.prototype.stringify=function(t){return wi.JSON.stringify(t,void 0)},Sa.prototype.parse=function(t){return wi.JSON.parse(t,void 0)};var Da=wi.JSON.parse;function Oa(t){Vo.call(this),this.headers=new $s,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xa,this.D=this.F=!1}xi(Oa,Vo);var xa="",Ca=/^https?$/i,Pa=["POST","PUT"];function Ra(t){return"content-type"==t.toLowerCase()}function La(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ma(t),Fa(t)}function Ma(t){t.u||(t.u=!0,Uo(t,"complete"),Uo(t,"error"))}function ja(t){if(t.b&&void 0!==bi&&(!t.s[1]||4!=Ua(t)||2!=t.W()))if(t.l&&4==Ua(t))es(t.za,0,t);else if(Uo(t,"readystatechange"),4==Ua(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Hs)[1]||null;if(!o&&wi.self&&wi.self.location){var s=wi.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ca.test(o?o.toLowerCase():"")}e=i}if(e)Uo(t,"complete"),Uo(t,"success");else{t.h=6;try{var a=2<Ua(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.W()+"]",Ma(t)}}finally{Fa(t)}}}function Fa(t,e){if(t.a){Va(t);var n=t.a,r=t.s[0]?Ii:null;t.a=null,t.s=null,e||Uo(t,"ready");try{n.onreadystatechange=r}catch(bg){}}}function Va(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wi.clearTimeout(t.m),t.m=null)}function Ua(t){return t.a?t.a.readyState:0}function qa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $i(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ta(t,e,n))}function Ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ka(t){this.pa=0,this.g=[],this.c=new us,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ba("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ba("baseRetryDelayMs",5e3,t),this.Ra=Ba("retryDelaySeedMs",1e4,t),this.Ma=Ba("forwardChannelMaxRetries",2,t),this.ma=Ba("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ma(t&&t.concurrentRequestLimit),this.ka=new Aa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $a(t){if(Ga(t),3==t.v){var e=t.R++,n=Xs(t.B);ta(n,"SID",t.J),ta(n,"RID",e),ta(n,"TYPE","terminate"),Qa(t,n),(e=new Ds(t,t.c,e,void 0)).H=2,e.i=ea(Xs(n)),n=!1,wi.navigator&&wi.navigator.sendBeacon&&(n=wi.navigator.sendBeacon(e.i.toString(),"")),!n&&wi.Image&&((new Image).src=e.i,n=!0),n||(e.a=uu(e.g,null),e.a.ba(e.i)),e.u=Oi(),js(e)}su(t)}function za(t){t.a&&(tu(t),t.a.cancel(),t.a=null)}function Ga(t){za(t),t.j&&(wi.clearTimeout(t.j),t.j=null),nu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wi.clearTimeout(t.h),t.h=null)}function Ha(t,e){t.g.push(new ya(t.Oa++,e)),3==t.v&&Wa(t)}function Wa(t){ba(t.b)||t.h||(t.h=!0,Xo(t.Ba,t),t.u=0)}function Xa(t,e){var n;n=e?e.f:t.R++;var r=Xs(t.B);ta(r,"SID",t.J),ta(r,"RID",n),ta(r,"AID",t.P),Qa(t,r),t.i&&t.l&&qa(r,t.i,t.l),n=new Ds(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ya(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ea(t.b,n),Ps(n,r,e)}function Qa(t,e){t.f&&Ks({},(function(t,n){ta(e,n,t)}))}function Ya(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ni(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ka(h,s,"req"+c+"_")}catch(l){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ja(t){t.a||t.j||(t.T=1,Xo(t.Aa,t),t.o=0)}function Za(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=gs(Ni(t.Aa,t),iu(t,t.o)),t.o++,!0)}function tu(t){null!=t.s&&(wi.clearTimeout(t.s),t.s=null)}function eu(t){t.a=new Ds(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xs(t.la);ta(e,"RID","rpc"),ta(e,"SID",t.J),ta(e,"CI",t.H?"0":"1"),ta(e,"AID",t.P),Qa(t,e),ta(e,"TYPE","xmlhttp"),t.i&&t.l&&qa(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ea(Xs(e)),n.j=null,n.I=!0,Rs(n,t)}function nu(t){null!=t.m&&(wi.clearTimeout(t.m),t.m=null)}function ru(t,e){var n=null;if(t.a==e){nu(t),tu(t),t.a=null;var r=2}else{if(!Ia(t.b,e))return;n=e.s,_a(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Oi()-e.u;var i=t.u;Uo(r=fs(),new ms(r,n,e,i)),Wa(t)}else Ja(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=gs(Ni(t.Ba,t,e),iu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Za(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ou(t,5);break;case 4:ou(t,10);break;case 3:ou(t,6);break;default:ou(t,2)}}function iu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ou(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ni(t.Ya,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),wi.location&&"http"==wi.location.protocol||Qs(n,"https"),ea(n)),function(t,e){var n=new us;if(wi.Image){var r=new Image;r.onload=Di(Na,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Di(Na,n,r,"TestLoadImage: error",!1,e),r.onabort=Di(Na,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Di(Na,n,r,"TestLoadImage: timeout",!1,e),wi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ys(2);t.v=0,t.f&&t.f.ra(e),su(t),Ga(t)}function su(t){t.v=0,t.I=-1,t.f&&(0==Ta(t.b).length&&0==t.g.length||(t.b.c.length=0,Mi(t.g),t.g.length=0),t.f.qa())}function au(t,e,n){var r=function(t){return t instanceof Ws?Xs(t):new Ws(t,void 0)}(n);if(""!=r.c)e&&Ys(r,e+"."+r.c),Js(r,r.h);else{var i=wi.location;r=function(t,e,n,r){var i=new Ws(null,void 0);return t&&Qs(i,t),e&&Ys(i,e),n&&Js(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$i(t.V,(function(t,e){ta(r,e,t)})),e=t.A,n=t.na,e&&n&&ta(r,e,n),ta(r,"VER",t.ha),Qa(t,r),r}function uu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oa(t.Na)).F=t.C,e}function cu(){}function hu(){if(Ji&&!(10<=Number(lo)))throw Error("Environmental error: no available transport.")}function lu(t,e){Vo.call(this),this.a=new Ka(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ji(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ji(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new du(this)}function fu(t){As.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function pu(){ks.call(this),this.status=1}function du(t){this.a=t}(mi=Oa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Es(this.H):Es(Ts),this.a.onreadystatechange=Ni(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void La(this,o)}t=n||"";var i=new $s(this.headers);r&&Ks(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ra,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wi.FormData&&t instanceof wi.FormData,!(0<=Pi(Pa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Va(this),0<this.o&&((this.D=function(t){return Ji&&co(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ni(this.xa,this)):this.m=es(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){La(this,o)}},mi.xa=function(){void 0!==bi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Uo(this,"timeout"),this.abort(8))},mi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Uo(this,"complete"),Uo(this,"abort"),Fa(this))},mi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fa(this,!0)),Oa.X.G.call(this)},mi.za=function(){this.j||(this.A||this.l||this.g?ja(this):this.Ua())},mi.Ua=function(){ja(this)},mi.W=function(){try{return 2<Ua(this)?this.a.status:-1}catch(Qi){return-1}},mi.$=function(){try{return this.a?this.a.responseText:""}catch(Qi){return""}},mi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Da(e)}},mi.ua=function(){return this.h},mi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(mi=Ka.prototype).ha=8,mi.v=1,mi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ds(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Hi(r=zi(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ya(this,n,e),ta(i=Xs(this.B),"RID",t),ta(i,"CVER",22),this.A&&ta(i,"X-HTTP-Session-Id",this.A),Qa(this,i),this.i&&r&&qa(i,this.i,r),Ea(this.b,n),this.Ia&&ta(i,"TYPE","init"),this.da?(ta(i,"$req",e),ta(i,"SID","null"),n.U=!0,Ps(n,i,null)):Ps(n,i,e),this.v=2}}else 3==this.v&&(t?Xa(this,t):0==this.g.length||ba(this.b)||Xa(this))},mi.Aa=function(){if(this.j=null,eu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=gs(Ni(this.Ta,this),t)}},mi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ys(10),za(this),eu(this))},mi.Sa=function(){null!=this.m&&(this.m=null,za(this),Za(this),ys(19))},mi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ys(2)):(this.c.info("Failed to ping google.com"),ys(1))},(mi=cu.prototype).ta=function(){},mi.sa=function(){},mi.ra=function(){},mi.qa=function(){},mi.Ja=function(){},hu.prototype.a=function(t,e){return new lu(t,e)},xi(lu,Vo),lu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ys(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=au(t,null,t.fa),Wa(t)},lu.prototype.close=function(){$a(this.a)},lu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ha(this.a,e)}else this.l?((e={}).__data__=Bo(t),Ha(this.a,e)):Ha(this.a,t)},lu.prototype.G=function(){this.a.f=null,delete this.f,$a(this.a),delete this.a,lu.X.G.call(this)},xi(fu,As),xi(pu,ks),xi(du,cu),du.prototype.ta=function(){Uo(this.a,"a")},du.prototype.sa=function(t){Uo(this.a,new fu(t))},du.prototype.ra=function(t){Uo(this.a,new pu(t))},du.prototype.qa=function(){Uo(this.a,"b")},hu.prototype.createWebChannel=hu.prototype.a,lu.prototype.send=lu.prototype.h,lu.prototype.open=lu.prototype.g,lu.prototype.close=lu.prototype.close,bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,ws.COMPLETE="complete",_s.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Vo.prototype.listen=Vo.prototype.va,Oa.prototype.listenOnce=Oa.prototype.wa,Oa.prototype.getLastError=Oa.prototype.Qa,Oa.prototype.getLastErrorCode=Oa.prototype.ua,Oa.prototype.getStatus=Oa.prototype.W,Oa.prototype.getResponseJson=Oa.prototype.Pa,Oa.prototype.getResponseText=Oa.prototype.$,Oa.prototype.send=Oa.prototype.ba;var vu=bs,yu=ws,mu=hs,gu=10,bu=11,wu=_s,Iu=Oa,Eu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Eu.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Fe(e,t),e}(Error),Su=new _n("@firebase/firestore");function Au(){return Su.logLevel}function ku(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=vn.DEBUG){var r=e.map(Ou);Su.debug.apply(Su,$e(["Firestore (8.3.3): "+t],r))}}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=vn.ERROR){var r=e.map(Ou);Su.error.apply(Su,$e(["Firestore (8.3.3): "+t],r))}}function Du(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=vn.WARN){var r=e.map(Ou);Su.warn.apply(Su,$e(["Firestore (8.3.3): "+t],r))}}function Ou(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.3) INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Cu(t,e){t||xu()}function Pu(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ru(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Mu(t,e){return t<e?-1:t>e?1:0}function ju(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Fu(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Mu(this.nanoseconds,t.nanoseconds):Mu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Uu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ku(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $u=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xu(),void 0===n?n=t.length-e:n>t.length-e&&xu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Tu(_u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}($u),Gu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Tu(_u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Tu(_u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tu(_u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Tu(_u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}($u),Wu=function(){function t(t){this.fields=t,t.sort(Hu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ju(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Xu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Mu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xu.EMPTY_BYTE_STRING=new Xu("");var Qu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(t){if(Cu(!!t),"string"==typeof t){var e=0,n=Qu.exec(t);if(Cu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ju(t.seconds),nanos:Ju(t.nanos)}}function Ju(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zu(t){return"string"==typeof t?Xu.fromBase64String(t):Xu.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ec(t){var e=t.mapValue.fields.__previous_value__;return tc(e)?ec(e):e}function nc(t){var e=Yu(t.mapValue.fields.__local_write_time__.timestampValue);return new Vu(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){return null==t}function ic(t){return 0===t&&1/t==-1/0}function oc(t){return"number"==typeof t&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(zu.fromString(e))},t.fromName=function(e){return new t(zu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return zu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new zu(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tc(t)?4:10:xu()}function uc(t,e){var n,r=ac(t);if(r!==ac(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yu(t.timestampValue),r=Yu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Zu(t.bytesValue).isEqual(Zu(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ju(t.geoPointValue.latitude)===Ju(e.geoPointValue.latitude)&&Ju(t.geoPointValue.longitude)===Ju(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ju(t.integerValue)===Ju(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ju(t.doubleValue),r=Ju(e.doubleValue);return n===r?ic(n)===ic(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],uc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qu(n)!==qu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uc(n[i],r[i])))return!1;return!0}(t,e);default:return xu()}}function cc(t,e){return void 0!==(t.values||[]).find((function(t){return uc(t,e)}))}function hc(t,e){var n,r,i,o,s=ac(t),a=ac(e);if(s!==a)return Mu(s,a);switch(s){case 0:return 0;case 1:return Mu(t.booleanValue,e.booleanValue);case 2:return r=e,i=Ju((n=t).integerValue||n.doubleValue),o=Ju(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return lc(t.timestampValue,e.timestampValue);case 4:return lc(nc(t),nc(e));case 5:return Mu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Zu(t),r=Zu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mu(n[i],r[i]);if(0!==o)return o}return Mu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mu(Ju(t.latitude),Ju(e.latitude));return 0!==n?n:Mu(Ju(t.longitude),Ju(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hc(n[i],r[i]);if(o)return o}return Mu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Mu(r[s],o[s]);if(0!==a)return a;var u=hc(n[r[s]],i[o[s]]);if(0!==u)return u}return Mu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw xu()}}function lc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mu(t,e);var n=Yu(t),r=Yu(e),i=Mu(n.seconds,r.seconds);return 0!==i?i:Mu(n.nanos,r.nanos)}function fc(t){return pc(t)}function pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=Yu(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Zu(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,sc.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=pc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+pc(t.fields[o])}return e+"}"}(t.mapValue):xu();var e,n,r,i}function dc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function vc(t){return!!t&&"integerValue"in t}function yc(t){return!!t&&"arrayValue"in t}function mc(t){return!!t&&"nullValue"in t}function gc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bc(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Hu.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return uc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ac(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=bc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Hu.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!bc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Ic(t){var e=[];return Bu(t.fields||{},(function(t,n){var r=new Hu([t]);if(bc(n)){var i=Ic(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Wu(e)}var Ec=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Uu.min(),wc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,wc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,wc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=wc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=wc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),_c=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new _c(t,e,n,r,i,o,s)}function Sc(t){var e=Pu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+fc(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fc(e.startAt)),e.endAt&&(n+="|ub:",n+=Fc(e.endAt)),e.h=n}return e.h}function Ac(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Uc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!uc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bc(t.startAt,e.startAt)&&Bc(t.endAt,e.endAt)}function kc(t){return sc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Fe(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Dc(t,n,r):"array-contains"===n?new Pc(t,r):"in"===n?new Rc(t,r):"not-in"===n?new Lc(t,r):"array-contains-any"===n?new Mc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Oc(t,n):new xc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hc(e,this.value)):null!==e&&ac(this.value)===ac(e)&&this.m(hc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return xu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Dc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=sc.fromName(r.referenceValue),i}return Fe(e,t),e.prototype.matches=function(t){var e=sc.comparator(t.key,this.key);return this.m(e)},e}(Nc),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Cc("in",n),r}return Fe(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Nc),xc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Cc("not-in",n),r}return Fe(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Nc);function Cc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return sc.fromName(t.referenceValue)}))}var Pc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Fe(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yc(e)&&cc(e.arrayValue,this.value)},e}(Nc),Rc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Fe(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&cc(this.value.arrayValue,e)},e}(Nc),Lc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Fe(e,t),e.prototype.matches=function(t){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!cc(this.value.arrayValue,e)},e}(Nc),Mc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Fe(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return cc(e.value.arrayValue,t)}))},e}(Nc),jc=function(t,e){this.position=t,this.before=e};function Fc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return fc(t)})).join(",")}var Vc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Uc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function qc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?sc.comparator(sc.fromName(s.referenceValue),n.key):hc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!uc(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kc=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function $c(t,e,n,r,i,o,s,a){return new Kc(t,e,n,r,i,o,s,a)}function zc(t){return new Kc(t)}function Gc(t){return!rc(t.limit)&&"F"===t.limitType}function Hc(t){return!rc(t.limit)&&"L"===t.limitType}function Wc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Xc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Qc(t){return null!==t.collectionGroup}function Yc(t){var e=Pu(t);if(null===e.p){e.p=[];var n=Xc(e),r=Wc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Vc(n)),e.p.push(new Vc(Hu.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Vc(Hu.keyField(),u))}}}return e.p}function Jc(t){var e=Pu(t);if(!e.T)if("F"===e.limitType)e.T=Tc(e.path,e.collectionGroup,Yc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yc(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Vc(o.field,s))}var a=e.endAt?new jc(e.endAt.position,!e.endAt.before):null,u=e.startAt?new jc(e.startAt.position,!e.startAt.before):null;e.T=Tc(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Zc(t,e,n){return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function th(t,e){return Ac(Jc(t),Jc(e))&&t.limitType===e.limitType}function eh(t){return Sc(Jc(t))+"|lt:"+t.limitType}function nh(t){return"Query(target="+(e=Jc(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+fc(e.value);var e})).join(", ")+"]"),rc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Fc(e.startAt)),e.endAt&&(n+=", endAt: "+Fc(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function rh(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):sc.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!qc(t.startAt,Yc(t),e)||t.endAt&&qc(t.endAt,Yc(t),e))}(t,e);var n,r,i}function ih(t){return function(e,n){for(var r=!1,i=0,o=Yc(t);i<o.length;i++){var s=o[i],a=oh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function oh(t,e,n){var r,i,o,s,a=t.field.isKeyField()?sc.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?hc(o,s):xu());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return xu()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function ah(t){return{integerValue:""+t}}function uh(t,e){return oc(e)?ah(e):sh(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ch=function(){this._=void 0};function hh(t,e,n){return t instanceof ph?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof dh?vh(t,e):t instanceof yh?mh(t,e):function(t,e){var n=fh(t,e),r=bh(n)+bh(t.A);return vc(n)&&vc(t.A)?ah(r):sh(t.R,r)}(t,e);var r,i,o}function lh(t,e,n){return t instanceof dh?vh(t,e):t instanceof yh?mh(t,e):n}function fh(t,e){return t instanceof gh?vc(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e}(ch),dh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Fe(e,t),e}(ch);function vh(t,e){for(var n=wh(e),r=function(t){n.some((function(e){return uc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Fe(e,t),e}(ch);function mh(t,e){for(var n=wh(e),r=function(t){n=n.filter((function(e){return!uc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Fe(e,t),e}(ch);function bh(t){return Ju(t.integerValue||t.doubleValue)}function wh(t){return yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih=function(t,e){this.field=t,this.transform=e},Eh=function(t,e){this.version=t,this.transformResults=e},_h=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Th(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Sh=function(){};function Ah(t,e,n){var r,i,o,s,a;t instanceof xh?(i=e,o=n,s=(r=t).value.clone(),a=Rh(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof Ch?function(t,e,n){if(Th(t.precondition,e)){var r=Rh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ph(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function kh(t,e,n){var r;t instanceof xh?function(t,e,n){if(Th(t.precondition,e)){var r=t.value.clone(),i=Lh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Oh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ch?function(t,e,n){if(Th(t.precondition,e)){var r=Lh(t.fieldTransforms,n,e),i=e.data;i.setAll(Ph(t)),i.setAll(r),e.convertToFoundDocument(Oh(e),i).setHasLocalMutations()}}(t,e,n):(r=e,Th(t.precondition,r)&&r.convertToNoDocument(Uu.min()))}function Nh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=fh(o.transform,s||null);null!=a&&(null==n&&(n=wc.empty()),n.set(o.field,a))}return n||null}function Dh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&ju(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof dh&&o instanceof dh||i instanceof yh&&o instanceof yh?ju(i.elements,o.elements,uc):i instanceof gh&&o instanceof gh?uc(i.A,o.A):i instanceof ph&&o instanceof ph);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Oh(t){return t.isFoundDocument()?t.version:Uu.min()}var xh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Fe(e,t),e}(Sh),Ch=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Fe(e,t),e}(Sh);function Ph(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Rh(t,e,n){var r=new Map;Cu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,lh(s,a,n[i]))}return r}function Lh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,hh(a,u,e))}return r}var Mh,jh,Fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Fe(e,t),e}(Sh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Fe(e,t),e}(Sh),Uh=function(t){this.count=t};function qh(t){switch(t){case _u.OK:return xu();case _u.CANCELLED:case _u.UNKNOWN:case _u.DEADLINE_EXCEEDED:case _u.RESOURCE_EXHAUSTED:case _u.INTERNAL:case _u.UNAVAILABLE:case _u.UNAUTHENTICATED:return!1;case _u.INVALID_ARGUMENT:case _u.NOT_FOUND:case _u.ALREADY_EXISTS:case _u.PERMISSION_DENIED:case _u.FAILED_PRECONDITION:case _u.ABORTED:case _u.OUT_OF_RANGE:case _u.UNIMPLEMENTED:case _u.DATA_LOSS:return!0;default:return xu()}}function Bh(t){if(void 0===t)return Nu("GRPC error has no .code"),_u.UNKNOWN;switch(t){case Mh.OK:return _u.OK;case Mh.CANCELLED:return _u.CANCELLED;case Mh.UNKNOWN:return _u.UNKNOWN;case Mh.DEADLINE_EXCEEDED:return _u.DEADLINE_EXCEEDED;case Mh.RESOURCE_EXHAUSTED:return _u.RESOURCE_EXHAUSTED;case Mh.INTERNAL:return _u.INTERNAL;case Mh.UNAVAILABLE:return _u.UNAVAILABLE;case Mh.UNAUTHENTICATED:return _u.UNAUTHENTICATED;case Mh.INVALID_ARGUMENT:return _u.INVALID_ARGUMENT;case Mh.NOT_FOUND:return _u.NOT_FOUND;case Mh.ALREADY_EXISTS:return _u.ALREADY_EXISTS;case Mh.PERMISSION_DENIED:return _u.PERMISSION_DENIED;case Mh.FAILED_PRECONDITION:return _u.FAILED_PRECONDITION;case Mh.ABORTED:return _u.ABORTED;case Mh.OUT_OF_RANGE:return _u.OUT_OF_RANGE;case Mh.UNIMPLEMENTED:return _u.UNIMPLEMENTED;case Mh.DATA_LOSS:return _u.DATA_LOSS;default:return xu()}}(jh=Mh||(Mh={}))[jh.OK=0]="OK",jh[jh.CANCELLED=1]="CANCELLED",jh[jh.UNKNOWN=2]="UNKNOWN",jh[jh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jh[jh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jh[jh.NOT_FOUND=5]="NOT_FOUND",jh[jh.ALREADY_EXISTS=6]="ALREADY_EXISTS",jh[jh.PERMISSION_DENIED=7]="PERMISSION_DENIED",jh[jh.UNAUTHENTICATED=16]="UNAUTHENTICATED",jh[jh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jh[jh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jh[jh.ABORTED=10]="ABORTED",jh[jh.OUT_OF_RANGE=11]="OUT_OF_RANGE",jh[jh.UNIMPLEMENTED=12]="UNIMPLEMENTED",jh[jh.INTERNAL=13]="INTERNAL",jh[jh.UNAVAILABLE=14]="UNAVAILABLE",jh[jh.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kh=function(){function t(t,e){this.comparator=t,this.root=e||zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new $h(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new $h(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new $h(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new $h(this.root,t,this.comparator,!0)},t}(),$h=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),zh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw xu();if(this.right.isRed())throw xu();var t=this.left.check();if(t!==this.right.check())throw xu();return t+(this.isRed()?0:1)},t}();zh.EMPTY=null,zh.RED=!0,zh.BLACK=!1,zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gh=function(){function t(t){this.comparator=t,this.data=new Kh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Hh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Hh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Hh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Wh=new Kh(sc.comparator);function Xh(){return Wh}var Qh=new Kh(sc.comparator);function Yh(){return Qh}var Jh=new Kh(sc.comparator);var Zh=new Gh(sc.comparator);function tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Zh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var el=new Gh(Mu);function nl(){return el}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Uu.min(),r,nl(),Xh(),tl())},t}(),il=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xu.EMPTY_BYTE_STRING,n,tl(),tl(),tl())},t}(),ol=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},sl=function(t,e){this.targetId=t,this.V=e},al=function(t,e,n,r){void 0===n&&(n=Xu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ul=function(){function t(){this.S=0,this.D=ll(),this.C=Xu.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=tl(),e=tl(),n=tl();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xu()}})),new il(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ll()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),cl=function(){function t(t){this.W=t,this.G=new Map,this.H=Xh(),this.J=hl(),this.Y=new Gh(Mu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:xu()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(kc(i))if(0===n){var o=new sc(i.path);this.tt(e,o,Ec.newNoDocument(o,Uu.min()))}else Cu(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&kc(o.target)){var s=new sc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ec.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=tl();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new rl(t,n,this.Y,this.H,r);return this.H=Xh(),this.J=hl(),this.Y=new Gh(Mu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ul,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Gh(Mu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ku("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ul),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function hl(){return new Kh(sc.comparator)}function ll(){return new Kh(sc.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl={asc:"ASCENDING",desc:"DESCENDING"},pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dl=function(t,e){this.databaseId=t,this.I=e};function vl(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function yl(t,e){return t.I?e.toBase64():e.toUint8Array()}function ml(t,e){return vl(t,e.toTimestamp())}function gl(t){return Cu(!!t),Uu.fromTimestamp((e=Yu(t),new Vu(e.seconds,e.nanos)));var e}function bl(t,e){return(n=t,new zu(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function wl(t){var e=zu.fromString(t);return Cu(Kl(e)),e}function Il(t,e){return bl(t.databaseId,e.path)}function El(t,e){var n=wl(e);if(n.get(1)!==t.databaseId.projectId)throw new Tu(_u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Tu(_u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new sc(Al(n))}function _l(t,e){return bl(t.databaseId,e)}function Tl(t){var e=wl(t);return 4===e.length?zu.emptyPath():Al(e)}function Sl(t){return new zu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Al(t){return Cu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kl(t,e,n){return{name:Il(t,e),fields:n.toProto().mapValue.fields}}function Nl(t,e){var n,r,i;if(e instanceof xh)n={update:kl(t,e.key,e.value)};else if(e instanceof Fh)n={delete:Il(t,e.key)};else if(e instanceof Ch)n={update:kl(t,e.key,e.data),updateMask:Bl(e.fieldMask)};else{if(!(e instanceof Vh))return xu();n={verify:Il(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ph)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw xu()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:ml(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:xu())),n}function Dl(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?_h.updateTime(gl(n.updateTime)):void 0!==n.exists?_h.exists(n.exists):_h.none():_h.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Cu("REQUEST_TIME"===e.setToServerValue),n=new ph;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new dh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new yh(i)}else"increment"in e?n=new gh(t,e.increment):xu();var o=Hu.fromServerFormat(e.fieldPath);return new Ih(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=El(t,e.update.name),s=new wc({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Wu(e.map((function(t){return Hu.fromServerFormat(t)})))}(e.updateMask);return new Ch(o,s,a,r,i)}return new xh(o,s,r,i)}if(e.delete){var u=El(t,e.delete);return new Fh(u,r)}if(e.verify){var c=El(t,e.verify);return new Vh(c,r)}return xu()}function Ol(t,e){return{documents:[_l(t,e.path)]}}function xl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_l(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_l(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(gc(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NAN"}};if(mc(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gc(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NAN"}};if(mc(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(t.field),op:jl(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Fl((e=t).field),direction:Ml(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||rc(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Rl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rl(e.endAt)),n}function Cl(t){var e=Tl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Pl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Vc(Vl((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,h=null;n.limit&&(u=n.limit,h=rc(c="object"==typeof u?u.value:u)?null:c);var l=null;n.startAt&&(l=Ll(n.startAt));var f=null;return n.endAt&&(f=Ll(n.endAt)),$c(e,i,a,s,h,"F",l,f)}function Pl(t){return t?void 0!==t.unaryFilter?[ql(t)]:void 0!==t.fieldFilter?[Ul(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Pl(t)})).reduce((function(t,e){return t.concat(e)})):xu():[]}function Rl(t){return{before:t.before,values:t.position}}function Ll(t){var e=!!t.before,n=t.values||[];return new jc(n,e)}function Ml(t){return fl[t]}function jl(t){return pl[t]}function Fl(t){return{fieldPath:t.canonicalString()}}function Vl(t){return Hu.fromServerFormat(t.fieldPath)}function Ul(t){return Nc.create(Vl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xu()}}(t.fieldFilter.op),t.fieldFilter.value)}function ql(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vl(t.unaryFilter.field);return Nc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vl(t.unaryFilter.field);return Nc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vl(t.unaryFilter.field);return Nc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vl(t.unaryFilter.field);return Nc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xu()}}function Bl(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Kl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Gl(e)),e=zl(t.get(n),e);return Gl(e)}function zl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Gl(t){return t+""}function Hl(t){var e=t.length;if(Cu(e>=2),2===e)return Cu(""===t.charAt(0)&&""===t.charAt(1)),zu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&xu(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:xu()}o=s+2}return new zu(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wl=function(t,e){this.seconds=t,this.nanoseconds=e},Xl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xl.store="owner",Xl.key="owner";var Ql=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ql.store="mutationQueues",Ql.keyPath="userId";var Yl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yl.store="mutations",Yl.keyPath="batchId",Yl.userMutationsIndex="userMutationsIndex",Yl.userMutationsKeyPath=["userId","batchId"];var Jl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$l(e)]},t.key=function(t,e,n){return[t,$l(e),n]},t}();Jl.store="documentMutations",Jl.PLACEHOLDER=new Jl;var Zl=function(t,e){this.path=t,this.readTime=e},tf=function(t,e){this.path=t,this.version=e},ef=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ef.store="remoteDocuments",ef.readTimeIndex="readTimeIndex",ef.readTimeIndexPath="readTime",ef.collectionReadTimeIndex="collectionReadTimeIndex",ef.collectionReadTimeIndexPath=["parentPath","readTime"];var nf=function(t){this.byteSize=t};nf.store="remoteDocumentGlobal",nf.key="remoteDocumentGlobalKey";var rf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};rf.store="targets",rf.keyPath="targetId",rf.queryTargetsIndexName="queryTargetsIndex",rf.queryTargetsKeyPath=["canonicalId","targetId"];var of=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};of.store="targetDocuments",of.keyPath=["targetId","path"],of.documentTargetsIndex="documentTargetsIndex",of.documentTargetsKeyPath=["path","targetId"];var sf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sf.key="targetGlobalKey",sf.store="targetGlobal";var af=function(t,e){this.collectionId=t,this.parent=e};af.store="collectionParents",af.keyPath=["collectionId","parent"];var uf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};uf.store="clientMetadata",uf.keyPath="clientId";var cf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};cf.store="bundles",cf.keyPath="bundleId";var hf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hf.store="namedQueries",hf.keyPath="name";var lf=$e($e([],$e($e([],$e($e([],$e($e([],[Ql.store,Yl.store,Jl.store,ef.store,rf.store,Xl.store,sf.store,of.store]),[uf.store])),[nf.store])),[af.store])),[cf.store,hf.store]),ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),df=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&xu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),yf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new df,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new bf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Tf(e.target.error);n.ft.reject(new bf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new bf(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ku("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new If(e)},t}(),mf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(He())&&Nu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ku("SimpleDb","Removing database:",t),Ef(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=He(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ue(this,void 0,void 0,(function(){var e,n=this;return qe(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ku("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new bf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Tu(_u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new bf(t,n))},i.onupgradeneeded=function(t){ku("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){ku("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o,s,a,u;return qe(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return qe(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=l.sent(),e=yf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),vf.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),s),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,ku("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ef(this.Pt.delete())},t}(),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,_u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Fe(e,t),e}(Tu);function wf(t){return"IndexedDbTransactionError"===t.name}var If=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ku("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ku("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ef(n)},t.prototype.add=function(t){return ku("SimpleDb","ADD",this.store.name,t,t),Ef(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ef(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ku("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ku("SimpleDb","DELETE",this.store.name,t),Ef(this.store.delete(t))},t.prototype.count=function(){return ku("SimpleDb","COUNT",this.store.name),Ef(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){ku("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new vf((function(n,r){e.onerror=function(t){var e=Tf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new vf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gf(i),s=e(i.primaryKey,i.value,o);if(s instanceof vf){var a=s.catch((function(t){return o.done(),vf.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return vf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ef(t){return new vf((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Tf(t.target.error);n(e)}}))}var _f=!1;function Tf(t){var e=mf._t(He());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Tu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _f||(_f=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Fe(e,t),e}(pf);function Af(t,e){var n=Pu(t);return mf.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ah(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&kh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&kh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Uu.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),tl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ju(this.mutations,t.mutations,(function(t,e){return Dh(t,e)}))&&ju(this.baseMutations,t.baseMutations,(function(t,e){return Dh(t,e)}))},t}(),Nf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Cu(e.mutations.length===r.length);for(var i=Jh,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Df=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Uu.min()),void 0===o&&(o=Uu.min()),void 0===s&&(s=Xu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Of=function(t){this.Lt=t};function xf(t,e){if(e.document)return function(t,e,n){var r=El(t,e.name),i=gl(e.updateTime),o=new wc({mapValue:{fields:e.fields}}),s=Ec.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=sc.fromSegments(e.noDocument.path),r=Mf(e.noDocument.readTime),i=Ec.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=sc.fromSegments(e.unknownDocument.path);return r=Mf(e.unknownDocument.version),Ec.newUnknownDocument(o,r)}return xu()}function Cf(t,e,n){var r,i,o=Pf(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:Il(r=t.Lt,(i=e).key),fields:i.data.toProto().mapValue.fields,updateTime:vl(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new ef(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),h=Lf(e.version);return u=e.hasCommittedMutations,new ef(null,new Zl(c,h),null,u,o,s)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),f=Lf(e.version);return new ef(new tf(l,f),null,null,!0,o,s)}return xu()}function Pf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rf(t){var e=new Vu(t[0],t[1]);return Uu.fromTimestamp(e)}function Lf(t){var e=t.toTimestamp();return new Wl(e.seconds,e.nanoseconds)}function Mf(t){var e=new Vu(t.seconds,t.nanoseconds);return Uu.fromTimestamp(e)}function jf(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Dl(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Dl(t.Lt,e)})),a=Vu.fromMillis(e.localWriteTimeMs);return new kf(e.batchId,a,n,s)}function Ff(t){var e,n,r=Mf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Mf(t.lastLimboFreeSnapshotVersion):Uu.min();return void 0!==t.query.documents?(Cu(1===(n=t.query).documents.length),e=Jc(zc(Tl(n.documents[0])))):e=Jc(Cl(t.query)),new Df(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xu.fromBase64String(t.resumeToken))}function Vf(t,e){var n,r=Lf(e.snapshotVersion),i=Lf(e.lastLimboFreeSnapshotVersion);n=kc(e.target)?Ol(t.Lt,e.target):xl(t.Lt,e.target);var o=e.resumeToken.toBase64();return new rf(e.targetId,Sc(e.target),r,o,e.sequenceNumber,i,n)}function Uf(t){var e=Cl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zc(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Bf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Mf(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Bf(t).put({bundleId:(n=e).id,createTime:Lf(gl(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Kf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Uf(e.bundledQuery),readTime:Mf(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Kf(t).put({name:(n=e).name,readTime:Lf(gl(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Bf(t){return Af(t,cf.store)}function Kf(t){return Af(t,hf.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function t(){this.Bt=new zf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vf.resolve()},t.prototype.getCollectionParents=function(t,e){return vf.resolve(this.Bt.getEntries(e))},t}(),zf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Gh(zu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Gh(zu.comparator)).toArray()},t}(),Gf=function(){function t(){this.qt=new zf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:$l(i)};return Hf(t).put(o)}return vf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Fu(e),""],!1,!0);return Hf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Hl(o.parent))}return n}))},t}();function Hf(t){return Af(t,af.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){var r=t.store(Yl.store),i=t.store(Jl.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Cu(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Jl.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return vf.waitFor(o).next((function(){return c}))}function Yf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xu();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xf.DEFAULT_COLLECTION_PERCENTILE=10,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xf.DEFAULT=new Xf(41943040,Xf.DEFAULT_COLLECTION_PERCENTILE,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xf.DISABLED=new Xf(-1,0,0);var Jf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Cu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tp(t).Ot({index:Yl.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ep(t),s=tp(t);return s.add({}).next((function(a){Cu("number"==typeof a);for(var u=new kf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Nl(t.Lt,e)})),i=n.mutations.map((function(e){return Nl(t.Lt,e)}));return new Yl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Gh((function(t,e){return Mu(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Jl.key(i.userId,d.key.path,a);l=l.add(d.key.path.popLast()),h.push(s.put(c)),h.push(o.put(v,Jl.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),vf.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return tp(t).get(e).next((function(t){return t?(Cu(t.userId===n.userId),jf(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?vf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return tp(t).Ot({index:Yl.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Cu(e.batchId>=r),o=jf(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tp(t).Ot({index:Yl.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tp(t).Nt(Yl.userMutationsIndex,n).next((function(t){return t.map((function(t){return jf(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Jl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ep(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Hl(u);if(a===n.userId&&e.path.isEqual(h))return tp(t).get(c).next((function(t){if(!t)throw xu();Cu(t.userId===n.userId),o.push(jf(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(Mu),i=[];return e.forEach((function(e){var o=Jl.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ep(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Hl(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),vf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jl.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Gh(Mu);return ep(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Hl(u);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(tp(t).get(e).next((function(t){if(null===t)throw xu();Cu(t.userId===n.userId),r.push(jf(n.R,t))})))})),vf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qf(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),vf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return vf.resolve();var r=IDBKeyRange.lowerBound(Jl.prefixForUser(e.userId)),i=[];return ep(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Hl(t[1]);i.push(o)}else r.done()})).next((function(){Cu(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Zf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return np(t).get(this.userId).next((function(t){return t||new Ql(e.userId,-1,"")}))},t}();function Zf(t,e,n){var r=Jl.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ep(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function tp(t){return Af(t,Yl.store)}function ep(t){return Af(t,Jl.store)}function np(t){return Af(t,Ql.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ip=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new rp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Uu.fromTimestamp(new Vu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return op(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Cu(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return op(t).Ot((function(s,a){var u=Ff(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return vf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return op(t).Ot((function(t,n){var r=Ff(n);e(r)}))},t.prototype.Xt=function(t){return sp(t).get(sf.key).next((function(t){return Cu(null!==t),t}))},t.prototype.Zt=function(t,e){return sp(t).put(sf.key,e)},t.prototype.te=function(t,e){return op(t).put(Vf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Sc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return op(t).Ot({range:r,index:rf.queryTargetsIndexName},(function(t,n,r){var o=Ff(n);Ac(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ap(t);return e.forEach((function(e){var s=$l(e.path);i.push(o.put(new of(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),vf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ap(t);return vf.forEach(e,(function(e){var o=$l(e.path);return vf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ap(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ap(t),i=tl();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Hl(t[1]),o=new sc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=$l(e.path),r=IDBKeyRange.bound([n],[Fu(n)],!1,!0),i=0;return ap(t).Ot({index:of.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return op(t).get(e).next((function(t){return t?Ff(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){return Af(t,rf.store)}function sp(t){return Af(t,sf.store)}function ap(t){return Af(t,of.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){if(t.code!==_u.FAILED_PRECONDITION||t.message!==ff)throw t;return ku("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Mu(n,i);return 0===s?Mu(r,o):s}var hp=function(){function t(t){this.ne=t,this.buffer=new Gh(cp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();cp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ku("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ue(e,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return wf(e=n.sent())?(ku("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,up(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),fp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vf.resolve(Eu.o);var r=new hp(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ku("LruGarbageCollector","Garbage collection skipped; disabled"),vf.resolve(Wf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ku("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Wf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(ku("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Au()<=vn.DEBUG&&ku("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),vf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),pp=function(){function t(t,e){this.db=t,this.garbageCollector=new fp(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return dp(t,n)},t.prototype.removeReference=function(t,e,n){return dp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return dp(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,np(n=t).$t((function(t){return Zf(n,t,r).next((function(t){return t&&(i=!0),vf.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),ap(t).delete([0,$l(s.path)])}))}));i.push(u)}})).next((function(){return vf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return dp(t,e)},t.prototype.we=function(t,e){var n,r=ap(t),i=Eu.o;return r.Ot({index:of.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Eu.o&&e(new sc(Hl(n)),i),i=a,n=s):i=Eu.o})).next((function(){i!==Eu.o&&e(new sc(Hl(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function dp(t,e){return ap(t).put((n=e,r=t.currentSequenceNumber,new of(0,$l(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bu(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return Ku(this.inner)},t}(),yp=function(){function t(){this.changes=new vp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Uu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ec.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),mp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return wp(t).put(Ip(e),n)},t.prototype.removeEntry=function(t,e){var n=wp(t),r=Ip(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return wp(t).get(Ip(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return wp(t).get(Ip(e)).next((function(t){return{document:n.ye(e,t),size:Yf(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Xh();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Xh(),i=new Kh(sc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Yf(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return wp(t).Ot({range:r},(function(t,e,r){for(var s=sc.fromSegments(t);o&&sc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Xh(),o=e.path.length+1,s={};if(n.isEqual(Uu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Pf(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=ef.collectionReadTimeIndex}return wp(t).Ot(s,(function(t,n,s){if(t.length===o){var a=xf(r.R,n);e.path.isPrefixOf(a.key.path)?rh(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new gp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return bp(t).get(nf.key).next((function(t){return Cu(!!t),t}))},t.prototype.me=function(t,e){return bp(t).put(nf.key,e)},t.prototype.ye=function(t,e){if(e){var n=xf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Uu.min()))return n}return Ec.newInvalidDocument(t)},t}(),gp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new vp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Fe(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Gh((function(t,e){return Mu(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Cf(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Yf(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var h=Cf(e.Ie.R,Ec.newNoDocument(o,Uu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),vf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(yp);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){return Af(t,nf.store)}function wp(t){return Af(t,ef.store)}function Ip(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ep=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Cu(n<r&&n>=0&&r<=11);var o=new yf("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(Xl.store),function(t){t.createObjectStore(Ql.store,{keyPath:Ql.keyPath}),t.createObjectStore(Yl.store,{keyPath:Yl.keyPath,autoIncrement:!0}).createIndex(Yl.userMutationsIndex,Yl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jl.store)}(t),_p(t),function(t){t.createObjectStore(ef.store)}(t));var s=vf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(of.store),t.deleteObjectStore(rf.store),t.deleteObjectStore(sf.store)}(t),_p(t)),s=s.next((function(){return function(t){var e=t.store(sf.store),n=new sf(0,0,Uu.min().toTimestamp(),0);return e.put(sf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Yl.store).Nt().next((function(n){t.deleteObjectStore(Yl.store),t.createObjectStore(Yl.store,{keyPath:Yl.keyPath,autoIncrement:!0}).createIndex(Yl.userMutationsIndex,Yl.userMutationsKeyPath,{unique:!0});var r=e.store(Yl.store),i=n.map((function(t){return r.put(t)}));return vf.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(uf.store,{keyPath:uf.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(nf.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ef.store);e.createIndex(ef.readTimeIndex,ef.readTimeIndexPath,{unique:!1}),e.createIndex(ef.collectionReadTimeIndex,ef.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(cf.store,{keyPath:cf.keyPath})}(t),function(t){t.createObjectStore(hf.store,{keyPath:hf.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(ef.store).Ot((function(t,n){e+=Yf(n)})).next((function(){var n=new nf(e);return t.store(nf.store).put(nf.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ql.store),r=t.store(Yl.store);return n.Nt().next((function(n){return vf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Yl.userMutationsIndex,i).next((function(r){return vf.forEach(r,(function(r){Cu(r.userId===n.userId);var i=jf(e.R,r);return Qf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(of.store),n=t.store(ef.store);return t.store(sf.store).get(sf.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new zu(n),s=[0,$l(o)];r.push(e.get(s).next((function(n){return n?vf.resolve():(r=o,e.put(new of(0,$l(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return vf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(af.store,{keyPath:af.keyPath});var n=e.store(af.store),r=new zf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:$l(i)})}};return e.store(ef.store).Ot({kt:!0},(function(t,e){var n=new zu(t);return i(n.popLast())})).next((function(){return e.store(Jl.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Hl(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(rf.store);return n.Ot((function(t,r){var i=Ff(r),o=Vf(e.R,i);return n.put(o)}))},t}();function _p(t){t.createObjectStore(of.store,{keyPath:of.keyPath}).createIndex(of.documentTargetsIndex,of.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rf.store,{keyPath:rf.keyPath}).createIndex(rf.queryTargetsIndexName,rf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sf.store)}var Tp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sp=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Tu(_u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var l,f;this.referenceDelegate=new pp(this,i),this.Le=n+"main",this.R=new Of(u),this.Be=new mf(this.Le,11,new Ep(this.R)),this.qe=new ip(this.referenceDelegate,this.R),this.Ut=new Gf,this.Ue=(l=this.R,f=this.Ut,new mp(l,f)),this.Qe=new qf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&Nu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Tu(_u.FAILED_PRECONDITION,Tp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Eu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ue(e,void 0,void 0,(function(){return qe(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ue(e,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ue(e,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return kp(e).put(new uf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(wf(e))return ku("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ku("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ap(t).get(Xl.key).next((function(t){return vf.resolve(e.tn(t))}))},t.prototype.en=function(t){return kp(t).delete(this.clientId)},t.prototype.nn=function(){return Ue(this,void 0,void 0,(function(){var t,e,n,r,i=this;return qe(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Af(t,uf.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return vf.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vf.resolve(!0):Ap(t).get(Xl.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Tu(_u.FAILED_PRECONDITION,Tp);return!1}}return!(!e.networkEnabled||!e.inForeground)||kp(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ku("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ue(this,void 0,void 0,(function(){var t=this;return qe(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xl.store,uf.store],(function(e){var n=new Sf(e,Eu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return kp(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Jf.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ku("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,lf,(function(o){return i=new Sf(o,r.Ne?r.Ne.next():Eu.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Nu("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Tu(_u.FAILED_PRECONDITION,ff);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ap(t).get(Xl.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Tu(_u.FAILED_PRECONDITION,Tp)}))},t.prototype.Ze=function(t){var e=new Xl(this.clientId,this.allowTabSynchronization,Date.now());return Ap(t).put(Xl.key,e)},t.yt=function(){return mf.yt()},t.prototype.Xe=function(t){var e=this,n=Ap(t);return n.get(Xl.key).next((function(t){return e.tn(t)?(ku("IndexedDbPersistence","Releasing primary lease."),n.delete(Xl.key)):vf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ku("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Nu("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Nu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ap(t){return Af(t,Xl.store)}function kp(t){return Af(t,uf.store)}function Np(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Dp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,sc.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Qc(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new sc(e)).next((function(t){var e=Yh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yh();return this.Ut.getCollectionParents(t,i).next((function(s){return vf.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new Kc(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c);null==h&&(h=Ec.newInvalidDocument(c),r=r.insert(c,h)),kh(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){rh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=tl(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ch&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Op=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=tl(),i=tl(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Uu.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Gc(e)||Hc(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(Au()<=vn.DEBUG&&ku("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nh(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Gh(ih(t));return e.forEach((function(e,r){rh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Au()<=vn.DEBUG&&ku("QueryEngine","Using full collection scan to execute query:",nh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Uu.min())},t}(),Cp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Kh(Mu),this.kn=new vp((function(t){return Sc(t)}),Ac),this.On=Uu.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Dp(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e,n,r){return new Cp(t,e,n,r)}function Rp(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o;return qe(this,(function(s){switch(s.label){case 0:return n=Pu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Dp(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=tl(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Lp(t,e){var n=Pu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,h=e.batch.keys(),l=n.$n.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=l,a=o.batch,u=a.keys(),c=vf.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);Cu(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return l.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,h)}))}))}function Mp(t){var e=Pu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function jp(t,e){var n=Pu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,h=i.get(o);if(h){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var l=e.resumeToken;if(l.approximateByteSize()>0){var f=h.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=h,c=e,Cu((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=Xh();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=tl();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Xh();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Uu.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ku("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Uu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return vf.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Fp(t,e){var n=Pu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Vp(t,e){var n=Pu(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,vf.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Df(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Up(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s;return qe(this,(function(a){switch(a.label){case 0:r=Pu(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!wf(s=a.sent()))throw s;return ku("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function qp(t,e,n){var r=Pu(t),i=Uu.min(),o=tl();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Jc(e),c=Pu(s),h=c.kn.get(u),void 0!==h?vf.resolve(c.Fn.get(h)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Uu.min(),n?o:tl())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,h}))}function Bp(t,e){var n=Pu(t),r=Pu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Kp(t){var e=Pu(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.$n,r=t,i=e.On,o=Pu(n),s=Xh(),a=Pf(i),u=wp(r),c=IDBKeyRange.lowerBound(a,!0),u.Ot({index:ef.readTimeIndex,range:c},(function(t,e){var n=xf(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:Rf(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function $p(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){return[2,(e=Pu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=wp(t),n=Uu.min(),e.Ot({index:ef.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Rf(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.On=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:gl(n.createTime)}),vf.resolve()},t.prototype.getNamedQuery=function(t,e){return vf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Uf(n.bundledQuery),readTime:gl(n.readTime)}),vf.resolve();var n},t}(),Gp=function(){function t(){this.Wn=new Gh(Hp.Gn),this.zn=new Gh(Hp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Hp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Hp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new sc(new zu([])),r=new Hp(n,t),i=new Hp(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new sc(new zu([])),n=new Hp(e,t),r=new Hp(e,t+1),i=tl();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Hp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Hp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return sc.comparator(t.key,e.key)||Mu(t.ns,e.ns)},t.Hn=function(t,e){return Mu(t.ns,e.ns)||sc.comparator(t.key,e.key)},t}(),Wp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Gh(Hp.Gn)}return t.prototype.checkEmpty=function(t){return vf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new kf(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Hp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return vf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return vf.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Hp(e,0),i=new Hp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),vf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(Mu);return e.forEach((function(t){var e=new Hp(t,0),i=new Hp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),vf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;sc.isDocumentKey(i)||(i=i.child(""));var o=new Hp(new sc(i),0),s=new Gh(Mu);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),vf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Cu(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return vf.forEach(e.mutations,(function(i){var o=new Hp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Hp(e,0),r=this.rs.firstAfterOrEqual(n);return vf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,vf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Xp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Kh(sc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vf.resolve(n?n.document.clone():Ec.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Xh();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ec.newInvalidDocument(t))})),vf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Xh(),i=new sc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(a.path))break;h.compareTo(n)<=0||rh(e,c)&&(r=r.insert(c.key,c.clone()))}return vf.resolve(r)},t.prototype.fs=function(t,e){return vf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Qp(this)},t.prototype.getSize=function(t){return vf.resolve(this.size)},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Fe(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),vf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(yp),Yp=function(){function t(t){this.persistence=t,this.ds=new vp((function(t){return Sc(t)}),Ac),this.lastRemoteSnapshotVersion=Uu.min(),this.highestTargetId=0,this.ws=0,this._s=new Gp,this.targetCount=0,this.ys=rp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),vf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new rp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),vf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return vf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),vf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vf.resolve(n)},t.prototype.containsKey=function(t,e){return vf.resolve(this._s.containsKey(e))},t}(),Jp=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Eu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Yp(this),this.Ut=new $f,this.Ue=(n=this.Ut,new Xp(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new Of(e),this.Qe=new zp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Wp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ku("MemoryPersistence","Starting transaction:",t);var i=new Zp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return vf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Fe(e,t),e}(pf),td=function(){function t(t){this.persistence=t,this.As=new Gp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw xu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vf.forEach(this.vs,(function(r){var i=sc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vf.or([function(){return vf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ed=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e){return"firestore_clients_"+t+"_"+e}function rd(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function id(t,e){return"firestore_targets_"+t+"_"+e}ed.UNAUTHENTICATED=new ed(null),ed.GOOGLE_CREDENTIALS=new ed("google-credentials-uid"),ed.FIRST_PARTY=new ed("first-party-uid");var od=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Tu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sd=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ad=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=nl(),s=0;i&&s<r.activeTargetIds.length;++s)i=oc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ud=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nu("SharedClientState","Failed to parse online state: "+e),null)},t}(),cd=function(){function t(){this.activeTargetIds=nl()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hd=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Kh(Mu),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=nd(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new cd),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ue(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,l=this;return qe(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(nd(this.persistenceKey,r)))&&(o=ad.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(id(this.persistenceKey,t));if(n){var r=sd.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(id(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ku("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ku("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ku("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ku("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Nu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ue(e,void 0,void 0,(function(){var t,e,r,i,o,s;return qe(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Eu.o;if(null!=t)try{var n=JSON.parse(t);Cu("number"==typeof n),e=n}catch(r){Nu("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Eu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new od(this.currentUser,t,e,n),i=rd(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=rd(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=id(this.persistenceKey,t),i=new sd(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ad.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return od.Vs(new ed(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sd.Vs(r,e)},t.prototype.js=function(t){return ud.Vs(t)},t.prototype.ii=function(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ku("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=nl();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ld=function(){function t(){this.li=new cd,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new cd,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),fd=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),pd=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ku("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ku("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vd=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),yd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Fe(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Iu;s.listenOnce(yu.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case vu.NO_ERROR:var e=s.getResponseJson();ku("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vu.TIMEOUT:ku("Connection",'RPC "'+t+'" timed out'),o(new Tu(_u.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:var n=s.getStatus();if(ku("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(_u).indexOf(c)>=0?c:_u.UNKNOWN);o(new Tu(a,r.message))}else o(new Tu(_u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Tu(_u.UNAVAILABLE,"Connection failed."));break;default:xu()}}finally{ku("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new hu,o=fs(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())||"object"==typeof navigator&&"ReactNative"===navigator.product||He().indexOf("Electron/")>=0||((n=He()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||He().indexOf("MSAppHost/")>=0||Xe()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");ku("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,h=!1,l=new vd({Ei:function(t){h?ku("Connection","Not sending because WebChannel is closed:",t):(c||(ku("Connection","Opening WebChannel transport."),u.open(),c=!0),ku("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,wu.EventType.OPEN,(function(){h||ku("Connection","WebChannel transport opened.")})),f(u,wu.EventType.CLOSE,(function(){h||(h=!0,ku("Connection","WebChannel transport closed"),l.Vi())})),f(u,wu.EventType.ERROR,(function(t){h||(h=!0,Du("Connection","WebChannel transport errored:",t),l.Vi(new Tu(_u.UNAVAILABLE,"The operation could not be completed")))})),f(u,wu.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Cu(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ku("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Mh[t];if(void 0!==e)return Bh(e)}(o),a=i.message;void 0===s&&(s=_u.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new Tu(s,a)),u.close()}else ku("Connection","WebChannel received:",n),l.Si(n)}})),f(o,mu.STAT_EVENT,(function(t){t.stat===gu?ku("Connection","Detected buffering proxy"):t.stat===bu&&ku("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ku("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return ku("RestConnection","Received: ",t),t}),(function(e){throw Du("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.3",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=dd[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(){return"undefined"!=typeof window?window:null}function gd(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){return new dl(t,!0)}var wd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ku("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Id=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new wd(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ue(this,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===_u.RESOURCE_EXHAUSTED?(Nu(e.toString()),Nu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===_u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Tu(_u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ue(t,void 0,void 0,(function(){return qe(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return ku("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(ku("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ed=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Fe(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:xu(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Cu(void 0===e||"string"==typeof e),Xu.fromBase64String(e||"")):(Cu(void 0===e||e instanceof Uint8Array),Xu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?_u.UNKNOWN:Bh(t.code);return new Tu(e,t.message||"")}(u);n=new al(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=El(t,i.document.name),s=gl(i.document.updateTime);var u=new wc({mapValue:{fields:i.document.fields}}),c=(a=Ec.newFoundDocument(o,s,u),i.targetIds||[]),h=i.removedTargetIds||[];n=new ol(c,h,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=El(t,i.document),s=i.readTime?gl(i.readTime):Uu.min(),u=Ec.newNoDocument(o,s),a=i.removedTargetIds||[],n=new ol([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=El(t,i.document),s=i.removedTargetIds||[],n=new ol([],s,o,null);else{if(!("filter"in e))return xu();e.filter;var l=e.filter;l.targetId,i=l.count||0,o=new Uh(i),s=l.targetId,n=new sl(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Uu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Uu.min():e.readTime?gl(e.readTime):Uu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=Sl(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=kc(i)?{documents:Ol(e,i)}:{query:xl(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=yl(e,n.resumeToken):n.snapshotVersion.compareTo(Uu.min())>0&&(r.readTime=vl(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=Sl(this.R),e.removeTarget=t,this.cr(e)},e}(Id),_d=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Fe(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Cu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Cu(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?gl(e.updateTime):gl(n)).isEqual(Uu.min())&&(r=gl(n)),new Eh(r,e.transformResults||[]);var e,n,r}))):[]),n=gl(t.commitTime);return this.listener.Tr(n,e)}var r,i;return Cu(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Sl(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Nl(e.R,t)}))};this.cr(n)},e}(Id),Td=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Fe(e,t),e.prototype.br=function(){if(this.Rr)throw new Tu(_u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw t.code===_u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw t.code===_u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Rr=!1},e}((function(){})),Sd=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Nu(e),this.Vr=!1):ku("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ad=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ue(o,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return Ld(this)?(ku("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return(e=Pu(t)).$r.add(4),[4,Nd(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,kd(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Sd(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return Ue(this,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:if(!Ld(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Nd(t){return Ue(this,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Dd(t,e){var n=Pu(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Rd(n)?Pd(n):Qd(n).er()&&xd(n,e))}function Od(t,e){var n=Pu(t),r=Qd(n);n.Or.delete(e),r.er()&&Cd(n,e),0===n.Or.size&&(r.er()?r.ir():Ld(n)&&n.Br.set("Unknown"))}function xd(t,e){t.qr.U(e.targetId),Qd(t).mr(e)}function Cd(t,e){t.qr.U(e),Qd(t).yr(e)}function Pd(t){t.qr=new cl({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Qd(t).start(),t.Br.Sr()}function Rd(t){return Ld(t)&&!Qd(t).tr()&&t.Or.size>0}function Ld(t){return 0===Pu(t).$r.size}function Md(t){t.qr=void 0}function jd(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){return t.Or.forEach((function(e,n){xd(t,e)})),[2]}))}))}function Fd(t,e){return Ue(this,void 0,void 0,(function(){return qe(this,(function(n){return Md(t),Rd(t)?(t.Br.Nr(e),Pd(t)):t.Br.set("Unknown"),[2]}))}))}function Vd(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o;return qe(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof al&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o;return qe(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ku("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ud(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ol?t.qr.X(e):e instanceof sl?t.qr.rt(e):t.qr.et(e),n.isEqual(Uu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Mp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.Or.get(e);n&&a.Or.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.Or.get(t);if(e){a.Or.set(t,e.withResumeToken(Xu.EMPTY_BYTE_STRING,e.snapshotVersion)),Cd(a,t);var n=new Df(e.target,t,1,e.sequenceNumber);xd(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ku("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ud(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Ud(t,e,n){return Ue(this,void 0,void 0,(function(){var r=this;return qe(this,(function(i){switch(i.label){case 0:if(!wf(e))throw e;return t.$r.add(1),[4,Nd(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Mp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ue(r,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return ku("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,kd(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function qd(t,e){return e().catch((function(n){return Ud(t,n,e)}))}function Bd(t){return Ue(this,void 0,void 0,(function(){var e,n,r,i,o;return qe(this,(function(s){switch(s.label){case 0:e=Pu(t),n=Yd(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(Ld(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Fp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Yd(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Ud(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Kd(e)&&$d(e),[2]}var a}))}))}function Kd(t){return Ld(t)&&!Yd(t).tr()&&t.kr.length>0}function $d(t){Yd(t).start()}function zd(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){return Yd(t).Ar(),[2]}))}))}function Gd(t){return Ue(this,void 0,void 0,(function(){var e,n,r,i;return qe(this,(function(o){for(e=Yd(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Hd(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i;return qe(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Nf.from(r,e,n),[4,qd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Bd(t)];case 2:return o.sent(),[2]}}))}))}function Wd(t,e){return Ue(this,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return e&&Yd(t).pr?[4,function(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return qh(r=e.code)&&r!==_u.ABORTED?(n=t.kr.shift(),Yd(t).sr(),[4,qd(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Bd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kd(t)&&$d(t),[2]}}))}))}function Xd(t,e){return Ue(this,void 0,void 0,(function(){var n;return qe(this,(function(r){switch(r.label){case 0:return n=Pu(t),e?(n.$r.delete(2),[4,kd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Nd(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Qd(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:jd.bind(null,t),Ri:Fd.bind(null,t),_r:Vd.bind(null,t)},(i=Pu(e)).br(),new Ed(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ue(o,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Rd(t)?Pd(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Md(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Yd(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:zd.bind(null,t),Ri:Wd.bind(null,t),Ir:Gd.bind(null,t),Tr:Hd.bind(null,t)},(i=Pu(e)).br(),new _d(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ue(o,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Bd(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(ku("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var Jd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new df,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tu(_u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Zd(t,e){if(Nu("AsyncQueue",e+": "+t),wf(t))return new Tu(_u.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||sc.comparator(e.key,n.key)}:function(t,e){return sc.comparator(t.key,e.key)},this.keyedMap=Yh(),this.sortedSet=new Kh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ev=function(){function t(){this.Kr=new Kh(sc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):xu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),nv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,tv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),rv=function(){this.Wr=void 0,this.listeners=[]},iv=function(){this.queries=new vp((function(t){return eh(t)}),th),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return qe(this,(function(c){switch(c.label){case 0:if(n=Pu(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new rv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Zd(a,"Initialization of query '"+nh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&cv(n),[2]}}))}))}function sv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s;return qe(this,(function(a){return n=Pu(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function av(t,e){for(var n=Pu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(s)&&(r=!0);u.Wr=s}}r&&cv(n)}function uv(t,e,n){var r=Pu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cv(t){t.Gr.forEach((function(t){t.next()}))}var hv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new nv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=nv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),lv=function(t){this.key=t},fv=function(t){this.key=t},pv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=tl(),this.mutatedKeys=tl(),this.lo=ih(t),this.fo=new tv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ev,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Gc(this.query)&&i.size===this.query.limit?i.last():null,c=Hc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=rh(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),p=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data.isEqual(l.data)?f!==p&&(r.track({type:3,doc:l}),d=!0):n.yo(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Gc(this.query)||Hc(this.query))for(;s.size>this.query.limit;){var h=Gc(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xu()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new nv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ev,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=tl(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new fv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new lv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=tl();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return nv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),dv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},vv=function(t){this.key=t,this.bo=!1},yv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vp((function(t){return eh(t)}),th),this.Vo=new Map,this.So=new Set,this.Do=new Kh(sc.comparator),this.Co=new Map,this.No=new Gp,this.xo={},this.Fo=new Map,this.ko=rp.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a;return qe(this,(function(u){switch(u.label){case 0:return n=Gv(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Vp(n.localStore,Jc(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,gv(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&Dd(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function gv(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o,s,a,u,c;return qe(this,(function(h){switch(h.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o,s;return qe(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,qp(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(xv(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,qp(t.localStore,e,!0)];case 1:return i=h.sent(),o=new pv(e,i.Bn),s=o._o(i.documents),a=il.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),xv(t,n,u.To),c=new dv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function bv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:return n=Pu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!th(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Up(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Od(n.remoteStore,r.targetId),Dv(n,r.targetId)})).catch(up)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Dv(n,r.targetId),[4,Up(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function wv(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s;return qe(this,(function(a){switch(a.label){case 0:r=Hv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,l=Pu(u),f=Vu.now(),p=c.reduce((function(t,e){return t.add(e.key)}),tl()),l.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return l.Mn.pn(t,p).next((function(e){h=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=Nh(o,h.get(o.key));null!=s&&n.push(new Ch(o.key,s,Ic(s.toProto().mapValue),_h.exists(!0)))}return l._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(h),{batchId:t.batchId,changes:h}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Kh(Mu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Rv(r,i.changes)];case 3:return a.sent(),[4,Bd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Zd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,h,l,f,p}))}))}function Iv(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:n=Pu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,jp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Cu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Cu(r.bo):t.removedDocuments.size>0&&(Cu(r.bo),r.bo=!1))})),[4,Rv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,up(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ev(t,e,n){var r=Pu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Pu(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&cv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _v(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s,a,u;return qe(this,(function(c){switch(c.label){case 0:return(r=Pu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Kh(sc.comparator)).insert(o,Ec.newNoDocument(o,Uu.min())),a=tl().add(o),u=new rl(Uu.min(),new Map,new Gh(Mu),s,a),[4,Iv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Pv(r),[3,4];case 2:return[4,Up(r.localStore,e,!1).then((function(){return Dv(r,e,n)})).catch(up)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Tv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:n=Pu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Lp(n.localStore,e)];case 2:return i=o.sent(),Nv(n,r,null),kv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Rv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,up(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sv(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i;return qe(this,(function(o){switch(o.label){case 0:r=Pu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=Pu(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return Cu(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),Nv(r,e,n),kv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Rv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,up(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function Av(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s;return qe(this,(function(a){switch(a.label){case 0:Ld((n=Pu(t)).remoteStore)||ku("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=Pu(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Zd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function kv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Nv(t,e,n){var r=Pu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Dv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Ov(t,e)}))}function Ov(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Od(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Pv(t))}function xv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof lv?(t.No.addReference(o.key,e),Cv(t,o)):o instanceof fv?(ku("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ov(t,o.key)):xu()}}function Cv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ku("SyncEngine","New document in limbo: "+n),t.So.add(r),Pv(t))}function Pv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new sc(zu.fromString(e)),r=t.ko.next();t.Co.set(r,new vv(n)),t.Do=t.Do.insert(n,r),Dd(t.remoteStore,new Df(Jc(zc(n.path)),r,2,Eu.o))}}function Rv(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s;return qe(this,(function(a){switch(a.label){case 0:return r=Pu(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Op.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return qe(this,(function(l){switch(l.label){case 0:n=Pu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vf.forEach(e,(function(e){return vf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return vf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!wf(r=l.sent()))throw r;return ku("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,h));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Lv(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return(n=Pu(t)).currentUser.isEqual(e)?[3,3]:(ku("SyncEngine","User change. New user:",e.toKey()),[4,Rp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new Tu(_u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Rv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Mv(t,e){var n=Pu(t),r=n.Co.get(e);if(r&&r.bo)return tl().add(r.key);var i=tl(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function jv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:return[4,qp((n=Pu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&xv(n,e.targetId,i.To),i)]}}))}))}function Fv(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){return[2,Kp((e=Pu(t)).localStore).then((function(t){return Rv(e,t)}))]}))}))}function Vv(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o;return qe(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Pu(t)).localStore,u=e,c=Pu(a),h=Pu(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return h.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):vf.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Bd(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Nv(i,e,r||null),kv(i,e),function(t,e){Pu(Pu(t)._n).Gt(e)}(i.localStore,e)):xu(),s.label=4;case 4:return[4,Rv(i,o)];case 5:return s.sent(),[3,7];case 6:ku("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,h}))}))}function Uv(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return qe(this,(function(h){switch(h.label){case 0:return Gv(n=Pu(t)),Hv(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qv(n,r.toArray())]);case 1:return i=h.sent(),n.Oo=!0,[4,Xd(n.remoteStore,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],Dd(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Dv(n,e),Up(n.localStore,e,!0)})),Od(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,qv(n,u)];case 5:return h.sent(),(l=Pu(n)).Co.forEach((function(t,e){Od(l.remoteStore,e)})),l.No.ts(),l.Co=new Map,l.Do=new Kh(sc.comparator),n.Oo=!1,[4,Xd(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var l}))}))}function qv(t,e,n){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,l,f,p,d,v;return qe(this,(function(y){switch(y.label){case 0:n=Pu(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Vp(n.localStore,Jc(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,l=c,y.label=3;case 3:return h<l.length?(f=l[h],p=n.Po.get(f),[4,jv(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Bp(n.localStore,a)];case 8:return v=y.sent(),[4,Vp(n.localStore,v)];case 9:return u=y.sent(),[4,gv(n,Bv(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bv(t){return $c(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Kv(t){var e=Pu(t);return Pu(Pu(e.localStore).persistence).fn()}function $v(t,e,n,r){return Ue(this,void 0,void 0,(function(){var i,o,s;return qe(this,(function(a){switch(a.label){case 0:return(i=Pu(t)).Oo?(ku("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kp(i.localStore)];case 3:return o=a.sent(),s=rl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Rv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Up(i.localStore,e,!0)];case 6:return a.sent(),Dv(i,e,r),[3,8];case 7:xu(),a.label=8;case 8:return[2]}}))}))}function zv(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f;return qe(this,(function(p){switch(p.label){case 0:if(!(r=Gv(t)).Oo)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(ku("SyncEngine","Adding an already active target "+s),[3,5]):[4,Bp(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,Vp(r.localStore,a)];case 3:return u=p.sent(),[4,gv(r,Bv(a),u.targetId,!1)];case 4:p.sent(),Dd(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return qe(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Up(r.localStore,t,!1).then((function(){Od(r.remoteStore,t),Dv(r,t)})).catch(up)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,p.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Gv(t){var e=Pu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_v.bind(null,e),e.vo._r=av.bind(null,e.eventManager),e.vo.Mo=uv.bind(null,e.eventManager),e}function Hv(t){var e=Pu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}var Wv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return this.R=bd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Pp(this.persistence,new xp,t.initialUser,this.R)},t.prototype.qo=function(t){return new Jp(td.bs,this.R)},t.prototype.Bo=function(t){return new ld},t.prototype.terminate=function(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Fe(e,t),e.prototype.initialize=function(e){return Ue(this,void 0,void 0,(function(){return qe(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$p(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Hv(this.Ko.syncEngine)];case 4:return n.sent(),[4,Bd(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Pp(this.persistence,new xp,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new lp(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Np(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xf.withCacheSize(this.cacheSizeBytes):Xf.DEFAULT;return new Sp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,md(),gd(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ld},e}(Wv),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Fe(e,t),e.prototype.initialize=function(e){return Ue(this,void 0,void 0,(function(){var n,r=this;return qe(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof hd?(this.sharedClientState.syncEngine={ui:Vv.bind(null,n),ai:$v.bind(null,n),hi:zv.bind(null,n),fn:Kv.bind(null,n),ci:Fv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ue(r,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return[4,Uv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=md();if(!hd.yt(e))throw new Tu(_u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Np(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hd(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Xv),Yv=function(){function t(){}return t.prototype.initialize=function(t,e){return Ue(this,void 0,void 0,(function(){var n=this;return qe(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ev(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lv.bind(null,this.syncEngine),[4,Xd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new iv},t.prototype.createDatastore=function(t){var e,n,r=bd(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new yd(e));return n=t.credentials,new Td(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ev(s.syncEngine,t,0)},o=pd.yt()?new pd:new fd,new Ad(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new yv(n,r,i,o,s,a),u&&(c.Oo=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return e=Pu(t),ku("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Nd(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Jv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Zv=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ue(this,void 0,void 0,(function(){var e,n=this;return qe(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Tu(_u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i,o,s,a;return qe(this,(function(u){switch(u.label){case 0:return n=Pu(t),r=Sl(n.R)+"/documents",i={documents:e.map((function(t){return Il(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){Cu(!!e.found),e.found.name,e.found.updateTime;var n=El(t,e.found.name),r=gl(e.found.updateTime),i=new wc({mapValue:{fields:e.found.fields}});return Ec.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){Cu(!!e.missing),Cu(!!e.readTime);var n=El(t,e.missing),r=gl(e.readTime);return Ec.newNoDocument(n,r)}(e,r):xu());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Cu(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Fh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ue(this,void 0,void 0,(function(){var t,e=this;return qe(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=sc.fromPath(n);e.mutations.push(new Vh(r,e.precondition(r)))})),[4,function(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i;return qe(this,(function(o){switch(o.label){case 0:return n=Pu(t),r=Sl(n.R)+"/documents",i={writes:e.map((function(t){return Nl(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw xu();e=Uu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Tu(_u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_h.updateTime(e):_h.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Uu.min()))throw new Tu(_u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _h.updateTime(e)}return _h.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ty=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new wd(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ue(t,void 0,void 0,(function(){var t,e,n=this;return qe(this,(function(r){return t=new Zv(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!rc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!qh(e)}return!1},t}(),ey=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ed.UNAUTHENTICATED,this.clientId=Lu.u(),this.credentialListener=function(){},this.receivedInitialUser=new df,this.credentials.setChangeListener((function(t){ku("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Tu(_u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new df;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ue(t,void 0,void 0,(function(){var t,n;return qe(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Zd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ny(t,e){return Ue(this,void 0,void 0,(function(){var n,r,i=this;return qe(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ku("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Ue(i,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return[4,Rp(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ry(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,iy(t)];case 1:return n=i.sent(),ku("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Ue(this,void 0,void 0,(function(){var n,r;return qe(this,(function(i){switch(i.label){case 0:return(n=Pu(t)).asyncQueue.verifyOperationInProgress(),ku("RemoteStore","RemoteStore received new credentials"),r=Ld(n),n.$r.add(3),[4,Nd(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,kd(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function iy(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ku("FirestoreClient","Using default OfflineComponentProvider"),[4,ny(t,new Wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function oy(t){return Ue(this,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ku("FirestoreClient","Using default OnlineComponentProvider"),[4,ry(t,new Yv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function sy(t){return iy(t).then((function(t){return t.persistence}))}function ay(t){return iy(t).then((function(t){return t.localStore}))}function uy(t){return oy(t).then((function(t){return t.remoteStore}))}function cy(t){return oy(t).then((function(t){return t.syncEngine}))}function hy(t){return Ue(this,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:return[4,oy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=mv.bind(null,e.syncEngine),n.onUnlisten=bv.bind(null,e.syncEngine),n)]}}))}))}function ly(t,e,n){var r=this;void 0===n&&(n={});var i=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(r,void 0,void 0,(function(){var r;return qe(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jv({next:function(o){e.enqueueAndForget((function(){return sv(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Tu(_u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Tu(_u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new hv(zc(n.path),o,{includeMetadataChanges:!0,so:!0});return ov(t,s)},[4,hy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function fy(t,e,n){var r=this;void 0===n&&(n={});var i=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(r,void 0,void 0,(function(){var r;return qe(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jv({next:function(n){e.enqueueAndForget((function(){return sv(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Tu(_u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new hv(n,o,{includeMetadataChanges:!0,so:!0});return ov(t,s)},[4,hy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var py=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},dy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vy=new Map,yy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},my=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ed.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),gy=function(){function t(t){var e=this;this.oc=null,this.currentUser=ed.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(ku("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Cu("string"==typeof n.accessToken),new yy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Cu(null===t||"string"==typeof t),new ed(t)},t}(),by=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ed.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),wy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new by(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ed.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){if(!n)throw new Tu(_u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ey(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tu(_u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _y(t,e,n,r){if(!0===e&&!0===r)throw new Tu(_u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ty(t){if(!sc.isDocumentKey(t))throw new Tu(_u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sy(t){if(sc.isDocumentKey(t))throw new Tu(_u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ay(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xu()}function ky(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tu(_u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ay(t);throw new Tu(_u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ny(t,e){if(e<=0)throw new Tu(_u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Tu(_u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tu(_u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,_y("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Oy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Dy({}),this._settingsFrozen=!1,t instanceof dy?(this._databaseId=t,this._credentials=new my):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Tu(_u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(t.options.projectId)}(t),this._credentials=new gy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Tu(_u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Tu(_u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new my;switch(t.type){case"gapi":var e=t.client;return Cu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Tu(_u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=vy.get(this))&&(ku("ComponentProvider","Removing Datastore"),vy.delete(this),t.terminate()),Promise.resolve();var t},t}(),xy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Py(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Cy=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Py=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zc(r))||this).firestore=e,i._path=r,i.type="collection",i}return Fe(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new xy(this.firestore,null,new sc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Cy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=cn(t),Iy("collection","path",e),t instanceof Oy)return Sy(n=zu.fromString.apply(zu,$e([e],r))),new Py(t,null,n);if(!(t instanceof xy||t instanceof Py))throw new Tu(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sy(n=zu.fromString.apply(zu,$e([t.path],r)).child(zu.fromString(e))),new Py(t.firestore,null,n)}function Ly(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=cn(t),1===arguments.length&&(e=Lu.u()),Iy("doc","path",e),t instanceof Oy)return Ty(n=zu.fromString.apply(zu,$e([e],r))),new xy(t,null,new sc(n));if(!(t instanceof xy||t instanceof Py))throw new Tu(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ty(n=t._path.child(zu.fromString.apply(zu,$e([e],r)))),new xy(t.firestore,t instanceof Py?t._converter:null,new sc(n))}function My(t,e){return t=cn(t),e=cn(e),(t instanceof xy||t instanceof Py)&&(e instanceof xy||e instanceof Py)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function jy(t,e){return t=cn(t),e=cn(e),t instanceof Cy&&e instanceof Cy&&t.firestore===e.firestore&&th(t._query,e._query)&&t._converter===e._converter}var Fy=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new wd(this,"async_queue_retry"),this.Ec=function(){var e=gd();e&&ku("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=gd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=gd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Ue(this,void 0,void 0,(function(){var t,e=this;return qe(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!wf(t=n.sent()))throw t;return ku("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Nu("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Jd.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&xu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Ue(this,void 0,void 0,(function(){var t;return qe(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Vy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Fy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Fe(e,t),e.prototype._terminate=function(){return this._firestoreClient||By(this),this._firestoreClient.terminate()},e}(Oy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return t._firestoreClient||By(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function By(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new py(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new ey(t._credentials,t._queue,a)}function Ky(t,e,n){var r=this,i=new df;return t.asyncQueue.enqueue((function(){return Ue(r,void 0,void 0,(function(){var r;return qe(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ny(t,n)];case 1:return o.sent(),[4,ry(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===_u.FAILED_PRECONDITION||s.code===_u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function $y(t){if(t._initialized||t._terminated)throw new Tu(_u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Tu(_u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Gy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xu.fromBase64String(e))}catch(n){throw new Tu(_u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Xu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Hy=function(t){this._methodName=t},Wy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tu(_u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tu(_u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Mu(this._lat,t._lat)||Mu(this._long,t._long)},t}(),Xy=/^__.*__$/,Qy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ch(t,this.data,this.fieldMask,e,this.fieldTransforms):new xh(t,this.data,e,this.fieldTransforms)},t}(),Yy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ch(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xu()}}var Zy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return bm(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Jy(this.Dc)&&Xy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),tm=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bd(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Zy({Dc:t,methodName:e,Lc:n,path:Hu.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function em(t){var e=t._freezeSettings(),n=bd(t._databaseId);return new tm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);vm("Data must be an object, but it was:",s,r);var a,u,c=pm(r,s);if(o.merge)a=new Wu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var p=ym(e,f[l],n);if(!s.contains(p))throw new Tu(_u.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");wm(h,p)||h.push(p)}a=new Wu(h),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Qy(new wc(c),a,u)}var rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hy);function im(t,e,n){return new Zy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype._toFieldTransform=function(t){return new Ih(t.path,new ph)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hy),sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Fe(e,t),e.prototype._toFieldTransform=function(t){var e=im(this,t,!0),n=this.qc.map((function(t){return fm(t,e)})),r=new dh(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hy),am=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Fe(e,t),e.prototype._toFieldTransform=function(t){var e=im(this,t,!0),n=this.qc.map((function(t){return fm(t,e)})),r=new yh(n);return new Ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hy),um=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Fe(e,t),e.prototype._toFieldTransform=function(t){var e=new gh(t.R,uh(t.R,this.Uc));return new Ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hy);function cm(t,e,n,r){var i=t.Bc(1,e,n);vm("Data must be an object, but it was:",i,r);var o=[],s=wc.empty();Bu(r,(function(t,r){var a=gm(e,t,n);r=cn(r);var u=i.kc(a);if(r instanceof rm)o.push(a);else{var c=fm(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Wu(o);return new Yy(s,a,i.fieldTransforms)}function hm(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[ym(e,r,n)],u=[i];if(o.length%2!=0)throw new Tu(_u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ym(e,o[c])),u.push(o[c+1]);for(var h=[],l=wc.empty(),f=a.length-1;f>=0;--f)if(!wm(h,a[f])){var p=a[f],d=u[f];d=cn(d);var v=s.kc(p);if(d instanceof rm)h.push(p);else{var y=fm(d,v);null!=y&&(h.push(p),l.set(p,y))}}var m=new Wu(h);return new Yy(l,m,s.fieldTransforms)}function lm(t,e,n,r){return void 0===r&&(r=!1),fm(n,t.Bc(r?4:3,e))}function fm(t,e){if(dm(t=cn(t)))return vm("Unsupported field value:",e,t),pm(t,e);if(t instanceof Hy)return function(t,e){if(!Jy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=fm(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=cn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vu.fromDate(t);return{timestampValue:vl(e.R,n)}}if(t instanceof Vu)return n=new Vu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:vl(e.R,n)};if(t instanceof Wy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gy)return{bytesValue:yl(e.R,t._byteString)};if(t instanceof xy){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Ay(t))}(t,e)}function pm(t,e){var n={};return Ku(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(t,(function(t,r){var i=fm(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function dm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vu||t instanceof Wy||t instanceof Gy||t instanceof xy||t instanceof Hy)}function vm(t,e,n){if(!dm(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=Ay(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}var i}function ym(t,e,n){if((e=cn(e))instanceof zy)return e._internalPath;if("string"==typeof e)return gm(t,e);throw bm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mm=new RegExp("[~\\*/\\[\\]]");function gm(t,e,n){if(e.search(mm)>=0)throw bm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zy.bind.apply(zy,$e([void 0],e.split(".")))))._internalPath}catch(r){throw bm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bm(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Tu(_u.INVALID_ARGUMENT,(a+=". ")+t+u)}function wm(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Em(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(_m("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Im);function _m(t,e){return"string"==typeof e?gm(t,e):e instanceof zy?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Sm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Fe(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(_m("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Im),Am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sm),km=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Am(n._firestore,n._userDataWriter,r.key,r,new Tm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tu(_u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Am(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Am(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Nm(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Nm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu()}}function Dm(t,e){return t instanceof Sm&&e instanceof Sm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof km&&e instanceof km&&t._firestore===e._firestore&&jy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){if(Hc(t)&&0===t.explicitOrderBy.length)throw new Tu(_u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xm=function(){};function Cm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Fe(e,t),e.prototype._apply=function(t){var e,n,r,i=em(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Tu(_u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Um(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(Vm(r,t,l))}a={arrayValue:{values:u}}}else a=Vm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Um(s,o),a=lm(n,"where",s,"in"===o||"not-in"===o);var f=Nc.create(i,o,a);return function(t,e){if(e.g()){var n=Xc(t);if(null!==n&&!n.isEqual(e.field))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Wc(t);null!==r&&qm(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Tu(_u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Tu(_u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Cy(t.firestore,t._converter,(e=t._query,n=o,r=e.filters.concat([n]),new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(xm),Rm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Fe(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vc(e,n);return function(t,e){if(null===Wc(t)){var n=Xc(t);null!==n&&qm(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Cy(t.firestore,t._converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new Kc(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(xm),Lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Fe(e,t),e.prototype._apply=function(t){return new Cy(t.firestore,t._converter,Zc(t._query,this.Gc,this.zc))},e}(xm),Mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Fe(e,t),e.prototype._apply=function(t){var e,n,r=Fm(t,this.type,this.Hc,this.Jc);return new Cy(t.firestore,t._converter,(e=t._query,n=r,new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(xm),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Fe(e,t),e.prototype._apply=function(t){var e,n,r=Fm(t,this.type,this.Hc,this.Jc);return new Cy(t.firestore,t._converter,(e=t._query,n=r,new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(xm);function Fm(t,e,n,r){if(n[0]=cn(n[0]),n[0]instanceof Im)return function(t,e,n,r,i){if(!r)throw new Tu(_u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Yc(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(dc(e,r.key));else{var c=r.data.field(u.field);if(tc(c))throw new Tu(_u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new jc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=em(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Tu(_u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qc(t)&&-1!==c.indexOf("/"))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(zu.fromString(c));if(!sc.isDocumentKey(h))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new sc(h);a.push(dc(e,l))}else{var f=lm(n,r,c);a.push(f)}}return new jc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Vm(t,e,n){if("string"==typeof(n=cn(n))){if(""===n)throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(e)&&-1!==n.indexOf("/"))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zu.fromString(n));if(!sc.isDocumentKey(r))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dc(t,new sc(r))}if(n instanceof xy)return dc(t,n._key);throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ay(n)+".")}function Um(t,e){if(!Array.isArray(t)||0===t.length)throw new Tu(_u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Tu(_u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qm(t,e,n){if(!n.isEqual(e))throw new Tu(_u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ju(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw xu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Bu(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Wy(Ju(t.latitude),Ju(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ec(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(nc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Yu(t);return new Vu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=zu.fromString(t);Cu(Kl(n));var r=new dy(n.get(1),n.get(3)),i=new sc(n.popFirst(5));return r.isEqual(e)||Nu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $m=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fe(e,t),e.prototype.convertBytes=function(t){return new Gy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xy(this.firestore,null,e)},e}(Bm),zm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=em(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Gm(t,this._firestore),i=Km(r._converter,e,n),o=nm(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,_h.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Gm(t,this._firestore);return o="string"==typeof(e=cn(e))||e instanceof zy?hm(this._dataReader,"WriteBatch.update",s._key,e,n,r):cm(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,_h.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Gm(t,this._firestore);return this._mutations=this._mutations.concat(new Fh(e._key,_h.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Tu(_u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){if((t=cn(t)).firestore!==e)throw new Tu(_u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fe(e,t),e.prototype.convertBytes=function(t){return new Gy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xy(this.firestore,null,e)},e}(Bm);function Wm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ky(t,xy);var o=ky(t.firestore,Uy),s=em(o);return Qm(o,[("string"==typeof(e=cn(e))||e instanceof zy?hm(s,"updateDoc",t._key,e,n,r):cm(s,"updateDoc",t._key,e)).toMutation(t._key,_h.exists(!0))])}function Xm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=cn(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Vy(i[a])||(s=i[a],a++);var u,c,h,l={includeMetadataChanges:s.includeMetadataChanges};if(Vy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof xy)c=ky(t.firestore,Uy),h=zc(t._key.path),u={next:function(e){i[a]&&i[a](Ym(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=ky(t,Cy);c=ky(p.firestore,Uy),h=p._query;var d=new Hm(c);u={next:function(t){i[a]&&i[a](new km(c,d,p,t))},error:i[a+1],complete:i[a+2]},Om(t._query)}return function(t,e,n,r){var i=this,o=new Jv(r),s=new hv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ue(i,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return e=ov,[4,hy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ue(i,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return e=sv,[4,hy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(qy(c),h,l,u)}function Qm(t,e){return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var n;return qe(this,(function(i){switch(i.label){case 0:return n=wv,[4,cy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(qy(t),e)}function Ym(t,e,n){var r=n.docs.get(e._key),i=new Hm(t);return new Sm(t,i,e._key,r,new Tm(n.hasPendingWrites,n.fromCache),e._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Fe(e,t),e.prototype.get=function(e){var n=this,r=Gm(e,this._firestore),i=new Hm(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Sm(n._firestore,i,r._key,t._document,new Tm(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=em(t)}return t.prototype.get=function(t){var e=this,n=Gm(t,this._firestore),r=new $m(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return xu();var i=t[0];if(i.isFoundDocument())return new Im(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Im(e._firestore,r,n._key,null,n._converter);throw xu()}))},t.prototype.set=function(t,e,n){var r=Gm(t,this._firestore),i=Km(r._converter,e,n),o=nm(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Gm(t,this._firestore);return o="string"==typeof(e=cn(e))||e instanceof zy?hm(this._dataReader,"Transaction.update",s._key,e,n,r):cm(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Gm(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){if("undefined"==typeof Uint8Array)throw new Tu(_u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tg(){if("undefined"==typeof atob)throw new Tu(_u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var eg=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tg(),new t(Gy.fromBase64String(e))},t.fromUint8Array=function(e){return Zm(),new t(Gy.fromUint8Array(e))},t.prototype.toBase64=function(){return tg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Zm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ng=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$y(t=ky(t,Uy));var n=qy(t),r=t._freezeSettings(),i=new Yv;return Ky(n,i,new Xv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$y(t=ky(t,Uy));var e=qy(t),n=t._freezeSettings(),r=new Yv;return Ky(e,r,new Qv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Tu(_u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new df;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ue(e,void 0,void 0,(function(){var e;return qe(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return mf.yt()?(e=t+"main",[4,mf.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Np(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),rg=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof dy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){var n,r,i,o;n=this._delegate,r=t,i=e,"firestore.googleapis.com"!==(o=(n=ky(n,Oy))._getSettings()).host&&o.host!==r&&Du("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:r+":"+i,ssl:!1}))},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ue(e,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:return[4,sy(t)];case 1:return e=r.sent(),[4,uy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Pu(i),o.$r.delete(0),kd(o))]}var i,o}))}))}))}(qy(ky(this._delegate,Uy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ue(e,void 0,void 0,(function(){var e,n;return qe(this,(function(r){switch(r.label){case 0:return[4,sy(t)];case 1:return e=r.sent(),[4,uy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ue(this,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return(e=Pu(t)).$r.add(0),[4,Nd(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(qy(ky(this._delegate,Uy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&_y("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(e,void 0,void 0,(function(){var e;return qe(this,(function(r){switch(r.label){case 0:return e=Av,[4,cy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(qy(ky(this._delegate,Uy)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new Jv(e);return t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pu(t).Gr.add(e),e.next()},[4,hy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var e;return qe(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pu(t).Gr.delete(e)},[4,hy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(qy(e=ky(e,Uy)),Vy(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Tu(_u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new mg(this,Ry(this._delegate,t))}catch(e){throw cg(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ug(this,Ly(this._delegate,t))}catch(e){throw cg(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new dg(this,function(t,e){if(t=ky(t,Oy),Iy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tu(_u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cy(t,null,(n=e,new Kc(zu.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw cg(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var n;return qe(this,(function(i){switch(i.label){case 0:return[4,(o=t,oy(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new ty(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(qy(e=this._delegate),(function(r){return function(e){return t(new og(n,e))}(new Jm(e,r))}))},t.prototype.batch=function(){var t=this;return qy(this._delegate),new sg(new zm(this._delegate,(function(e){return Qm(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Tu(_u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Tu(_u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fe(e,t),e.prototype.convertBytes=function(t){return new eg(new Gy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ug.Zc(e,this.firestore,null)},e}(Bm);var og=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ig(t)}return t.prototype.get=function(t){var e=this,n=gg(t);return this._delegate.get(n).then((function(t){return new fg(e._firestore,new Sm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=gg(t);return n?(Ey("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,$e([s,e,n],i)),this},t.prototype.delete=function(t){var e=gg(t);return this._delegate.delete(e),this},t}(),sg=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=gg(t);return n?(Ey("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,$e([s,e,n],i)),this},t.prototype.delete=function(t){var e=gg(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ag=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Am(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new ig(e),n),i.set(n,o)),o},t}();ag.eu=new WeakMap;var ug=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ig(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Tu(_u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new xy(n._delegate,r,new sc(e)))},t.Zc=function(e,n,r){return new t(n,new xy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new mg(this.firestore,Ry(this._delegate,t))}catch(e){throw cg(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=cn(t))instanceof xy&&My(this._delegate,t)},t.prototype.set=function(t,e){e=Ey("DocumentReference.set",e);try{return function(t,e,n){t=ky(t,xy);var r=ky(t.firestore,Uy),i=Km(t._converter,e,n);return Qm(r,[nm(em(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,_h.none())])}(this._delegate,t,e)}catch(n){throw cg(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Wm(this._delegate,t):Wm.apply(void 0,$e([this._delegate,t,e],n))}catch(i){throw cg(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Qm(ky((t=this._delegate).firestore,Uy),[new Fh(t._key,_h.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hg(e),i=lg(e,(function(e){return new fg(t.firestore,new Sm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return Xm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ky(t,xy);var e=ky(t.firestore,Uy),n=qy(e),r=new Hm(e);return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var n;return qe(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i;return qe(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Pu(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Tu(_u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Zd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,ay(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Sm(e,r,t._key,n,new Tm(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ky(t,xy);var e=ky(t.firestore,Uy);return ly(qy(e),t._key,{source:"server"}).then((function(n){return Ym(e,t,n)}))}(this._delegate):function(t){t=ky(t,xy);var e=ky(t.firestore,Uy);return ly(qy(e),t._key).then((function(n){return Ym(e,t,n)}))}(this._delegate)).then((function(t){return new fg(e.firestore,new Sm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ag.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function cg(t,e,n){return t.message=t.message.replace(e,n),t}function hg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Vy(r))return r}return{}}function lg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Vy(t[0])?t[0]:Vy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ug(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Dm(this._delegate,t._delegate)},t}(),pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(fg),dg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ig(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Cm(this._delegate,(o=r,s=i=n,a=_m("where",e),new Pm(a,s,o))))}catch(i){throw cg(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Cm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=_m("orderBy",t);return new Rm(r,n)}(e,n)))}catch(r){throw cg(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Cm(this._delegate,(Ny("limit",n=e),new Lm("limit",n,"F"))))}catch(r){throw cg(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Cm(this._delegate,(Ny("limitToLast",n=e),new Lm("limitToLast",n,"L"))))}catch(r){throw cg(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mm("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw cg(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mm("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw cg(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jm("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw cg(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jm("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw cg(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return jy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=qy(e),r=new Hm(e);return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return Ue(n,void 0,void 0,(function(){var n;return qe(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s,a;return qe(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,qp(t,e,!0)];case 1:return a=u.sent(),r=new pv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Zd(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,ay(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new km(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=qy(e),r=new Hm(e);return fy(n,t._query,{source:"server"}).then((function(n){return new km(e,r,t,n)}))}(this._delegate):function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=qy(e),r=new Hm(e);return Om(t._query),fy(n,t._query).then((function(n){return new km(e,r,t,n)}))}(this._delegate)).then((function(t){return new yg(e.firestore,new km(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hg(e),i=lg(e,(function(e){return new yg(t.firestore,new km(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Xm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ag.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),vg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new pg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),yg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new dg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new pg(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new vg(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new pg(n._firestore,r))}))},t.prototype.isEqual=function(t){return Dm(this._delegate,t._delegate)},t}(),mg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Fe(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ug(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ug(this.firestore,void 0===t?Ly(this._delegate):Ly(this._delegate,t))}catch(e){throw cg(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=ky(e.firestore,Uy),i=Ly(e),o=Km(e._converter,n),Qm(r,[nm(em(e.firestore),"addDoc",i._key,o,null!==e._converter,{}).toMutation(i._key,_h.exists(!1))]).then((function(){return i}))).then((function(t){return new ug(s.firestore,t)}))},e.prototype.isEqual=function(t){return My(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ag.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(dg);function gg(t){return ky(t,xy)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg,wg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(zy.bind.apply(zy,$e([void 0],t)))}return t.documentId=function(){return new t(Hu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=cn(t))instanceof zy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ig=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new om("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sm("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new am("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new um("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Eg={Firestore:rg,GeoPoint:Wy,Timestamp:Vu,Blob:eg,Transaction:og,WriteBatch:sg,DocumentReference:ug,DocumentSnapshot:fg,Query:dg,QueryDocumentSnapshot:pg,QuerySnapshot:yg,CollectionReference:mg,FieldPath:wg,FieldValue:Ig,setLogLevel:function(t){var e;e=t,Su.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(bg=Fn).INTERNAL.registerComponent(new hn("firestore",(function(t){return function(t,e){return new rg(t,new Uy(t,e),new ng)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Eg))),bg.registerVersion("@firebase/firestore","2.2.3");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tg=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Fe(e,t),e}(Error);var Sg=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Ue(this,void 0,void 0,(function(){var t;return qe(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Ue(this,void 0,void 0,(function(){return qe(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(bg){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Ue(this,void 0,void 0,(function(){var t,e;return qe(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var kg=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Ag(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Ag(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new kg,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Sg(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(bg){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i;return qe(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return Ue(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f,p;return qe(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new Tg("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,h=u.promise,[4,Promise.race([Dg(c,this.postJSON(r,i,o)),h,Dg(c,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new Tg("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!_g[a])return new Tg("internal","internal");r=_g[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(bg){}return"ok"===r?null:new Tg(r,i,o)}(l.status,l.json,this.serializer))throw f;if(!l.json)throw new Tg("internal","Response is not valid JSON object.");if(void 0===(p=l.json.data)&&(p=l.json.result),void 0===p)throw new Tg("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},t}();function Dg(t,e){return Ue(this,void 0,void 0,(function(){var n;return qe(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){var n={Functions:Ng};t.INTERNAL.registerComponent(new hn("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("messaging");return new Ng(i,o,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Fn,fetch.bind(self)),Fn.registerVersion("@firebase/functions","0.6.6");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Og=function(){return(Og=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xg=function(t,e){return(xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Cg(t,e){function n(){this.constructor=t}xg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Pg(t){return"function"==typeof t}var Rg=!1,Lg={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Rg=t},get useDeprecatedSynchronousErrorHandling(){return Rg}};function Mg(t){setTimeout((function(){throw t}),0)}var jg={closed:!0,next:function(t){},error:function(t){if(Lg.useDeprecatedSynchronousErrorHandling)throw t;Mg(t)},complete:function(){}},Fg=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var Vg=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),Ug=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n,r=this,i=r._parentOrParents,o=r._ctorUnsubscribe,s=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var u=0;u<i.length;++u){i[u].remove(this)}if(Pg(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(bg){e=bg instanceof Vg?qg(bg.errors):[bg]}}if(Fg(a)){u=-1;for(var c=a.length;++u<c;){var h=a[u];if(null!==(n=h)&&"object"==typeof n)try{h.unsubscribe()}catch(bg){e=e||[],bg instanceof Vg?e=e.concat(qg(bg.errors)):e.push(bg)}}}if(e)throw new Vg(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function qg(t){return t.reduce((function(t,e){return t.concat(e instanceof Vg?e.errors:e)}),[])}var Bg=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Kg=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=jg;break;case 1:if(!n){o.destination=jg;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new $g(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new $g(o,n,r,i)}return o}return Cg(e,t),e.prototype[Bg]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Ug),$g=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return Pg(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==jg&&(Pg((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return Cg(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Lg.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Lg.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Mg(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Mg(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Lg.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),Lg.useDeprecatedSynchronousErrorHandling)throw n;Mg(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Lg.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return Lg.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Mg(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Kg);var zg=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Gg(t){return t}function Hg(t){return 0===t.length?Gg:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Wg=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof Kg)return t;if(t[Bg])return t[Bg]()}return t||e||n?new Kg(t,e,n):new Kg(jg)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||Lg.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Lg.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Lg.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof Kg?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Xg(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[zg]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Hg(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Xg(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Xg(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}function Qg(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Yg(t,e))}}var Yg=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Jg(t,this.project,this.thisArg))},t}(),Jg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return Cg(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(Kg);function Zg(t,e){
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e){return new Wg((function(n){return{unsubscribe:t.onSnapshot(e||{},n)}}))}(t,e)}function tb(t){return(e=t,Zg(e,n)).pipe(Qg((function(t){return t.docs})));var e,n}function eb(t,e){return tb(t).pipe(Qg((function(t){return t.map((function(t){return function(t,e){var n;return Og(Og({},t.data()),e?((n={})[e]=t.id,n):null)}(t,e)}))})))}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function nb(t){var e={exports:{}};return t(e,e.exports),e.exports
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/}var rb=nb((function(t){!function(){var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&t.push(s)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var a in i)e.call(i,a)&&i[a]&&t.push(a);else t.push(i.toString())}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n}()})),ib=nb((function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",s="month",a="quarter",u="year",c="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},d={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,s),o=n-i<0,a=e.clone().add(r+(o?-1:1),s);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:s,y:u,w:o,d:i,D:c,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",y={};y[v]=f;var m=function(t){return t instanceof I},g=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)y[t]&&(r=t),e&&(y[t]=e,r=t);else{var i=t.name;y[i]=t,r=i}return!n&&r&&(v=r),r||!n&&v},b=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new I(n)},w=d;w.l=g,w.i=m,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var I=function(){function f(t){this.$L=g(t.locale,null,!0),this.parse(t)}var p=f.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return b(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<b(t)},p.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,a){var h=this,l=!!w.u(a)||a,f=w.p(t),p=function(t,e){var n=w.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return l?n:n.endOf(i)},d=function(t,e){return w.w(h.toDate()[t].apply(h.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case u:return l?p(1,0):p(31,11);case s:return l?p(1,y):p(0,y+1);case o:var b=this.$locale().weekStart||0,I=(v<b?v+7:v)-b;return p(l?m-I:m+(6-I),y);case i:case c:return d(g+"Hours",0);case r:return d(g+"Minutes",1);case n:return d(g+"Seconds",2);case e:return d(g+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,a){var h,l=w.p(o),f="set"+(this.$u?"UTC":""),p=(h={},h[i]=f+"Date",h[c]=f+"Date",h[s]=f+"Month",h[u]=f+"FullYear",h[r]=f+"Hours",h[n]=f+"Minutes",h[e]=f+"Seconds",h[t]=f+"Milliseconds",h)[l],d=l===i?this.$D+(a-this.$W):a;if(l===s||l===u){var v=this.clone().set(c,1);v.$d[p](d),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,a){var c,h=this;t=Number(t);var l=w.p(a),f=function(e){var n=b(h);return w.w(n.date(n.date()+Math.round(e*t)),h)};if(l===s)return this.set(s,this.$M+t);if(l===u)return this.set(u,this.$y+t);if(l===i)return f(1);if(l===o)return f(7);var p=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[l]||1,d=this.$d.getTime()+t*p;return w.w(d,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,u=i.weekdays,c=i.months,h=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},f=function(t){return w.s(o%12||12,t,"0")},p=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:h(i.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,u,2),ddd:h(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:w.s(o,2,"0"),h:f(1),hh:f(2),a:p(o,s,!0),A:p(o,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||d[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,c,h){var l,f=w.p(c),p=b(t),d=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,y=w.m(this,p);return y=(l={},l[u]=y/12,l[s]=y,l[a]=y/3,l[o]=(v-d)/6048e5,l[i]=(v-d)/864e5,l[r]=v/36e5,l[n]=v/6e4,l[e]=v/1e3,l)[f]||v,h?y:w.a(y)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return y[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=g(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),E=I.prototype;return b.prototype=E,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",s],["$y",u],["$D",c]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,I,b),t.$i=!0),b},b.locale=g,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=y[v],b.Ls=y,b.p={},b}()})),ob="object"==typeof global&&global&&global.Object===Object&&global,sb="object"==typeof self&&self&&self.Object===Object&&self,ab=ob||sb||Function("return this")(),ub=ab.Symbol,cb=Object.prototype,hb=cb.hasOwnProperty,lb=cb.toString,fb=ub?ub.toStringTag:void 0;var pb=Object.prototype.toString;var db=ub?ub.toStringTag:void 0;function vb(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":db&&db in Object(t)?function(t){var e=hb.call(t,fb),n=t[fb];try{t[fb]=void 0;var r=!0}catch(bg){}var i=lb.call(t);return r&&(e?t[fb]=n:delete t[fb]),i}(t):function(t){return pb.call(t)}(t)}function yb(t){return null!=t&&"object"==typeof t}function mb(t){return"symbol"==typeof t||yb(t)&&"[object Symbol]"==vb(t)}function gb(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bb=Array.isArray,wb=ub?ub.prototype:void 0,Ib=wb?wb.toString:void 0;function Eb(t){if("string"==typeof t)return t;if(bb(t))return gb(t,Eb)+"";if(mb(t))return Ib?Ib.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function _b(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tb(t){return t}function Sb(t){if(!_b(t))return!1;var e=vb(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Ab,kb=ab["__core-js_shared__"],Nb=(Ab=/[^.]+$/.exec(kb&&kb.keys&&kb.keys.IE_PROTO||""))?"Symbol(src)_1."+Ab:"";var Db=Function.prototype.toString;function Ob(t){if(null!=t){try{return Db.call(t)}catch(bg){}try{return t+""}catch(bg){}}return""}var xb=/^\[object .+?Constructor\]$/,Cb=Function.prototype,Pb=Object.prototype,Rb=Cb.toString,Lb=Pb.hasOwnProperty,Mb=RegExp("^"+Rb.call(Lb).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jb(t){return!(!_b(t)||(e=t,Nb&&Nb in e))&&(Sb(t)?Mb:xb).test(Ob(t));var e}function Fb(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return jb(n)?n:void 0}var Vb=Fb(ab,"WeakMap"),Ub=/^(?:0|[1-9]\d*)$/;function qb(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ub.test(t))&&t>-1&&t%1==0&&t<e}function Bb(t,e){return t===e||t!=t&&e!=e}function Kb(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function $b(t){return null!=t&&Kb(t.length)&&!Sb(t)}var zb=Object.prototype;function Gb(t){return yb(t)&&"[object Arguments]"==vb(t)}var Hb=Object.prototype,Wb=Hb.hasOwnProperty,Xb=Hb.propertyIsEnumerable,Qb=Gb(function(){return arguments}())?Gb:function(t){return yb(t)&&Wb.call(t,"callee")&&!Xb.call(t,"callee")};var Yb="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jb=Yb&&"object"==typeof module&&module&&!module.nodeType&&module,Zb=Jb&&Jb.exports===Yb?ab.Buffer:void 0,tw=(Zb?Zb.isBuffer:void 0)||function(){return!1},ew={};function nw(t){return function(e){return t(e)}}ew["[object Float32Array]"]=ew["[object Float64Array]"]=ew["[object Int8Array]"]=ew["[object Int16Array]"]=ew["[object Int32Array]"]=ew["[object Uint8Array]"]=ew["[object Uint8ClampedArray]"]=ew["[object Uint16Array]"]=ew["[object Uint32Array]"]=!0,ew["[object Arguments]"]=ew["[object Array]"]=ew["[object ArrayBuffer]"]=ew["[object Boolean]"]=ew["[object DataView]"]=ew["[object Date]"]=ew["[object Error]"]=ew["[object Function]"]=ew["[object Map]"]=ew["[object Number]"]=ew["[object Object]"]=ew["[object RegExp]"]=ew["[object Set]"]=ew["[object String]"]=ew["[object WeakMap]"]=!1;var rw="object"==typeof exports&&exports&&!exports.nodeType&&exports,iw=rw&&"object"==typeof module&&module&&!module.nodeType&&module,ow=iw&&iw.exports===rw&&ob.process,sw=function(){try{var t=iw&&iw.require&&iw.require("util").types;return t||ow&&ow.binding&&ow.binding("util")}catch(bg){}}(),aw=sw&&sw.isTypedArray,uw=aw?nw(aw):function(t){return yb(t)&&Kb(t.length)&&!!ew[vb(t)]},cw=Object.prototype.hasOwnProperty;function hw(t,e){var n=bb(t),r=!n&&Qb(t),i=!n&&!r&&tw(t),o=!n&&!r&&!i&&uw(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!cw.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qb(c,u))||a.push(c);return a}var lw,fw,pw=(lw=Object.keys,fw=Object,function(t){return lw(fw(t))}),dw=Object.prototype.hasOwnProperty;function vw(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||zb))return pw(t);var e,n,r=[];for(var i in Object(t))dw.call(t,i)&&"constructor"!=i&&r.push(i);return r}function yw(t){return $b(t)?hw(t):vw(t)}var mw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gw=/^\w*$/;function bw(t,e){if(bb(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!mb(t))||(gw.test(t)||!mw.test(t)||null!=e&&t in Object(e))}var ww=Fb(Object,"create");var Iw=Object.prototype.hasOwnProperty;var Ew=Object.prototype.hasOwnProperty;function _w(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tw(t,e){for(var n=t.length;n--;)if(Bb(t[n][0],e))return n;return-1}_w.prototype.clear=function(){this.__data__=ww?ww(null):{},this.size=0},_w.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_w.prototype.get=function(t){var e=this.__data__;if(ww){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Iw.call(e,t)?e[t]:void 0},_w.prototype.has=function(t){var e=this.__data__;return ww?void 0!==e[t]:Ew.call(e,t)},_w.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ww&&void 0===e?"__lodash_hash_undefined__":e,this};var Sw=Array.prototype.splice;function Aw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Aw.prototype.clear=function(){this.__data__=[],this.size=0},Aw.prototype.delete=function(t){var e=this.__data__,n=Tw(e,t);return!(n<0)&&(n==e.length-1?e.pop():Sw.call(e,n,1),--this.size,!0)},Aw.prototype.get=function(t){var e=this.__data__,n=Tw(e,t);return n<0?void 0:e[n][1]},Aw.prototype.has=function(t){return Tw(this.__data__,t)>-1},Aw.prototype.set=function(t,e){var n=this.__data__,r=Tw(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var kw=Fb(ab,"Map");function Nw(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Dw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dw.prototype.clear=function(){this.size=0,this.__data__={hash:new _w,map:new(kw||Aw),string:new _w}},Dw.prototype.delete=function(t){var e=Nw(this,t).delete(t);return this.size-=e?1:0,e},Dw.prototype.get=function(t){return Nw(this,t).get(t)},Dw.prototype.has=function(t){return Nw(this,t).has(t)},Dw.prototype.set=function(t,e){var n=Nw(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Ow(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ow.Cache||Dw),n}Ow.Cache=Dw;var xw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cw=/\\(\\)?/g,Pw=function(t){var e=Ow(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(xw,(function(t,n,r,i){e.push(r?i.replace(Cw,"$1"):n||t)})),e}));function Rw(t,e){return bb(t)?t:bw(t,e)?[t]:Pw(function(t){return null==t?"":Eb(t)}(t))}function Lw(t){if("string"==typeof t||mb(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Mw(t,e){for(var n=0,r=(e=Rw(e,t)).length;null!=t&&n<r;)t=t[Lw(e[n++])];return n&&n==r?t:void 0}function jw(t){var e=this.__data__=new Aw(t);this.size=e.size}jw.prototype.clear=function(){this.__data__=new Aw,this.size=0},jw.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jw.prototype.get=function(t){return this.__data__.get(t)},jw.prototype.has=function(t){return this.__data__.has(t)},jw.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Aw){var r=n.__data__;if(!kw||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dw(r)}return n.set(t,e),this.size=n.size,this};var Fw=Object.prototype.propertyIsEnumerable,Vw=Object.getOwnPropertySymbols,Uw=Vw?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(Vw(t),(function(e){return Fw.call(t,e)})))}:function(){return[]};function qw(t){return function(t,e,n){var r=e(t);return bb(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,yw,Uw)}var Bw=Fb(ab,"DataView"),Kw=Fb(ab,"Promise"),$w=Fb(ab,"Set"),zw=Ob(Bw),Gw=Ob(kw),Hw=Ob(Kw),Ww=Ob($w),Xw=Ob(Vb),Qw=vb;(Bw&&"[object DataView]"!=Qw(new Bw(new ArrayBuffer(1)))||kw&&"[object Map]"!=Qw(new kw)||Kw&&"[object Promise]"!=Qw(Kw.resolve())||$w&&"[object Set]"!=Qw(new $w)||Vb&&"[object WeakMap]"!=Qw(new Vb))&&(Qw=function(t){var e=vb(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ob(n):"";if(r)switch(r){case zw:return"[object DataView]";case Gw:return"[object Map]";case Hw:return"[object Promise]";case Ww:return"[object Set]";case Xw:return"[object WeakMap]"}return e});var Yw=Qw,Jw=ab.Uint8Array;function Zw(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dw;++e<n;)this.add(t[e])}function tI(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Zw.prototype.add=Zw.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Zw.prototype.has=function(t){return this.__data__.has(t)};function eI(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var l=-1,f=!0,p=2&n?new Zw:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var d=t[l],v=e[l];if(r)var y=s?r(v,d,l,e,t,o):r(d,v,l,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(p){if(!tI(e,(function(t,e){if(s=e,!p.has(s)&&(d===t||i(d,t,n,r,o)))return p.push(e);var s}))){f=!1;break}}else if(d!==v&&!i(d,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function nI(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function rI(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var iI=ub?ub.prototype:void 0,oI=iI?iI.valueOf:void 0;var sI=Object.prototype.hasOwnProperty;var aI="[object Object]",uI=Object.prototype.hasOwnProperty;function cI(t,e,n,r,i,o){var s=bb(t),a=bb(e),u=s?"[object Array]":Yw(t),c=a?"[object Array]":Yw(e),h=(u="[object Arguments]"==u?aI:u)==aI,l=(c="[object Arguments]"==c?aI:c)==aI,f=u==c;if(f&&tw(t)){if(!tw(e))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new jw),s||uw(t)?eI(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Jw(t),new Jw(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Bb(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=nI;case"[object Set]":var u=1&r;if(a||(a=rI),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var h=eI(a(t),a(e),r,i,o,s);return s.delete(t),h;case"[object Symbol]":if(oI)return oI.call(t)==oI.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var p=h&&uI.call(t,"__wrapped__"),d=l&&uI.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,y=d?e.value():e;return o||(o=new jw),i(v,y,n,r,o)}}return!!f&&(o||(o=new jw),function(t,e,n,r,i,o){var s=1&n,a=qw(t),u=a.length;if(u!=qw(e).length&&!s)return!1;for(var c=u;c--;){var h=a[c];if(!(s?h in e:sI.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=s;++c<u;){var v=t[h=a[c]],y=e[h];if(r)var m=s?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){p=!1;break}d||(d="constructor"==h)}if(p&&!d){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o))}function hI(t,e,n,r,i){return t===e||(null==t||null==e||!yb(t)&&!yb(e)?t!=t&&e!=e:cI(t,e,n,r,hI,i))}function lI(t){return t==t&&!_b(t)}function fI(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function pI(t){var e=function(t){for(var e=yw(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lI(i)]}return e}(t);return 1==e.length&&e[0][2]?fI(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],c=t[u],h=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var l=new jw;if(r)var f=r(c,h,u,t,e,l);if(!(void 0===f?hI(h,c,3,r,l):f))return!1}}return!0}(n,t,e)}}function dI(t,e){return null!=t&&e in Object(t)}function vI(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=Rw(e,t)).length,o=!1;++r<i;){var s=Lw(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Kb(i)&&qb(s,i)&&(bb(t)||Qb(t))}(t,e,dI)}function yI(t,e){return bw(t)&&lI(e)?fI(Lw(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:Mw(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?vI(n,t):hI(e,r,3)}}function mI(t){return bw(t)?(e=Lw(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Mw(e,t)}}(t);var e}function gI(t){return"function"==typeof t?t:null==t?Tb:"object"==typeof t?bb(t)?yI(t[0],t[1]):pI(t):mI(t)}var bI,wI=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[bI?s:++r];if(!1===e(i[a],a,i))break}return t};var II=function(t,e){return function(n,r){if(null==n)return n;if(!$b(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}((function(t,e){return t&&wI(t,e,yw)}));function EI(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=mb(t),s=void 0!==e,a=null===e,u=e==e,c=mb(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function _I(t,e,n){e=e.length?gb(e,(function(t){return bb(t)?function(e){return Mw(e,1===t.length?t[0]:t)}:t})):[Tb];var r=-1;return e=gb(e,nw(gI)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,r=$b(t)?Array(t.length):[];return II(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}(t,(function(t,n,i){return{criteria:gb(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=EI(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function TI(t,e,n,r){return null==t?[]:(bb(e)||(e=null==e?[]:[e]),bb(n=r?void 0:n)||(n=null==n?[]:[n]),_I(t,e,n))}function SI(t){let e,n,r,i,o,a,u,c,h,l,f;return{c(){e=R("svg"),n=R("line"),r=R("line"),i=R("line"),o=R("line"),a=R("line"),u=R("line"),c=R("line"),h=R("line"),l=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var s=q(e);n=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(n).forEach(x),r=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(i).forEach(x),o=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(o).forEach(x),a=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(a).forEach(x),u=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(u).forEach(x),c=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(c).forEach(x),h=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(h).forEach(x),l=B(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(l).forEach(x),s.forEach(x),this.h()},h(){V(n,"x1","4"),V(n,"y1","21"),V(n,"x2","4"),V(n,"y2","14"),V(r,"x1","4"),V(r,"y1","10"),V(r,"x2","4"),V(r,"y2","3"),V(i,"x1","12"),V(i,"y1","21"),V(i,"x2","12"),V(i,"y2","12"),V(o,"x1","12"),V(o,"y1","8"),V(o,"x2","12"),V(o,"y2","3"),V(a,"x1","20"),V(a,"y1","21"),V(a,"x2","20"),V(a,"y2","16"),V(u,"x1","20"),V(u,"y1","12"),V(u,"x2","20"),V(u,"y2","3"),V(c,"x1","1"),V(c,"y1","14"),V(c,"x2","7"),V(c,"y2","14"),V(h,"x1","9"),V(h,"y1","8"),V(h,"x2","15"),V(h,"y2","8"),V(l,"x1","17"),V(l,"y1","16"),V(l,"x2","23"),V(l,"y2","16"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",f="feather feather-sliders "+t[2])},m(t,s){O(t,e,s),D(e,n),D(e,r),D(e,i),D(e,o),D(e,a),D(e,u),D(e,c),D(e,h),D(e,l)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&f!==(f="feather feather-sliders "+t[2])&&V(e,"class",f)},i:s,o:s,d(t){t&&x(e)}}}function AI(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class kI extends $t{constructor(t){super(),Kt(this,t,AI,SI,p,{size:0,strokeWidth:1,class:2})}}function NI(t){let e,n,r,i;return{c(){e=R("svg"),n=R("line"),r=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(n).forEach(x),r=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"x1","12"),V(n,"y1","5"),V(n,"x2","12"),V(n,"y2","19"),V(r,"x1","5"),V(r,"y1","12"),V(r,"x2","19"),V(r,"y2","12"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-plus "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-plus "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function DI(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class OI extends $t{constructor(t){super(),Kt(this,t,DI,NI,p,{size:0,strokeWidth:1,class:2})}}function xI(t){let e,n,r,i;return{c(){e=R("svg"),n=R("polyline"),r=R("path"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"polyline",{points:!0},1),q(n).forEach(x),r=B(i,"path",{d:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"points","3 6 5 6 21 6"),V(r,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-trash "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-trash "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function CI(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class PI extends $t{constructor(t){super(),Kt(this,t,CI,xI,p,{size:0,strokeWidth:1,class:2})}}function RI(t){let e,n,r,i;return{c(){e=R("svg"),n=R("line"),r=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(n).forEach(x),r=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"x1","18"),V(n,"y1","6"),V(n,"x2","6"),V(n,"y2","18"),V(r,"x1","6"),V(r,"y1","6"),V(r,"x2","18"),V(r,"y2","18"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-x "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-x "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function LI(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class MI extends $t{constructor(t){super(),Kt(this,t,LI,RI,p,{size:0,strokeWidth:1,class:2})}}function jI(t){const e=t-1;return e*e*e+1}function FI(t,{delay:e=0,duration:n=400,easing:r=a}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function VI(t,{delay:e=0,duration:n=400,easing:r=jI,start:i=0,opacity:o=0}={}){const s=getComputedStyle(t),a=+s.opacity,u="none"===s.transform?"":s.transform,c=1-i,h=a*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} scale(${1-c*e});\n\t\t\topacity: ${a-h*e}\n\t\t`}}function UI(t){let e,n,r,i;return{c(){e=R("svg"),n=R("circle"),r=R("line"),this.h()},l(t){e=B(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=q(e);n=B(i,"circle",{cx:!0,cy:!0,r:!0},1),q(n).forEach(x),r=B(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),q(r).forEach(x),i.forEach(x),this.h()},h(){V(n,"cx","12"),V(n,"cy","12"),V(n,"r","10"),V(r,"x1","8"),V(r,"y1","12"),V(r,"x2","16"),V(r,"y2","12"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"width",t[0]),V(e,"height",t[0]),V(e,"fill","none"),V(e,"viewBox","0 0 24 24"),V(e,"stroke","currentColor"),V(e,"stroke-width",t[1]),V(e,"stroke-linecap","round"),V(e,"stroke-linejoin","round"),V(e,"class",i="feather feather-minus-circle "+t[2])},m(t,i){O(t,e,i),D(e,n),D(e,r)},p(t,[n]){1&n&&V(e,"width",t[0]),1&n&&V(e,"height",t[0]),2&n&&V(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-minus-circle "+t[2])&&V(e,"class",i)},i:s,o:s,d(t){t&&x(e)}}}function qI(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class BI extends $t{constructor(t){super(),Kt(this,t,qI,UI,p,{size:0,strokeWidth:1,class:2})}}export{vt as $,v as A,s as B,ke as C,Pe as D,Te as E,Oe as F,Me as G,H,Q as I,E as J,F as K,Ie as L,l as M,ht as N,At as O,kt as P,C as Q,ib as R,$t as S,jt as T,yt as U,I as V,ut as W,f as X,OI as Y,j as Z,PI as _,Ft as a,xt as a0,VI as a1,Ct as a2,MI as a3,FI as a4,G as a5,Rt as a6,d as a7,Pt as a8,BI as a9,W as aa,X as ab,Ht as ac,TI as ad,kI as ae,he as af,ot as ag,ge as ah,Vt as b,eb as c,Dt as d,qt as e,Fn as f,y as g,P as h,Kt as i,M as j,L as k,B as l,Ut as m,q as n,x as o,$ as p,K as q,V as r,p as s,Nt as t,O as u,D as v,Gt as w,g as x,z as y,rb as z};
