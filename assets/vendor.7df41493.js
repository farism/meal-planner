var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,e)=>{for(var n in e||(e={}))i.call(e,n)&&s(t,n,e[n]);if(r)for(var n of r(e))o.call(e,n)&&s(t,n,e[n]);return t},u=(t,r)=>e(t,n(r));function c(){}const h=t=>t;function l(t,e){for(const n in e)t[n]=e[n];return t}function f(t){return t()}function d(){return Object.create(null)}function p(t){t.forEach(f)}function v(t){return"function"==typeof t}function g(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let y;function m(t,e){return y||(y=document.createElement("a")),y.href=e,t===y.href}function b(t,...e){if(null==t)return c;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function w(t){let e;return b(t,(t=>e=t))(),e}function I(t,e,n){t.$$.on_destroy.push(b(e,n))}function E(t,e,n,r){if(t){const i=T(t,e,n,r);return t[0](i)}}function T(t,e,n,r){return t[1]&&r?l(n.ctx.slice(),t[1](r(e))):n.ctx}function _(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function S(t,e,n,r,i,o){if(i){const s=T(e,n,r,o);t.p(s,i)}}function A(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function k(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function N(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function D(t){return null==t?"":t}function C(t,e,n){return t.set(n),e}function O(t){return t&&v(t.destroy)?t.destroy:c}const x="undefined"!=typeof window;let R=x?()=>window.performance.now():()=>Date.now(),P=x?t=>requestAnimationFrame(t):c;const L=new Set;function M(t){L.forEach((e=>{e.c(t)||(L.delete(e),e.f())})),0!==L.size&&P(M)}function j(t){let e;return 0===L.size&&P(M),{promise:new Promise((n=>{L.add(e={c:t,f:n})})),abort(){L.delete(e)}}}function F(t,e){t.appendChild(e)}function V(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e.host?e:document}function U(t){const e=z("style");return function(t,e){F(t.head||t,e)}(V(t),e),e}function q(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function z(t){return document.createElement(t)}function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function G(){return W(" ")}function H(){return W("")}function Q(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function X(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Y(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:X(t,r,e[r])}function J(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Z(t,e){t.value=null==e?"":e}function tt(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function et(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function nt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function rt(t,e,n){t.classList[n?"add":"remove"](e)}function it(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}const ot=new Set;let st,at=0;function ut(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let g=0;g<=1;g+=u){const t=e+(n-e)*o(g);c+=100*g+`%{${s(t,1-t)}}\n`}const h=c+`100% {${s(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${a}`,f=V(t);ot.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=U(t).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[l]||(p[l]=!0,d.insertRule(`@keyframes ${l} ${h}`,d.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,at+=1,l}function ct(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),at-=i,at||P((()=>{at||(ot.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),ot.clear())})))}function ht(t){st=t}function lt(){if(!st)throw new Error("Function called outside component initialization");return st}function ft(t){lt().$$.on_mount.push(t)}function dt(t){lt().$$.on_destroy.push(t)}function pt(t,e){lt().$$.context.set(t,e)}function vt(t){return lt().$$.context.get(t)}function gt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const yt=[],mt=[],bt=[],wt=[],It=Promise.resolve();let Et=!1;function Tt(){Et||(Et=!0,It.then(Nt))}function _t(t){bt.push(t)}function St(t){wt.push(t)}let At=!1;const kt=new Set;function Nt(){if(!At){At=!0;do{for(let t=0;t<yt.length;t+=1){const e=yt[t];ht(e),Dt(e.$$)}for(ht(null),yt.length=0;mt.length;)mt.pop()();for(let t=0;t<bt.length;t+=1){const e=bt[t];kt.has(e)||(kt.add(e),e())}bt.length=0}while(yt.length);for(;wt.length;)wt.pop()();Et=!1,At=!1,kt.clear()}}function Dt(t){if(null!==t.fragment){t.update(),p(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_t)}}let Ct;function Ot(){return Ct||(Ct=Promise.resolve(),Ct.then((()=>{Ct=null}))),Ct}function xt(t,e,n){t.dispatchEvent(it(`${e?"intro":"outro"}${n}`))}const Rt=new Set;let Pt;function Lt(){Pt={r:0,c:[],p:Pt}}function Mt(){Pt.r||p(Pt.c),Pt=Pt.p}function jt(t,e){t&&t.i&&(Rt.delete(t),t.i(e))}function Ft(t,e,n,r){if(t&&t.o){if(Rt.has(t))return;Rt.add(t),Pt.c.push((()=>{Rt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Vt={duration:0};function Ut(t,e,n){let r,i,o=e(t,n),s=!1,a=0;function u(){r&&ct(t,r)}function l(){const{delay:e=0,duration:n=300,easing:l=h,tick:f=c,css:d}=o||Vt;d&&(r=ut(t,0,1,n,e,l,d,a++)),f(0,1);const p=R()+e,v=p+n;i&&i.abort(),s=!0,_t((()=>xt(t,!0,"start"))),i=j((e=>{if(s){if(e>=v)return f(1,0),xt(t,!0,"end"),u(),s=!1;if(e>=p){const t=l((e-p)/n);f(t,1-t)}}return s}))}let f=!1;return{start(){f||(f=!0,ct(t),v(o)?(o=o(),Ot().then(l)):l())},invalidate(){f=!1},end(){s&&(u(),s=!1)}}}function qt(t,e,n){let r,i=e(t,n),o=!0;const s=Pt;function a(){const{delay:e=0,duration:n=300,easing:a=h,tick:u=c,css:l}=i||Vt;l&&(r=ut(t,1,0,n,e,a,l));const f=R()+e,d=f+n;_t((()=>xt(t,!1,"start"))),j((e=>{if(o){if(e>=d)return u(0,1),xt(t,!1,"end"),--s.r||p(s.c),!1;if(e>=f){const t=a((e-f)/n);u(1-t,t)}}return o}))}return s.r+=1,v(i)?Ot().then((()=>{i=i(),a()})):a(),{end(e){e&&i.tick&&i.tick(1,0),o&&(r&&ct(t,r),o=!1)}}}function Bt(t,e){Ft(t,1,1,(()=>{e.delete(t.key)}))}function $t(t,e,n,r,i,o,s,a,u,c,h,l){let f=t.length,d=o.length,p=f;const v={};for(;p--;)v[t[p].key]=p;const g=[],y=new Map,m=new Map;for(p=d;p--;){const t=l(i,o,p),a=n(t);let u=s.get(a);u?r&&u.p(t,e):(u=c(a,t),u.c()),y.set(a,g[p]=u),a in v&&m.set(a,Math.abs(p-v[a]))}const b=new Set,w=new Set;function I(t){jt(t,1),t.m(a,h),s.set(t.key,t),h=t.first,d--}for(;f&&d;){const e=g[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(h=e.first,f--,d--):y.has(i)?!s.has(r)||b.has(r)?I(e):w.has(i)?f--:m.get(r)>m.get(i)?(w.add(r),I(e)):(b.add(i),f--):(u(n,s),f--)}for(;f--;){const e=t[f];y.has(e.key)||u(e,s)}for(;d;)I(g[d-1]);return g}function zt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Kt(t){return"object"==typeof t&&null!==t?t:{}}function Wt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Gt(t){t&&t.c()}function Ht(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(e,n),r||_t((()=>{const e=o.map(f).filter(v);s?s.push(...e):p(e),t.$$.on_mount=[]})),a.forEach(_t)}function Qt(t,e){const n=t.$$;null!==n.fragment&&(p(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xt(t,e,n,r,i,o,s,a=[-1]){const u=st;ht(t);const h=t.$$={fragment:null,ctx:null,props:o,update:c,not_equal:i,bound:d(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:d(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(h.root);let l=!1;if(h.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&i(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),l&&function(t,e){-1===t.$$.dirty[0]&&(yt.push(t),Tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],h.update(),l=!0,p(h.before_update),h.fragment=!!r&&r(h.ctx),e.target){if(e.hydrate){const t=(f=e.target,Array.from(f.childNodes));h.fragment&&h.fragment.l(t),t.forEach(B)}else h.fragment&&h.fragment.c();e.intro&&jt(t.$$.fragment),Ht(t,e.target,e.anchor,e.customElement),Nt()}var f;ht(u)}class Yt{$destroy(){Qt(this,1),this.$destroy=c}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Jt=t=>void 0===t,Zt=t=>"function"==typeof t,te=t=>"number"==typeof t;function ee(){let t=0;return()=>t++}const ne="undefined"==typeof window;function re(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const ie=[];function oe(t,e){return{subscribe:se(t,e).subscribe}}function se(t,e=c){let n;const r=new Set;function i(e){if(g(t,e)&&(t=e,n)){const e=!ie.length;for(const n of r)n[1](),ie.push(n,t);if(e){for(let t=0;t<ie.length;t+=2)ie[t][0](ie[t+1]);ie.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,s=c){const a=[o,s];return r.add(a),1===r.size&&(n=e(i)||c),o(t),()=>{r.delete(a),0===r.size&&(n(),n=null)}}}}function ae(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return oe(n,(t=>{let n=!1;const s=[];let a=0,u=c;const h=()=>{if(a)return;u();const n=e(r?s[0]:s,t);o?t(n):u=v(n)?n:c},l=i.map(((t,e)=>b(t,(t=>{s[e]=t,a&=~(1<<e),n&&h()}),(()=>{a|=1<<e}))));return n=!0,h(),function(){p(l),u()}}))}const ue=t=>`@@svnav-ctx__${t}`,ce=ue("LOCATION"),he=ue("ROUTER"),le=ue("ROUTE"),fe=ue("ROUTE_PARAMS"),de=ue("FOCUS_ELEM"),pe=/^:(.+)/,ve=(t,e)=>t.substr(0,e.length)===e,ge=t=>"*"===t[0],ye=t=>t.replace(/(^\/+|\/+$)/g,"");function me(t,e=!1){const n=ye(t).split("/");return e?n.filter(Boolean):n}const be=(t,e)=>t+(e?`?${e}`:""),we=t=>`/${ye(t)}`;function Ie(...t){const e=t.map((t=>me(t,!0).join("/"))).join("/");return we(e)}const Ee={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},Te=t=>Ee[t];function _e(t,e,n,r){const i=n&&function(t,e){let n;return 2===t?n=e.path?`path="${e.path}"`:"default":1===t?n=`to="${e.to}"`:3===t&&(n=`basepath="${e.basepath||""}"`),`<${Te(t)} ${n||""} />`}(r||t,n),o=i?`\n\nOccurred in: ${i}`:"",s=Te(t);return`<${s}> ${Zt(e)?e(s):e}${o}`}const Se=t=>(...e)=>t(_e(...e)),Ae=Se((t=>{throw new Error(t)})),ke=Se(console.warn);function Ne(t,e){return{route:t,score:t.default?0:me(t.fullPath).reduce(((t,e)=>{let n=t;return n+=4,(t=>""===t)(e)?n+=1:(t=>pe.test(t))(e)?n+=2:ge(e)?n-=5:n+=3,n}),0),index:e}}function De(t,e){let n,r;const[i]=e.split("?"),o=me(i),s=""===o[0],c=function(t){return t.map(Ne).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let h=0,l=c.length;h<l;h++){const{route:t}=c[h];let i=!1;const l={},f=e=>u(a({},t),{params:l,uri:e});if(t.default){r=f(e);continue}const d=me(t.fullPath),p=Math.max(o.length,d.length);let v=0;for(;v<p;v++){const t=d[v],e=o[v];if(!Jt(t)&&ge(t)){const e="*"===t?"*":t.slice(1);l[e]=o.slice(v).map(decodeURIComponent).join("/");break}if(Jt(e)){i=!0;break}const n=pe.exec(t);if(n&&!s){const t=decodeURIComponent(e);l[n[1]]=t}else if(t!==e){i=!0;break}}if(!i){n=f(Ie(...o.slice(0,v)));break}}return n||r||null}function Ce(t,e){return De([t],e)}function Oe(t,e){const{pathname:n,hash:r="",search:i="",state:o}=t,s=me(e,!0),a=me(n,!0);for(;s.length;)s[0]!==a[0]&&Ae(3,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),s.shift(),a.shift();return{pathname:Ie(...a),hash:r,search:i,state:o}}const xe=t=>1===t.length?"":t;function Re(t){const e=t.indexOf("?"),n=t.indexOf("#"),r=-1!==e,i=-1!==n,o=i?xe(t.substr(n)):"",s=i?t.substr(0,n):t,a=r?xe(s.substr(e)):"";return{pathname:r?s.substr(0,e):s,search:a,hash:o}}function Pe(t,e,n){return Ie(n,function(t,e){if(ve(t,"/"))return t;const[n,r]=t.split("?"),[i]=e.split("?"),o=me(n),s=me(i);if(""===o[0])return be(i,r);if(!ve(o[0],".")){const t=s.concat(o).join("/");return be(("/"===i?"":"/")+t,r)}const a=s.concat(o),u=[];return a.forEach((t=>{".."===t?u.pop():"."!==t&&u.push(t)})),be(`/${u.join("/")}`,r)}(t,e))}function Le(t,e){const n=we(t.replace(/\*.*$/,""));const r=me(n,!0),i=Ce({fullPath:n},Ie(...me(e,!0).slice(0,r.length)));return i&&i.uri}function Me(t){return u(a({},t.location),{pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"})}function je(t,e){return u(a({},Re(e)),{state:t})}const Fe=!(ne||!window.document||!window.document.createElement),Ve=!ne&&"null"===window.location.origin,Ue=function(t){let e=[],n=Me(t),r="POP";const i=(t=e)=>t.forEach((t=>t({location:n,action:r})));return{get location(){return n},listen(o){e.push(o);i([o]);const s=re(t,"popstate",(()=>{n=Me(t),r="POP",i([o])}));return()=>{s(),e=e.filter((t=>t!==o))}},navigate(e,o){const{state:s={},replace:c=!1}=o||{};if(r=c?"REPLACE":"PUSH",te(e))o&&ke(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r="POP",t.history.go(e);else{const n=u(a({},s),{_key:Math.random().toString(36).substring(2)});try{t.history[c?"replaceState":"pushState"](n,"",e)}catch(pb){t.location[c?"replace":"assign"](e)}}n=Me(t),i()}}}(Fe&&!Ve?window:function(t="/"){let e=0,n=[je(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(t,r,i){e++,n=n.slice(0,e),n.push(je(t,i))},replaceState(t,r,i){n[e]=je(t,i)},go(t){const r=e+t;r<0||r>n.length-1||(e=r)}}}}());let qe=null,Be=!0;function $e(t){(!qe||t.level>qe.level||t.level===qe.level&&function(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<n.length;r++){const i=n[r],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}(t.routerId,qe.routerId))&&(qe=t)}function ze(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){let n;t.setAttribute(e,"-1");const r=()=>{t.removeAttribute(e),n()};n=re(t,"blur",r)}return t.focus(),document.activeElement===t}catch(pb){return!1}}function Ke(t,e){return Number(t.dataset.svnavRouteEnd)===e}function We(t,e=document){return e.querySelector(t)}function Ge(t){Promise.resolve(w(t.focusElement)).then((e=>{const n=e||function(t){let e=We(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Ke(e,t);){if(/^H[1-6]$/i.test(e.tagName))return e;const t=We("h1,h2,h3,h4,h5,h6",e);if(t)return t;e=e.nextElementSibling}return null}(t.id);n||ke(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',t,2);ze(n)||ze(document.documentElement)}))}const He=(t,e,n)=>(r,i)=>(Tt(),It).then((()=>{if(qe&&!Be){if(r&&Ge(qe.route),t.announcements&&i){const{path:r,fullPath:i,meta:o,params:s,uri:a}=qe.route,u=t.createAnnouncement({path:r,fullPath:i,meta:o,params:s,uri:a},w(n));Promise.resolve(u).then((t=>{e.set(t)}))}qe=null}else Be=!1}));function Qe(t){let e,n,r,i,o;const s=t[20].default,a=E(s,t,t[19],null);let u=t[2]&&t[4]&&t[1].announcements&&function(t){let e,n;return{c(){e=z("div"),n=W(t[0]),X(e,"role","status"),X(e,"aria-atomic","true"),X(e,"aria-live","polite"),X(e,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,r){q(t,e,r),F(e,n)},p(t,e){1&e[0]&&J(n,t[0])},d(t){t&&B(e)}}}(t);return{c(){e=z("div"),n=G(),a&&a.c(),r=G(),u&&u.c(),i=H(),tt(e,"display","none"),X(e,"aria-hidden","true"),X(e,"data-svnav-router",t[3])},m(t,s){q(t,e,s),q(t,n,s),a&&a.m(t,s),q(t,r,s),u&&u.m(t,s),q(t,i,s),o=!0},p(t,e){a&&a.p&&(!o||524288&e[0])&&S(a,s,t,t[19],o?_(s,t[19],e,null):A(t[19]),null),t[2]&&t[4]&&t[1].announcements&&u.p(t,e)},i(t){o||(jt(a,t),o=!0)},o(t){Ft(a,t),o=!1},d(t){t&&B(e),t&&B(n),a&&a.d(t),t&&B(r),u&&u.d(t),t&&B(i)}}}const Xe=ee(),Ye="/";function Je(t,e,n){let r,i,o,s,u,{$$slots:c={},$$scope:h}=e,{basepath:l=Ye}=e,{url:f=null}=e,{history:d=Ue}=e,{primary:p=!0}=e,{a11y:v={}}=e;const g=a({createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0},v),y=l,m=we(l),b=vt(ce),w=vt(he),E=!b,T=Xe(),_=p&&!(w&&!w.manageFocus),S=se("");I(t,S,(t=>n(0,u=t)));const A=se([]);I(t,A,(t=>n(18,s=t)));const k=se(null);I(t,k,(t=>n(16,i=t)));let N=!1;const D=E?0:w.level+1,C=E?se(Oe(ne?Re(f):d.location,m)):b;I(t,C,(t=>n(15,r=t)));const O=se(r);I(t,O,(t=>n(17,o=t)));const x=He(g,S,C),R=t=>e=>e.filter((e=>e.id!==t));return E||l===Ye||ke(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:l}),E&&(ft((()=>d.listen((t=>{const e=Oe(t.location,m);O.set(r),C.set(e)})))),pt(ce,C)),pt(he,{activeRoute:k,registerRoute:function(t){if(ne){if(N)return;const e=Ce(t,r.pathname);if(e)return N=!0,e}else A.update((e=>{const n=R(t.id)(e);return n.push(t),n}))},unregisterRoute:function(t){A.update(R(t))},manageFocus:_,level:D,id:T,history:E?d:w.history,basepath:E?m:w.basepath}),t.$$set=t=>{"basepath"in t&&n(10,l=t.basepath),"url"in t&&n(11,f=t.url),"history"in t&&n(12,d=t.history),"primary"in t&&n(13,p=t.primary),"a11y"in t&&n(14,v=t.a11y),"$$scope"in t&&n(19,h=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&l!==y&&ke(3,'You cannot change the "basepath" prop. It is ignored.'),294912&t.$$.dirty[0]){const t=De(s,r.pathname);k.set(t)}if(163840&t.$$.dirty[0]&&E){const t=!!r.hash,e=!t&&_,n=!t||r.pathname!==o.pathname;x(e,n)}65536&t.$$.dirty[0]&&_&&i&&i.primary&&$e({level:D,routerId:T,route:i})},[u,g,E,T,_,S,A,k,C,O,l,f,d,p,v,r,i,o,s,h,c]}class Ze extends Yt{constructor(t){super(),Xt(this,t,Je,Qe,g,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function tn(t,e,n=he,r=3){vt(n)||Ae(t,(t=>`You cannot use ${t} outside of a ${Te(r)}.`),e)}function en(){return tn(5),(t=>{const{subscribe:e}=vt(t);return{subscribe:e}})(ce)}function nn(){const{history:t}=vt(he);return t}function rn(){const t=vt(le);return t?ae(t,(t=>t.base)):se("/")}function on(){tn(10);const t=rn(),{basepath:e}=vt(he);return n=>Pe(n,w(t),e)}const sn=t=>({params:16&t,location:8&t}),an=t=>({params:ne?w(t[9]):t[4],location:t[3],navigate:t[10]});function un(t){let e,n;return e=new Ze({props:{primary:t[1],$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){Gt(e.$$.fragment)},m(t,r){Ht(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.primary=t[1]),264217&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(jt(e.$$.fragment,t),n=!0)},o(t){Ft(e.$$.fragment,t),n=!1},d(t){Qt(e,t)}}}function cn(t){let e;const n=t[17].default,r=E(n,t,t[18],an);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||262168&i)&&S(r,n,t,t[18],e?_(n,t[18],i,sn):A(t[18]),an)},i(t){e||(jt(r,t),e=!0)},o(t){Ft(r,t),e=!1},d(t){r&&r.d(t)}}}function hn(t){let e,n,r;const i=[{location:t[3]},{navigate:t[10]},ne?w(t[9]):t[4],t[11]];var o=t[0];function s(t){let e={};for(let n=0;n<i.length;n+=1)e=l(e,i[n]);return{props:e}}return o&&(e=new o(s())),{c(){e&&Gt(e.$$.fragment),n=H()},m(t,i){e&&Ht(e,t,i),q(t,n,i),r=!0},p(t,r){const a=3608&r?zt(i,[8&r&&{location:t[3]},1024&r&&{navigate:t[10]},528&r&&Kt(ne?w(t[9]):t[4]),2048&r&&Kt(t[11])]):{};if(o!==(o=t[0])){if(e){Lt();const t=e;Ft(t.$$.fragment,1,0,(()=>{Qt(t,1)})),Mt()}o?(e=new o(s()),Gt(e.$$.fragment),jt(e.$$.fragment,1),Ht(e,n.parentNode,n)):e=null}else o&&e.$set(a)},i(t){r||(e&&jt(e.$$.fragment,t),r=!0)},o(t){e&&Ft(e.$$.fragment,t),r=!1},d(t){t&&B(n),e&&Qt(e,t)}}}function ln(t){let e,n,r,i;const o=[hn,cn],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=H()},m(t,n){s[e].m(t,n),q(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(Lt(),Ft(s[u],1,1,(()=>{s[u]=null})),Mt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),jt(n,1),n.m(r.parentNode,r))},i(t){i||(jt(n),i=!0)},o(t){Ft(n),i=!1},d(t){s[e].d(t),t&&B(r)}}}function fn(t){let e,n,r,i,o,s=t[2]&&un(t);return{c(){e=z("div"),n=G(),s&&s.c(),r=G(),i=z("div"),tt(e,"display","none"),X(e,"aria-hidden","true"),X(e,"data-svnav-route-start",t[5]),tt(i,"display","none"),X(i,"aria-hidden","true"),X(i,"data-svnav-route-end",t[5])},m(t,a){q(t,e,a),q(t,n,a),s&&s.m(t,a),q(t,r,a),q(t,i,a),o=!0},p(t,[e]){t[2]?s?(s.p(t,e),4&e&&jt(s,1)):(s=un(t),s.c(),jt(s,1),s.m(r.parentNode,r)):s&&(Lt(),Ft(s,1,1,(()=>{s=null})),Mt())},i(t){o||(jt(s),o=!0)},o(t){Ft(s),o=!1},d(t){t&&B(e),t&&B(n),s&&s.d(t),t&&B(r),t&&B(i)}}}const dn=ee();function pn(t,e,n){let r;const i=["path","component","meta","primary"];let o,s,a,u,c=N(e,i),{$$slots:h={},$$scope:f}=e,{path:d=""}=e,{component:p=null}=e,{meta:v={}}=e,{primary:g=!0}=e;tn(2,e);const y=dn(),{registerRoute:m,unregisterRoute:b,activeRoute:w}=vt(he);I(t,w,(t=>n(15,o=t)));const E=rn();I(t,E,(t=>n(16,a=t)));const T=en();I(t,T,(t=>n(3,s=t)));const _=se(null);let S;const A=se(),D=se({});I(t,D,(t=>n(4,u=t))),pt(le,A),pt(fe,D),pt(de,_);const C=function(){tn(7);const t=on(),{navigate:e}=nn();return(n,r)=>{const i=te(n)?n:t(n);return e(i,r)}}();return ne||dt((()=>b(y))),t.$$set=t=>{n(23,e=l(l({},e),k(t))),n(11,c=N(e,i)),"path"in t&&n(12,d=t.path),"component"in t&&n(0,p=t.component),"meta"in t&&n(13,v=t.meta),"primary"in t&&n(1,g=t.primary),"$$scope"in t&&n(18,f=t.$$scope)},t.$$.update=()=>{if(77834&t.$$.dirty){const t=""===d,e=Ie(a,d),r={id:y,path:d,meta:v,default:t,fullPath:t?"":e,base:t?a:Le(e,s.pathname),primary:g,focusElement:_};A.set(r),n(14,S=m(r))}if(49152&t.$$.dirty&&n(2,r=!!(S||o&&o.id===y)),49156&t.$$.dirty&&r){const{params:t}=S||o;D.set(t)}},e=k(e),[p,g,r,s,u,y,w,E,T,D,C,c,d,v,S,o,a,h,f]}class vn extends Yt{constructor(t){super(),Xt(this,t,pn,fn,g,{path:12,component:0,meta:13,primary:1})}}function gn(t){let e,n,r,i;const o=t[13].default,s=E(o,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],u={};for(let c=0;c<a.length;c+=1)u=l(u,a[c]);return{c(){e=z("a"),s&&s.c(),Y(e,u)},m(o,a){q(o,e,a),s&&s.m(e,null),n=!0,r||(i=Q(e,"click",t[4]),r=!0)},p(t,[r]){s&&s.p&&(!n||4096&r)&&S(s,o,t,t[12],n?_(o,t[12],r,null):A(t[12]),null),Y(e,u=zt(a,[(!n||1&r)&&{href:t[0]},4&r&&t[2],2&r&&t[1]]))},i(t){n||(jt(s,t),n=!0)},o(t){Ft(s,t),n=!1},d(t){t&&B(e),s&&s.d(t),r=!1,i()}}}function yn(t,e,n){let r,i,o,s,u;const c=["to","replace","state","getProps"];let h,f=N(e,c),{$$slots:d={},$$scope:p}=e,{to:v}=e,{replace:g=!1}=e,{state:y={}}=e,{getProps:m=null}=e;tn(1,e);const b=en();I(t,b,(t=>n(11,h=t)));const w=function(){const t=lt();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=it(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}(),E=on(),{navigate:T}=nn();return t.$$set=t=>{n(18,e=l(l({},e),k(t))),n(17,f=N(e,c)),"to"in t&&n(5,v=t.to),"replace"in t&&n(6,g=t.replace),"state"in t&&n(7,y=t.state),"getProps"in t&&n(8,m=t.getProps),"$$scope"in t&&n(12,p=t.$$scope)},t.$$.update=()=>{2080&t.$$.dirty&&n(0,r=E(v,h)),2049&t.$$.dirty&&n(10,i=ve(h.pathname,r)),2049&t.$$.dirty&&n(9,o=r===h.pathname),512&t.$$.dirty&&n(2,s=o?{"aria-current":"page"}:{}),n(1,u=(()=>{if(Zt(m)){const t=m({location:h,href:r,isPartiallyCurrent:i,isCurrent:o});return a(a({},f),t)}return f})())},e=k(e),[r,u,s,b,function(t){if(w("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();T(r,{state:y,replace:o||g})}},v,g,y,m,o,i,h,p,d]}class mn extends Yt{constructor(t){super(),Xt(this,t,yn,gn,g,{to:5,replace:6,state:7,getProps:8})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var bn={exports:{}},wn=bn.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",u="week",c="month",h="quarter",l="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),o=n-i<0,s=e.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:u,d:a,D:f,h:s,m:o,s:i,ms:r,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=g;var I=function(t){return t instanceof S},E=function(t,e,n){var r;if(!t)return b;if("string"==typeof t)w[t]&&(r=t),e&&(w[t]=e,r=t);else{var i=t.name;w[i]=t,r=i}return!n&&r&&(b=r),r||!n&&b},T=function(t,e){if(I(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},_=m;_.l=E,_.i=I,_.w=function(t,e){return T(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=E(t.locale,null,!0),this.parse(t)}var y=g.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return _},y.isValid=function(){return!(this.$d.toString()===d)},y.isSame=function(t,e){var n=T(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return T(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<T(t)},y.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!_.u(e)||e,h=_.p(t),d=function(t,e){var i=_.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},p=function(t,e){return _.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(h){case l:return r?d(1,0):d(31,11);case c:return r?d(1,g):d(0,g+1);case u:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return d(r?y-w:y+(6-w),g);case a:case f:return p(m+"Hours",0);case s:return p(m+"Minutes",1);case o:return p(m+"Seconds",2);case i:return p(m+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,u=_.p(t),h="set"+(this.$u?"UTC":""),d=(n={},n[a]=h+"Date",n[f]=h+"Date",n[c]=h+"Month",n[l]=h+"FullYear",n[s]=h+"Hours",n[o]=h+"Minutes",n[i]=h+"Seconds",n[r]=h+"Milliseconds",n)[u],p=u===a?this.$D+(e-this.$W):e;if(u===c||u===l){var v=this.clone().set(f,1);v.$d[d](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[_.p(t)]()},y.add=function(r,h){var f,d=this;r=Number(r);var p=_.p(h),v=function(t){var e=T(d);return _.w(e.date(e.date()+Math.round(t*r)),d)};if(p===c)return this.set(c,this.$M+r);if(p===l)return this.set(l,this.$y+r);if(p===a)return v(1);if(p===u)return v(7);var g=(f={},f[o]=e,f[s]=n,f[i]=t,f)[p]||1,y=this.$d.getTime()+r*g;return _.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),o=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,h=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].substr(0,o)},l=function(t){return _.s(o%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:_.s(a+1,2,"0"),MMM:h(n.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,u,2),ddd:h(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:_.s(o,2,"0"),h:l(1),hh:l(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:_.s(s,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,d){var p,v=_.p(f),g=T(r),y=(g.utcOffset()-this.utcOffset())*e,m=this-g,b=_.m(this,g);return b=(p={},p[l]=b/12,p[c]=b,p[h]=b/3,p[u]=(m-y)/6048e5,p[a]=(m-y)/864e5,p[s]=m/n,p[o]=m/e,p[i]=m/t,p)[v]||m,d?b:_.a(b)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return w[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=E(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return _.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),A=S.prototype;return T.prototype=A,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",l],["$D",f]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),T.extend=function(t,e){return t.$i||(t(e,S,T),t.$i=!0),T},T.locale=E,T.isDayjs=I,T.unix=function(t){return T(1e3*t)},T.en=w[b],T.Ls=w,T.p={},T}(),In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function En(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}In(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Tn=function(){return(Tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _n(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(pb){o(pb)}}function a(t){try{u(r.throw(t))}catch(pb){o(pb)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Sn(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(pb){o=[6,pb],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function An(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Nn(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dn(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},On=function(t){return function(t){var e=Dn(t);return Cn.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function xn(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=xn(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ln(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pb){return!1}}function Mn(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function jn(){return"indexedDB"in self&&null!=indexedDB}function Fn(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function Vn(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,qn.prototype.create),o}return En(e,t),e}(Error),qn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Bn(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Un(i,a,r);return u},t}();function Bn(t,e){return t.replace($n,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var $n=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kn(t,e){var n=new Wn(t,e);return n.subscribe.bind(n)}var Wn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Gn),void 0===r.error&&(r.error=Gn),void 0===r.complete&&(r.complete=Gn);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(pb){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(pb){"undefined"!=typeof console&&console.error&&console.error(pb)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Gn(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}var Xn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Yn=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Rn;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(pb){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(pb){if(r)return null;throw pb}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(pb){}try{for(var r=An(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=kn(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(pb){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _n(this,void 0,void 0,(function(){var t;return Sn(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Nn(Nn([],kn(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),kn(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=An(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=kn(u.value,2),h=c[0],l=c[1];o===this.normalizeInstanceIdentifier(h)&&l.resolve(s)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=An(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,Zn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Yn(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function tr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er,nr,rr=[];(nr=er||(er={}))[nr.DEBUG=0]="DEBUG",nr[nr.VERBOSE=1]="VERBOSE",nr[nr.INFO=2]="INFO",nr[nr.WARN=3]="WARN",nr[nr.ERROR=4]="ERROR",nr[nr.SILENT=5]="SILENT";var ir,or={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},sr=er.INFO,ar=((Jn={})[er.DEBUG]="log",Jn[er.VERBOSE]="log",Jn[er.INFO]="info",Jn[er.WARN]="warn",Jn[er.ERROR]="error",Jn),ur=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ar[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,tr(["["+i+"]  "+t.name+":"],n))}},cr=function(){function t(t){this.name=t,this._logLevel=sr,this._logHandler=ur,this._userLogHandler=null,rr.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in er))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?or[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,tr([this,er.DEBUG],t)),this._logHandler.apply(this,tr([this,er.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,tr([this,er.VERBOSE],t)),this._logHandler.apply(this,tr([this,er.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,tr([this,er.INFO],t)),this._logHandler.apply(this,tr([this,er.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,tr([this,er.WARN],t)),this._logHandler.apply(this,tr([this,er.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,tr([this,er.ERROR],t)),this._logHandler.apply(this,tr([this,er.ERROR],t))},t}();function hr(t){rr.forEach((function(e){e.setLogLevel(t)}))}var lr,fr=((ir={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ir["bad-app-name"]="Illegal App name: '{$appName}",ir["duplicate-app"]="Firebase App named '{$appName}' already exists",ir["app-deleted"]="Firebase App named '{$appName}' already deleted",ir["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ir["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ir),dr=new qn("app","Firebase",fr),pr=((lr={})["@firebase/app"]="fire-core",lr["@firebase/analytics"]="fire-analytics",lr["@firebase/app-check"]="fire-app-check",lr["@firebase/auth"]="fire-auth",lr["@firebase/database"]="fire-rtdb",lr["@firebase/functions"]="fire-fn",lr["@firebase/installations"]="fire-iid",lr["@firebase/messaging"]="fire-fcm",lr["@firebase/performance"]="fire-perf",lr["@firebase/remote-config"]="fire-rc",lr["@firebase/storage"]="fire-gcs",lr["@firebase/firestore"]="fire-fst",lr["fire-js"]="fire-js",lr["firebase-wrapper"]="fire-js-all",lr),vr=new cr("@firebase/app"),gr=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=xn(void 0,t),this.container=new Zn(e.name),this._addComponent(new Xn("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(pb){vr.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,pb)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw dr.create("app-deleted",{appName:this.name_})},t}();gr.prototype.name&&gr.prototype.options||gr.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yr(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw dr.create("bad-app-name",{appName:String(s)});if(zn(e,s))throw dr.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=pr[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void vr.warn(u.join(" "))}o(new Xn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:hr,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw dr.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=or[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:er[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=rr;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!zn(e,t=t||"[DEFAULT]"))throw dr.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return vr.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw dr.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&xn(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr=function t(){var e=yr(gr);return e.INTERNAL=Tn(Tn({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){xn(e,t)},createSubscribe:Kn,ErrorFactory:qn,deepExtend:xn}),e}(),br=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){vr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var wr=self.firebase.SDK_VERSION;wr&&wr.indexOf("LITE")>=0&&vr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ir=mr.initializeApp;mr.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ln()&&vr.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ir.apply(void 0,t)};var Er,Tr,_r=mr;function Sr(t){return Array.prototype.slice.call(t)}function Ar(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function kr(t,e,n){var r,i=new Promise((function(i,o){Ar(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Nr(t,e,n){var r=kr(t,e,n);return r.then((function(t){if(t)return new Pr(t,r.request)}))}function Dr(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Cr(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return kr(this[e],r,arguments)})}))}function Or(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function xr(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Nr(this[e],r,arguments)})}))}function Rr(t){this._index=t}function Pr(t,e){this._cursor=t,this._request=e}function Lr(t){this._store=t}function Mr(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function jr(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Mr(n)}function Fr(t){this._db=t}(Er=_r).INTERNAL.registerComponent(new Xn("platform-logger",(function(t){return new br(t)}),"PRIVATE")),Er.registerVersion("@firebase/app","0.6.30",Tr),Er.registerVersion("fire-js",""),Dr(Rr,"_index",["name","keyPath","multiEntry","unique"]),Cr(Rr,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),xr(Rr,"_index",IDBIndex,["openCursor","openKeyCursor"]),Dr(Pr,"_cursor",["direction","key","primaryKey","value"]),Cr(Pr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Pr.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Ar(e._request).then((function(t){if(t)return new Pr(t,e._request)}))}))})})),Lr.prototype.createIndex=function(){return new Rr(this._store.createIndex.apply(this._store,arguments))},Lr.prototype.index=function(){return new Rr(this._store.index.apply(this._store,arguments))},Dr(Lr,"_store",["name","keyPath","indexNames","autoIncrement"]),Cr(Lr,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),xr(Lr,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Or(Lr,"_store",IDBObjectStore,["deleteIndex"]),Mr.prototype.objectStore=function(){return new Lr(this._tx.objectStore.apply(this._tx,arguments))},Dr(Mr,"_tx",["objectStoreNames","mode"]),Or(Mr,"_tx",IDBTransaction,["abort"]),jr.prototype.createObjectStore=function(){return new Lr(this._db.createObjectStore.apply(this._db,arguments))},Dr(jr,"_db",["name","version","objectStoreNames"]),Or(jr,"_db",IDBDatabase,["deleteObjectStore","close"]),Fr.prototype.transaction=function(){return new Mr(this._db.transaction.apply(this._db,arguments))},Dr(Fr,"_db",["name","version","objectStoreNames"]),Or(Fr,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Lr,Rr].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=Sr(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Rr,Lr].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Vr,Ur=((Vr={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Vr["not-registered"]="Firebase Installation is not registered.",Vr["installation-not-found"]="Firebase Installation not found.",Vr["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Vr["app-offline"]="Could not process request. Application offline.",Vr["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Vr),qr=new qn("installations","Installations",Ur);function Br(t){return t instanceof Un&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function zr(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Kr(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,qr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Wr(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gr(t,e){var n=e.refreshToken,r=Wr(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function Hr(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Qr(t,e){var n=e.fid;return _n(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Sn(this,(function(u){switch(u.label){case 0:return e=$r(t),r=Wr(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.32"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Hr((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:zr(a.authToken)}];case 3:return[4,Kr("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yr=/^[cdef][\w-]{21}$/;function Jr(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Nn([],kn(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Yr.test(e)?e:""}catch(n){return""}}function Zr(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti=new Map;function ei(t,e){var n=Zr(t);ni(n,e),function(t,e){var n=ii();n&&n.postMessage({key:t,fid:e});oi()}(n,e)}function ni(t,e){var n,r,i=ti.get(t);if(i)try{for(var o=An(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var ri=null;function ii(){return!ri&&"BroadcastChannel"in self&&((ri=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){ni(t.data.key,t.data.fid)}),ri}function oi(){0===ti.size&&ri&&(ri.close(),ri=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,ai="firebase-installations-store",ui=null;function ci(){var t,e,n;return ui||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(ai)}},e=kr(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new jr(n.result,e.oldVersion,n.transaction))}),ui=e.then((function(t){return new Fr(t)}))),ui}function hi(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s;return Sn(this,(function(a){switch(a.label){case 0:return n=Zr(t),[4,ci()];case 1:return r=a.sent(),i=r.transaction(ai,"readwrite"),[4,(o=i.objectStore(ai)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||ei(t,e.fid),[2,e]}}))}))}function li(t){return _n(this,void 0,void 0,(function(){var e,n,r;return Sn(this,(function(i){switch(i.label){case 0:return e=Zr(t),[4,ci()];case 1:return n=i.sent(),[4,(r=n.transaction(ai,"readwrite")).objectStore(ai).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function fi(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Sn(this,(function(u){switch(u.label){case 0:return n=Zr(t),[4,ci()];case 1:return r=u.sent(),i=r.transaction(ai,"readwrite"),[4,(o=i.objectStore(ai)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||ei(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){return _n(this,void 0,void 0,(function(){var e,n,r;return Sn(this,(function(i){switch(i.label){case 0:return[4,fi(t,(function(n){var r=function(t){return gi(t||{fid:Jr(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qr.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Qr(t,e)];case 1:return n=i.sent(),[2,hi(t,n)];case 2:return Br(r=i.sent())&&409===r.customData.serverCode?[4,li(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,hi(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:pi(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function pi(t){return _n(this,void 0,void 0,(function(){var e,n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return[4,vi(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Xr(100)];case 3:return o.sent(),[4,vi(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,di(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function vi(t){return fi(t,(function(t){if(!t)throw qr.create("installation-not-found");return gi(t)}))}function gi(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function yi(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return _n(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Sn(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return $r(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=Gr(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.32"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,Hr((function(){return fetch(t,a)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,zr(c)];case 3:return[4,Kr("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function mi(t,e){return void 0===e&&(e=!1),_n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return[4,fi(t.appConfig,(function(r){if(!wi(r))throw qr.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return[4,bi(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Xr(100)];case 3:return i.sent(),[4,bi(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,mi(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw qr.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Tn(Tn({},t),{authToken:e})}(r);return n=function(t,e){return _n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,yi(t,e)];case 1:return n=o.sent(),i=Tn(Tn({},e),{authToken:n}),[4,hi(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Br(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,li(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Tn(Tn({},e),{authToken:{requestStatus:0}}),[4,hi(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function bi(t){return fi(t,(function(t){if(!wi(t))throw qr.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Tn(Tn({},t),{authToken:{requestStatus:0}}):t}))}function wi(t){return void 0!==t&&2===t.registrationStatus}function Ii(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return[4,di(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o;return Sn(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return $r(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=Gr(t,e),i={method:"DELETE",headers:r},[4,Hr((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,Kr("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ti(t,e){var n=t.appConfig;return function(t,e){ii();var n=Zr(t),r=ti.get(n);r||(r=new Set,ti.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Zr(t),r=ti.get(n);r&&(r.delete(e),0===r.size&&ti.delete(n),oi())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return qr.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(si=_r).INTERNAL.registerComponent(new Xn("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw _i("App Configuration");if(!t.name)throw _i("App Name");try{for(var r=An(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw _i(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return _n(this,void 0,void 0,(function(){var e,n,r;return Sn(this,(function(i){switch(i.label){case 0:return[4,di(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):mi(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),_n(this,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return[4,Ii(t.appConfig)];case 1:return n.sent(),[4,mi(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return _n(this,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:return[4,fi(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw qr.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw qr.create("app-offline");case 3:return[4,Ei(e,n)];case 4:return r.sent(),[4,li(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return Ti(n,t)}}}),"PUBLIC")),si.registerVersion("@firebase/installations","0.4.32");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Si,Ai,ki,Ni,Di="https://www.googletagmanager.com/gtag/js";(Ai=Si||(Si={})).EVENT="event",Ai.SET="set",Ai.CONFIG="config",(Ni=ki||(ki={})).ADD_SHIPPING_INFO="add_shipping_info",Ni.ADD_PAYMENT_INFO="add_payment_info",Ni.ADD_TO_CART="add_to_cart",Ni.ADD_TO_WISHLIST="add_to_wishlist",Ni.BEGIN_CHECKOUT="begin_checkout",Ni.CHECKOUT_PROGRESS="checkout_progress",Ni.EXCEPTION="exception",Ni.GENERATE_LEAD="generate_lead",Ni.LOGIN="login",Ni.PAGE_VIEW="page_view",Ni.PURCHASE="purchase",Ni.REFUND="refund",Ni.REMOVE_FROM_CART="remove_from_cart",Ni.SCREEN_VIEW="screen_view",Ni.SEARCH="search",Ni.SELECT_CONTENT="select_content",Ni.SELECT_ITEM="select_item",Ni.SELECT_PROMOTION="select_promotion",Ni.SET_CHECKOUT_OPTION="set_checkout_option",Ni.SHARE="share",Ni.SIGN_UP="sign_up",Ni.TIMING_COMPLETE="timing_complete",Ni.VIEW_CART="view_cart",Ni.VIEW_ITEM="view_item",Ni.VIEW_ITEM_LIST="view_item_list",Ni.VIEW_PROMOTION="view_promotion",Ni.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ci,Oi=new cr("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e,n,r,i,o){return _n(this,void 0,void 0,(function(){var s,a,u,c;return Sn(this,(function(h){switch(h.label){case 0:s=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=h.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),Oi.error(c),[3,8];case 8:return t(Si.CONFIG,i,o),[2]}}))}))}function Ri(t,e,n,r,i){return _n(this,void 0,void 0,(function(){var o,s,a,u,c,h,l,f;return Sn(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=s;c<h.length&&(l=h[c],"break"!==u(l));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Si.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),Oi.error(f),[3,5];case 5:return[2]}}))}))}function Pi(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return _n(this,void 0,void 0,(function(){var a;return Sn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Si.EVENT?[3,2]:[4,Ri(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==Si.CONFIG?[3,4]:[4,xi(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(Si.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),Oi.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var Li=((Ci={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ci["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ci["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ci["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ci["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ci["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ci["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ci["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ci["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ci),Mi=new qn("analytics","Analytics",Li),ji=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Fi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Vi(t){var e;return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sn(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Fi(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Mi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Ui(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=ji),_n(this,void 0,void 0,(function(){var e,s,a,u,c,h,l;return Sn(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,qi(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return Oi.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,Vi(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Un&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return Oi.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return h=503===Number(c.customData.httpStatus)?Hn(o,r.intervalMillis,30):Hn(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,l),Oi.debug("Calling attemptFetch again in "+h+" millis"),[2,Ui(t,l,n,r)];case 7:return[2]}}))}))}function qi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Mi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Bi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e,n,r,i,o){return _n(this,void 0,void 0,(function(){var s,a,u,c,h,l,f;return Sn(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=ji),_n(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return Sn(this,(function(h){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Mi.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Mi.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Bi,setTimeout((function(){return _n(c,void 0,void 0,(function(){return Sn(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Ui({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Oi.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Oi.error(t)})),e.push(s),a=function(){return _n(this,void 0,void 0,(function(){var t;return Sn(this,(function(e){switch(e.label){case 0:return jn()?[3,1]:(Oi.warn(Mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Fn()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Oi.warn(Mi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],h=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Di))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=Di+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=h&&(l.firebase_id=h),i(Si.CONFIG,c.measurementId,l),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi,Ki,Wi={},Gi=[],Hi={},Qi="dataLayer",Xi="gtag",Yi=!1;function Ji(t){if(Yi)throw Mi.create("already-initialized");t.dataLayerName&&(Qi=t.dataLayerName),t.gtagName&&(Xi=t.gtagName)}function Zi(t,e){!function(){var t=[];if(Mn()&&t.push("This is a browser extension environment."),Vn()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Mi.create("invalid-analytics-context",{errorInfo:e});Oi.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw Mi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mi.create("no-api-key");Oi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Wi[i])throw Mi.create("already-exists",{id:i});if(!Yi){n=Qi,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=Pi(Wi,Gi,Hi,Qi,Xi),s=o.wrappedGtag,a=o.gtagCore;Ki=s,zi=a,Yi=!0}return Wi[i]=$i(t,Gi,Hi,e,zi,Qi),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return _n(this,void 0,void 0,(function(){var o,s;return Sn(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Si.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Tn(Tn({},r),{send_to:o}),t(Si.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(Ki,Wi[i],t,e,n).catch((function(t){return Oi.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return _n(this,void 0,void 0,(function(){var i;return Sn(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Si.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Si.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Ki,Wi[i],t,e).catch((function(t){return Oi.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return _n(this,void 0,void 0,(function(){var i;return Sn(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Si.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Si.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Ki,Wi[i],t,e).catch((function(t){return Oi.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o,s,a,u;return Sn(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(Si.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Si.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Ki,Wi[i],t,e).catch((function(t){return Oi.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return _n(this,void 0,void 0,(function(){var n;return Sn(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Wi[i],t).catch((function(t){return Oi.error(t)}))},INTERNAL:{delete:function(){return delete Wi[i],Promise.resolve()}}}}function to(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:if(Mn())return[2,!1];if(!Vn())return[2,!1];if(!jn())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Fn()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Xn("analytics",(function(t){return Zi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ji,EventName:ki,isSupported:to})),t.INTERNAL.registerComponent(new Xn("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(pb){throw Mi.create("interop-component-reg-failed",{reason:pb})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(_r);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_r.registerVersion("firebase","8.10.0","app"),_r.SDK_VERSION="8.10.0",function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||k[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,A="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,I(O,Error),O.prototype.name="CustomError",I(x,O),x.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new P((function(){return new V}),(function(t){t.reset()}));function F(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},$=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=U(t,e)}function W(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function yt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt,bt={},wt={};function It(){if(void 0===mt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}mt=t}else mt=t}return mt}function Et(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=yt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?yt(t):encodeURIComponent(String(t))})))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Nt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),xt.test(t))t=new Nt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&Ct.test(e[1])?new Nt(t,Lt):null}return t}function Pt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Lt))}var Lt={},Mt=new Nt("about:invalid#zClosurez",Lt);function jt(t,e,n){this.a=n===Ft?t:""}jt.prototype.ta=!0,jt.prototype.sa=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t,e,n,r){return t=t instanceof Nt?t:Pt(t),e=e||s,n=n instanceof gt?yt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=h;var $t,zt,Kt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),Gt=ct("Edge"),Ht=Gt||Wt,Qt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(zt=X,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Gt?/Edge\/([\d\.]+)/.exec(zt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Xt?/WebKit\/(\S+)/.exec(zt):Kt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Wt){var te=Yt();if(null!=te&&te>parseFloat(Jt)){$t=String(te);break t}}$t=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String($t)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Wt){var ie=Yt();ee=ie||(parseInt($t,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var se=!Wt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}q(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(me)}}else he=function(){var t=me;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(he(),ge=!0),ye.add(t,e)}var ge=!1,ye=new M;function me(){for(var t;t=F();){try{t.a.call(t.b)}catch(e){pe(e)}L(j,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,Ie,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(pb){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new P((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(h);return Re(e,Ie,t),e}function ke(t){return new be((function(e,n){n(t)}))}function Ne(t,e,n){Pe(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,Ee,e)))}t.c=null}else Re(t,Ee,e)}function Oe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Ue||function(t,e){t.g=!0,ve((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(pb){Ve.call(null,pb)}L(_e,e)}function Fe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ue(t);ve((function(){Ce(this,e)}),this)}},t.$c=function(t){this.a=we,Re(this,Ie,t)},t.ad=function(t){this.a=we,Re(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=pe;function Ue(t){O.call(this,t)}function qe(){this.ya=this.ya,this.pa=this.pa}I(Ue,O),Ue.prototype.name="cancel";var Be={};function $e(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t);delete Be[e]}}qe.prototype.ya=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ke=!Wt||9<=Number(oe),We=Wt&&!re("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Qe,He);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=gn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?In(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&ln(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function bn(){qe.call(this),this.v=new en(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,qe),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var i=t;pt(t=new He(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=kn.prototype).X=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,xn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Pn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(Cn))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function xn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Kn)),t.b=new Gn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function jn(t){return t instanceof On?new On(t):new On(t,void 0)}function Fn(t,e,n,r){var i=new On(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?zn:$n,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Wn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.c;n?xn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,$n=/[#\?:]/g,zn=/[#\?]/g,Kn=/[#\?@]/g,Wn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Hn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Yn(t,e){return Hn(t),e=tr(t,e),Dn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Q(n)),t.b+=n.length)}function Zn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Hn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Hn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Hn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=H(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return Wt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||Mt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Sr(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Rt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Pt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Vt("",r,n,s),t=Dt(e),s&&(Ht&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new jt(t=(r=It())?r.createHTML(t):t,null,Ft),r=s.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Vt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function yr(t){return t=t||Nr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return _r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":_r.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function Sr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Sr(i=Nr()):"Worker"===r&&(r=Sr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Or(){return(xr()||"chrome-extension:"===Rr()||yr())&&!Ir()&&Cr()&&!br()}function xr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Pr(t){return!lr(t=t||Nr())&&Sr(t)!=Er}function Lr(t){return void 0===t?null:er(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Sr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=lr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function $r(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}qr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!xr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Gr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Hr.abcd}catch(zt){Kr=!1}function Qr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Yr(t){var e={};return Xr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ri]),Qr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Qr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[hi],r=t[fi],i=t[di];if(t=ti(t[li]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[yi]=n||null,e[pi]=r):(e[vi]=r||null,e[yi]=r||null,e[pi]=n||null),e[gi]=t||null,Qr(this,bi,i),Qr(this,mi,Jr(e))}I(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",hi="email",li="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",mi="data",bi="operation";function wi(t){var e=Mn(t=jn(t),Ii)||null,n=Mn(t,Ei)||null,r=Mn(t,Si)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",Ii+", "+Ei+"and "+Si+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ti)||null,languageCode:Mn(t,_i)||null,tenantId:Mn(t,Ai)||null})}var Ii="apiKey",Ei="oobCode",Ti="continueUrl",_i="languageCode",Si="mode",Ai="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new wi(t)}catch(e){return null}}function Di(t){var e=t[Pi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[ji];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[xi])&&"boolean"!=typeof e)throw new T("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Oi="dynamicLinkDomain",xi="handleCodeInApp",Ri="iOS",Pi="url",Li="installApp",Mi="minimumVersion",ji="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function qi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function $i(t){try{return new Bi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=qi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ki},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Qi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Xi])return new Ji(t)}catch(r){}return null}var Xi="idToken",Yi="providerId";function Ji(t){var e=t[Yi];if(!e&&t[Xi]){var n=$i(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Qr(this,"profile",Jr((t=jr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=jn(t),n=Mn(e,"link"),r=Mn(jn(n),"link");return e=Mn(e,"deep_link_id"),Mn(jn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}I(Zi,Ji),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then((function(t){if(t[Js]){var n=$i(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function ho(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(t)||{}).Ja||null,this.pb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function bo(t){yo.call(this,t,Wi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function To(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function _o(){bo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function Ao(){yo.call(this,"twitter.com",Ki)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Co(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new No(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ni(t=io(t)))&&t.operation===ui?t:null}function Ro(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||_r.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return Io(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ho(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},ho.prototype.ka=function(t){return wa(t,lo(this))},ho.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Ia(t,n)},ho.prototype.c=function(t,e){return co(Ea(t,lo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return wa(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ia(t,n)},po.prototype.c=function(t,e){return co(Ea(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Jb=ft(t),this},I(mo,yo),I(bo,yo),bo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return Q(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(wo,bo),Qr(wo,"PROVIDER_ID","facebook.com"),Qr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,bo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(_o,bo),Qr(_o,"PROVIDER_ID","google.com"),Qr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Ao,yo),Qr(Ao,"PROVIDER_ID","twitter.com"),Qr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ca,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):ru(t,za,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return co(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Co,{PROVIDER_ID:"password"}),Xr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.gb(Lo(this))},Ro.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,ru(t,tu,n)},Ro.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then((function(t){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return ru(t,Ga,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Mo,{PROVIDER_ID:"phone"}),Xr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,zo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Ho(){}function Qo(t){return t.c||(t.c=t.b())}function Xo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(pb){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}I(Ko,T),I(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,I(Xo,Ho),Xo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},$o=new Xo,I(Jo,Ho),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(R("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(d(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},hs=null;function ls(t){var e;if(hs||(hs=new ns(""),cs[""]=hs,hs.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function ps(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ds,Ho),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),I(ps,bn);var vs=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ys(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ys(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ys(this):ms(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ys(this))},t.sc=function(t){this.a&&(this.response=t,ys(this))},t.Va=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ys(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(bs,bn);var ws="";bs.prototype.b=ls("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():$o.a(),t.C=t.D?Qo(t.D):Qo($o),t.a.onreadystatechange=b(t.Wb,t);try{fs(t.b,xs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return fs(t.b,xs(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=An(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=_s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ds(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,xs(t,"Send error: "+a.message)),Ss(t,a)}}function _s(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,As(t),Ns(t)}function As(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Cs(t)&&2==Os(t))fs(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){fs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Os(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Cn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(h){fs(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+Os(t)+"]",As(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){Ds(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(pb){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+pb.message,void 0)}}}function Ds(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function Os(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function xs(t,e){return e+" ["+t.P+" "+t.l+" "+Os(t)+"]"}function Rs(t){var e=zs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function Ls(t){if(t.a){if(!t.v)throw new Vs(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function js(t){return z(t.g,(function(t){return d(t[1])}))}function Fs(t){if(t.h&&t.a&&js(t)){var e=t.h,n=Bs[e];n&&(s.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,js(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Rs?(Ms(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qs(e),Bs[e.a]=e,t.h=e.a)}function Vs(){O.call(this)}function Us(){O.call(this)}function qs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),bs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ks(this):this.Jc())},t.Jc=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Us(this),Ls(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,I(Vs,O),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",I(Us,O),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function $s(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Rs(o);return e=window.setTimeout((function(){Ks(i,!0);var t=new Hs(Gs,"Timeout reached for loading script "+r);Ls(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,!1,e),Ls(a),Ps(a,!0,null))},i.onerror=function(){Ks(i,!0,e);var t=new Hs(Ws,"Error while loading script "+r);Ls(a),Ps(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function zs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Gs=1;function Hs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Qs(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&_r.INTERNAL.node&&_r.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ds(self):Ir()?this.f=new Qs(n):this.f=new Jo,this.b=null}I(Hs,O),I(Qs,Ho),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Ys,Js="idToken",Zs=new qr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new qr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=jn(t),e=jn(e.url),t.f=t.a+t.f,xn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Sr(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}($s(_t(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Xs.prototype.T=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),$e(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),$e(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function ha(t,e,n,r,i,o,s){var a=jn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Mr(i)),t.a,t.v.get())}))}function la(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&la(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.Ab=function(){return ru(this,Ka,{})},Xs.prototype.Cb=function(t,e){return ru(this,$a,{idToken:t,email:e})},Xs.prototype.Db=function(t,e){return ru(this,za,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ya(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Ha,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Xs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ht(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,$a,n)},t.wb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fa,t)},t.xb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},t.vb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Fb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,ja,t)},t.gb=function(t){return ru(this,Za,t)},t.ob=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,Sa,{oobCode:t})},t.kb=function(t){return ru(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Aa={endpoint:"signupNewUser",A:function(t){if(la(t),!t.password)throw new T("weak-password")},G:da,V:!0,B:!0},ka={endpoint:"createAuthUri",B:!0},Na={endpoint:"deleteAccount",O:["idToken"]},Da={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ca={endpoint:"emailLinkSignin",O:["email","oobCode"],A:la,G:da,V:!0,B:!0},Oa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:la,G:da,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");la(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");la(t)},Z:"email",B:!0},Va={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ua={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},qa={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$a={endpoint:"setAccountInfo",O:["idToken"],A:fa,V:!0},za={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:da,V:!0},Ka={endpoint:"signupNewUser",G:da,V:!0,B:!0},Wa={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ga={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:ya,Za:ma,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:ya,Za:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:function(t){if(ya(t),!t.idToken)throw new T("internal-error")},Za:ma,G:ba,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(la(t),!t.password)throw new T("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);da(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ha(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.sb=function(t){return(hu||(hu=new be((function(t,e){function n(){Ur(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},Ae($s(r=_t(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw hu=null,t})))).then((function(){return new be((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new qr(3e4,6e4),cu=new qr(5e3,15e3),hu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=jn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return _r.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=ur();return function(t){return ru(t,Va,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(ur())}))}function gu(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function yu(t){return t.l||(t.C=t.c?kr(t.c,du(t.b)):null,t.l=new Xs(t.g,D(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new fu(t,e,n,r,i,l)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.zb(h).toString()}function bu(t){if(this.a=t||_r.INTERNAL.reactNative&&_r.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=jn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=_r.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Ln(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),lt(e)||Ln(t,"customParameters",Lr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(s=du(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return _n(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Nr();return!Pr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Pr())return this.ma().o((function(e){fr(t),i(e)})),r(),Ae();this.a||(this.a=vu(yu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=vu(yu(this)));var i=this;return this.a.then((function(){Vo(e),cr(mu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){G(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Lr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e}))}}function Nu(){if(!xu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(q(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),Tu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new _u(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Cu(t){return t.i||(t.i=Du(t)),t.i}function Ou(t,e){var n=0;return new be((function r(i,o){Cu(t).then(e).then(i).o((function(e){if(!(3<++n))return Cu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xu(){try{return!!s.indexedDB}catch(zt){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function ju(t){return Cu(t).then((function(t){var e=Ru(Pu(t,!1));return e.getAll?Lu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(xu()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new Nu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&_r.INTERNAL.node&&_r.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||_r.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $u(){this.type="nullStorage"}function zu(){if(!function(){var t="Node"==wr();if(!(t=Ku()||t&&_r.INTERNAL.node&&_r.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||_r.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){var t={};t.Browser=Qu,t.Node=Xu,t.ReactNative=Yu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Ou(this,(function(e){return Lu((e=Ru(Pu(e,!0))).get(t))})).then((function(i){return Ou(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Ou(this,(function(e){return Lu(Ru(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Ou(this,(function(r){return n=!0,e.b++,Lu(Ru(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Fu(t),e()}(this),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ae().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=$u.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return Ae().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Gu,Hu,Qu={F:qu,cb:zu},Xu={F:qu,cb:zu},Yu={F:bu,cb:$u},Ju={F:qu,cb:$u},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Nr())||!mr()),e=Pr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Wu),t=Gu;try{this.g=!ar()&&zr()||!s.indexedDB?new t.a.F:new Vu(br()?new Uu:new t.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Uu}this.v=new Uu,this.f=b(this.Zb,this),this.b={}}function ec(){return Hu||(Hu=new tc),Hu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!zr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Wt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function hc(t,e){this.b=lc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(mc):mc),this.reset()}I(hc,(function(){this.b=-1}));for(var lc=64,fc=lc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=H(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|ac[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}I(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,vc,56-e.c):yc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return $(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(Mn(o=jn(i),"firebaseError")||null))?_(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=_n(500).then((function(){return Ac(t).then((function(){r||_c(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Bo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},t.Nb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Ae().then((function(){return Vo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",s),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Tc(o),h.sessionId=o;var l=mu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Dr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=_n(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Br()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){G(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Dc(t){return ic(t.b,Nc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new Xc,this.g=new kc($c(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Oc(this.D,this.v,this.m,S,this.J)}function Oc(t,e,n,r,i){var o=_r.SDK_VERSION||null;return yr()?new Ic(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Yb()&&xc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Ub()||Wc(t.b)}function Pc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){xc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Lc(t,e){G(t.h,(function(t){return t==e}))}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Oc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Wc(this.b),e};var Mc=new qr(2e3,1e4),jc=new qr(3e4,6e4);function Fc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Vc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new be((function(){})):Dc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Cc.prototype.ra=function(){return this.b.ra()};var Bc={};function $c(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function zc(t,e,n,r){var i=$c(e,n,r);return Bc[i]||(Bc[i]=new Cc(t,e,n,r)),Bc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function Hc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,Qr(this,"verificationId",t)}function Zc(t,e,n,r){return new Mo(t).gb(e,n).then((function(t){return new Jc(t,r)}))}function th(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:$r(1e3*e.exp),authTime:$r(1e3*e.auth_time),issuedAtTime:$r(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function eh(t,e,n){var r=e&&e[rh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;q(e[nh]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Qc(this,!1,null,null),Ae())}else ke(new T("invalid-auth-event"))},Kc.prototype.ra=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=_n(jc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=jo(this.verificationId,t),this.a(t)};var nh="mfaInfo",rh="mfaPendingCredential";function ih(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new eh(t,e,n),Qr(this,"resolver",this.b)}function oh(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ih(e,t.serverResponse,n,t.message)}catch(r){}return null}function sh(){}function ah(t){Qr(this,"factorId",t.fa),this.a=t}function uh(t){if(ah.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ch(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function hh(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),lh(this,n)}function lh(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dh(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Br()||!t?Ae():new be((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dh(t,!0)})).o((function(e){t.i(e)&&dh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gh(t,e){t.b=$i(e[Js]||""),t.a=e.refreshToken,vh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=$i(e.access_token),t.a=e.refresh_token,vh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function mh(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:$r(e||null),creationTime:$r(t||null)})}function bh(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=_r.SDK_VERSION?kr(_r.SDK_VERSION):null;this.a=new Xs(this.l,D(S),r),(this.u=t.emulatorConfig||null)&&ia(this.a,this.u),this.h=new ph(this.a),Dh(this,e[Js]),gh(this.h,e),Qr(this,"refreshToken",this.h.a),xh(this,n||{}),bn.call(this),this.P=!1,this.s&&Or()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){Ih(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_h(i,t.f)},this.ja=null,this.S=new hh(this,n),Qr(this,"multiFactor",this.S)}function Ih(t,e){t.u=e,ia(t.a,e),t.b&&(e=t.b,t.b=zc(t.s,t.l,t.m,t.u),t.P&&(Lc(e,t),Pc(t.b,t)))}function Eh(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&an(e,"languageCodeChanged",t.Pa)}function Th(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&an(e,"emulatorConfigChanged",t.Ba)}function _h(t,e){t.aa=e,sa(t.a,_r.SDK_VERSION?kr(_r.SDK_VERSION,t.aa):null)}function Sh(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&an(e,"frameworkChanged",t.Oa)}function Ah(t){try{return _r.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kh(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),an(t,"tokenChanged",t.ba))}function Nh(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function Dh(t,e){t.Aa=e,Qr(t,"_lat",e)}function Ch(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function Oh(t){t.b&&!t.P&&(t.P=!0,Pc(t.b,t))}function xh(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new mh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Rh(){}function Ph(t){return Ae().then((function(){if(t.J)throw new T("app-deleted")}))}function Lh(t){return $(t.providerData,(function(t){return t.providerId}))}function Mh(t,e){e&&(jh(t,e.providerId),t.providerData.push(e))}function jh(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Fh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Vh(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new mh(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new mh),q(e.providerData,(function(e){Mh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),lh(t.S,e.S.b))}function Uh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Fh(t,"isAnonymous",!1),e}))}))}function qh(t,e){e[Js]&&t.Aa!=e[Js]&&(gh(t.h,e),t.dispatchEvent(new ch("tokenChanged")),Dh(t,e[Js]),Fh(t,"refreshToken",t.h.a))}function Bh(t,e){return Uh(t).then((function(){if(K(Lh(t),e))return Ch(t).then((function(){throw new T("provider-already-linked")}))}))}function $h(t,e,n){return Yr({user:t,credential:Fo(e),additionalUserInfo:e=Qi(e),operationType:n})}function zh(t,e){return qh(t,e),t.reload().then((function(){return t}))}function Kh(t,e,n,r,i){if(!Or())return ke(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=Hi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Pr()||mr())&&t.s&&n.isOAuthProvider&&(a=mu(t.s,t.l,t.m,e,n,null,s,_r.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(a,o&&o.va,o&&o.ua);return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return Fc(t.b,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.b,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?Yr(t):null})).o((function(t){throw u&&fr(u),t})),Hh(t,r,i)}function Wh(t,e,n,r,i){if(!Or())return ke(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Ch(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yh,t.w(),e.a)),e})).then((function(){return Uc(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jh(t.ha);throw o})).then((function(){if(o)throw o})),Hh(t,r,i)}function Gh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Hh(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),ke(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ch("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),Ah(t),b(t.jc,t))),n||e}))}function Qh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wh(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Mh(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xh(t){this.a=t,this.b=ec()}eh.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nh],delete n[rh],pt(n,t),e.g(n)}))},I(ih,T),sh.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Lo(t.a)}),ru(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),ru(e,Ra,n)}))}(this,t,e)},I(ah,sh),I(uh,ah),I(ch,He),(t=hh.prototype).yc=function(t){lh(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return qh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return lh(e,r),qh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:$(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,dh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?yh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},mh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(wh,bn),wh.prototype.xa=function(t){this.za=t,ra(this.a,t)},wh.prototype.la=function(){return this.za},wh.prototype.Ga=function(){return Q(this.aa)},wh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(wh.prototype,"providerId","firebase"),(t=wh.prototype).reload=function(){var t=this;return Hh(this,Ph(this).then((function(){return Uh(t).then((function(){return Ch(t)})).then(Rh)})))},t.oc=function(t){return this.I(t).then((function(t){return new th(t)}))},t.I=function(t){var e=this;return Hh(this,Ph(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(Dh(e,t.accessToken),e.dispatchEvent(new ch("tokenChanged"))),Fh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");xh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?$(t,(function(t){return new bh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Mh(this,e[n]);Fh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ch("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Hh(this,t.c(this.a,this.uid).then((function(t){return qh(e,t),n=$h(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Hh(this,Bh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=$h(e,t,"link"),zh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Hh(this,Bh(this,"phone").then((function(){return Zc(Ah(n),t,e,b(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Hh(this,Ae().then((function(){return Zc(Ah(n),t,e,b(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return qh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Hh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return qh(e,t),e.reload()})))},t.Db=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return qh(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ph(this);var e=this;return Hh(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return qh(e,t),Fh(e,"displayName",t.displayName||null),Fh(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Ch(e)})).then(Rh))},t.cd=function(t){var e=this;return Hh(this,Uh(this).then((function(n){return K(Lh(e),t)?function(t,e,n){return ru(t,Da,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Lh(e),(function(t){n[t]||jh(e,t)})),n[Mo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Ch(e)})):Ch(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Hh(this,this.I().then((function(e){return ru(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new ch("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Eh(t,null),Th(t,null),Sh(t,null),t.N=[],t.J=!0,Nh(t),Qr(t,"refreshToken",null),t.b&&Lc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return Kh(this,"linkViaPopup",t,(function(){return Bh(e,t.providerId).then((function(){return Ch(e)}))}),!1)},t.Nc=function(t){return Kh(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Wh(this,"linkViaRedirect",t,(function(){return Bh(e,t.providerId)}),!1)},t.Oc=function(t){return Wh(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=$h(i,t,"link"),zh(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,Ae().then((function(){return co(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=$h(i,t,"reauthenticate"),qh(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Hh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Vi(new Di(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Hh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Vi(new Di(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Hh(this,t=co(Ae(t),n.uid).then((function(t){return e=$h(n,t,"reauthenticate"),qh(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.S.w()),t};var Yh={name:"redirectUser",F:"session"};function Jh(t){return ic(t.b,Yh,t.a)}function Zh(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=nl("local"),n=nl("session"),r=nl("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=jr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(el,t.a).then((function(t){return t?nl(t):e}))}))}))})).then((function(e){return t.c=e,tl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nl("local"),this.a,b(this.g,this))}function tl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,nl(Zu[n]),t.a));return r.push(ic(t.b,el,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ne(t[a],w(o,a),s);else e(i)}))}(r)}Zh.prototype.g=function(){var t=this,e=nl("local");sl(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return tl(t,"local").then((function(){t.c=e}))}))}))};var el={name:"persistence",F:"session"};function nl(t){return{name:"authUser",F:t}}function rl(t,e){return sl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function il(t){return sl(t,(function(){return ic(t.b,t.c,t.a)}))}function ol(t,e,n){return sl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Qh(t||{})}))}))}function sl(t,e){return t.f=t.f.then(e,e),t.f}function al(t){if(this.l=!1,Qr(this,"settings",new Yc),Qr(this,"app",t),!gl(this).options||!gl(this).options.apiKey)throw new T("invalid-api-key");t=_r.SDK_VERSION?kr(_r.SDK_VERSION):null,this.a=new Xs(gl(this).options&&gl(this).options.apiKey,D(S),t),this.P=[],this.s=[],this.N=[],this.Pa=_r.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=_r.INTERNAL.createSubscribe(b(this.Ac,this)),pl(this,null),this.i=new Zh(gl(this).options.apiKey+":"+gl(this).name),this.D=new Xh(gl(this).options.apiKey+":"+gl(this).name),this.$=wl(this,function(t){var e=gl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Qh(t||{})}))}(t.D,gl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jh(t.D)}));return wl(t,e)}(t).then((function(){return ol(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:il(t.i)}))):null})).then((function(e){pl(t,e||null)}));return wl(t,n)}(this)),this.h=wl(this,function(t){return t.$.then((function(){return fl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=gl(t).options.authDomain,n=gl(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=zc(e,n,gl(t).name,t.R),Pc(t.b,t),yl(t)&&Oh(yl(t)),t.m){Oh(t.m);var r=t.m;r.xa(t.la()),Eh(r,t),_h(r=t.m,t.J),Sh(r,t),Ih(r=t.m,t.R),Th(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=jn(this.R.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function ul(t){He.call(this,"languageCodeChanged"),this.h=t}function cl(t){He.call(this,"emulatorConfigChanged"),this.c=t}function hl(t){He.call(this,"frameworkChanged"),this.f=t}function ll(t){return t.Oa||ke(new T("auth-domain-config-required"))}function fl(t){if(!Or())return ke(new T("operation-not-supported-in-this-environment"));var e=ll(t).then((function(){return t.b.ra()})).then((function(t){return t?Yr(t):null}));return wl(t,e)}function dl(t,e){var n={};return n.apiKey=gl(t).options.apiKey,n.authDomain=gl(t).options.authDomain,n.appName=gl(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new wh(t,e);return n&&(i.ha=n),r&&_h(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return yl(t)&&e.uid==yl(t).uid?(Vh(yl(t),e),t.da(e)):(pl(t,e),Oh(e),t.da(e))})).then((function(){bl(t)}))}function pl(t,e){yl(t)&&(function(t,e){G(t.W,(function(t){return t==e}))}(yl(t),t.Ba),hn(yl(t),"tokenChanged",t.qa),hn(yl(t),"userDeleted",t.za),hn(yl(t),"userInvalidated",t.Aa),Nh(yl(t))),e&&(e.W.push(t.Ba),an(e,"tokenChanged",t.qa),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&kh(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),Eh(e,t),_h(e,t.J),Sh(e,t),Ih(e,t.R),Th(e,t))}function vl(t,e){var n=null,r=null;return wl(t,e.then((function(e){return n=Fo(e),r=Qi(e),dl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Yr({user:yl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gl(t){return t.app}function yl(t){return t.currentUser}function ml(t){return yl(t)&&yl(t)._lat||null}function bl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ml(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](ml(t))}}function wl(t,e){return t.P.push(e),e.oa((function(){W(t.P,e)})),e}function Il(){}function El(){this.a={},this.b=1e12}Zh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),sl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,tl(n,t)})).then((function(){if(n.c=nl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(al,bn),I(ul,He),I(cl,He),I(hl,He),(t=al.prototype).yb=function(t){return wl(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new ul(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ia(this.a,this.R),this.dispatchEvent(new cl(this.R))}},t.Gc=function(t){this.J.push(t),sa(this.a,_r.SDK_VERSION?kr(_r.SDK_VERSION,this.J):null),this.dispatchEvent(new hl(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:gl(this).options.apiKey,authDomain:gl(this).options.authDomain,appName:gl(this).name,currentUser:yl(this)&&yl(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vl(i,wa(i.a,o))}))},t.Xc=function(t){if(!Or())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),r=Fr(),i=null;(!Pr()||mr())&&gl(this).options.authDomain&&t.isOAuthProvider&&(i=mu(gl(this).options.authDomain,gl(this).options.apiKey,gl(this).name,"signInViaPopup",t,null,r,_r.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return wl(this,n=ll(this).then((function(n){return Fc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Yr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Or())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return wl(this,ll(this).then((function(){return function(t){return sl(t,(function(){return t.b.set(el,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fl(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new T("null-user"));if(this.S!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=gl(this).options.apiKey,n.authDomain=gl(this).options.authDomain,n.appName=gl(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_h(e,r),Vh(e,t),e}(t,n,e.D,e.Ga());return wl(this,this.h.then((function(){if(gl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return yl(e)&&t.uid==yl(e).uid?(Vh(yl(e),t),e.da(t)):(pl(e,r),Oh(r),e.da(r))})).then((function(){bl(e)})))},t.Bb=function(){var t=this;return wl(this,this.h.then((function(){return t.b&&Gc(t.b.b),yl(t)?(pl(t,null),il(t.i).then((function(){bl(t)}))):Ae()})))},t.Zc=function(){var t=this;return ol(this.i,gl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=yl(t)&&e){n=yl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Vh(yl(t),e),yl(t).I();(yl(t)||e)&&(pl(t,e),e&&(Oh(e),e.ha=t.D),t.b&&Pc(t.b,t),bl(t))}}))},t.da=function(t){return rl(this.i,t)},t.mc=function(){bl(this),this.da(yl(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return vl(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(yl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),wl(t,t.h.then((function(){!t.l&&K(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ml(t)))})))}(this,(function(){t.next(yl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(yl(r)):"function"==typeof t.next&&t.next(yl(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(yl(r)):"function"==typeof t.next&&t.next(yl(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return wl(this,this.h.then((function(){return yl(e)?yl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return vl(e,ru(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Fh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return vl(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return vl(n,ru(n.a,Aa,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return vl(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=yl(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vl(t,t.a.Ab()).then((function(e){var n=e.user;return Fh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return yl(this)&&yl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&yl(this)&&kh(yl(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&yl(this)&&Nh(yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),wl(this,this.h.then((function(){e.l||K(e.s,t)&&t(ml(e))})))},t.removeAuthTokenListener=function(t){G(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nl("local"),t.a,this.ja),this.b&&(Lc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return wl(this,function(t,e){return ru(t,ka,{identifier:e,continueUri:xr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.xb=function(t,e){var n=this;return wl(this,Ae().then((function(){var t=new Di(e);if(!t.c)throw new T("argument-error",xi+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return wl(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return wl(this,this.a.Sa(t).then((function(t){return new si(t)})))},t.kb=function(t){return wl(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return wl(this,Ae().then((function(){return void 0===e||lt(e)?{}:Vi(new Di(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return wl(this,Zc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return wl(this,Ae().then((function(){var r=e||ur(),i=Oo(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Il.prototype.render=function(){},Il.prototype.reset=function(){},Il.prototype.getResponse=function(){},Il.prototype.execute=function(){};var Tl=null;function _l(t,e){return(e=Sl(e))&&t.a[e]||null}function Sl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Al(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function kl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nl(){}function Dl(){}El.prototype.render=function(t,e){return this.a[this.b.toString()]=new Al(t,e),this.b++},El.prototype.reset=function(t){var e=_l(this,t);t=Sl(t),e&&t&&(e.delete(),delete this.a[t])},El.prototype.getResponse=function(t){return(t=_l(this,t))?t.getResponse():null},El.prototype.execute=function(t){(t=_l(this,t))&&t.execute()},Al.prototype.getResponse=function(){return kl(this),this.b},Al.prototype.execute=function(){kl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Al.prototype.delete=function(){kl(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Qr(Nl,"FACTOR_ID","phone"),Dl.prototype.g=function(){return Tl||(Tl=new El),Ae(Tl)},Dl.prototype.c=function(){};var Cl=null;function Ol(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xl=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rl=new qr(3e4,6e4);Ol.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rl.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ae($s(_t(xl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Ol.prototype.c=function(){this.b--};var Pl=null;function Ll(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Cl||(Cl=new Dl),a=Cl):(Pl||(Pl=new Ol),a=Pl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vl],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ml];this.a[Ml]=function(t){if(Ul(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,s);"function"==typeof e&&e(t)}};var h=this.a[jl];this.a[jl]=function(){if(Ul(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Dr(h,s);"function"==typeof t&&t()}}}var Ml="callback",jl="expired-callback",Fl="sitekey",Vl="size";function Ul(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function ql(t,e){return t.h.push(e),e.oa((function(){W(t.h,e)})),e}function Bl(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function $l(t,e,n){var r=!1;try{this.b=n||_r.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=_r.SDK_VERSION?kr(_r.SDK_VERSION,o):null,Ll.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function zl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kl.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Kl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ll.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=ql(this,Ae().then((function(){if(xr()&&!br())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Ua,{})})).then((function(e){t.a[Fl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Bl(this);var t=this;return ql(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Bl(this);var t=this;return ql(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Bl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Bl(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I($l,Ll);var Kl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Hl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Ql(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zl(t){return p(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){zl(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(al.prototype,{kb:{name:"applyActionCode",j:[Wl("code")]},Sa:{name:"checkActionCode",j:[Wl("code")]},ob:{name:"confirmPasswordReset",j:[Wl("code"),Wl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wl("email"),Wl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wl("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf(Hl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf(Hl(),Ql(),"nextOrObserver"),Ql("opt_error",!0),Ql("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wl("email"),tf(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wl("email"),Hl("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yl()]},Tc:{name:"signInWithCustomToken",j:[Wl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wl("email"),Wl("password")]},Vc:{name:"signInWithEmailLink",j:[Wl("email"),Wl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wh)}},Xl(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wl("url"),Hl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wl("code")]}}),nf(al.prototype,{lc:{name:"languageCode",lb:tf(Wl(),Xl(),"languageCode")},ti:{name:"tenantId",lb:tf(Wl(),Xl(),"tenantId")}}),al.Persistence=Zu,al.Persistence.LOCAL="local",al.Persistence.SESSION="session",al.Persistence.NONE="none",ef(wh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yl()]},rb:{name:"linkWithCredential",j:[Yl()]},Dc:{name:"linkWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yl()]},ub:{name:"reauthenticateWithCredential",j:[Yl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wl(null,!0)]},cd:{name:"unlink",j:[Wl("provider")]},Cb:{name:"updateEmail",j:[Wl("email")]},Db:{name:"updatePassword",j:[Wl("password")]},ed:{name:"updatePhoneNumber",j:[Yl("phone")]},Eb:{name:"updateProfile",j:[Hl("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wl("email"),tf(Hl("opt_actionCodeSettings",!0),Xl(null,!0),"opt_actionCodeSettings",!0)]}}),ef(El.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Gl("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Wl("verificationCode")]}}),rf(uo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Do,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Wl(),Hl(),"json")]),rf(Co,"credential",(function(t,e){return new No(t,e)}),[Wl("email"),Wl("password")]),ef(No.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),ef(wo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),rf(wo,"credential",Io,[tf(Wl(),Hl(),"token")]),rf(Co,"credentialWithLink",Oo,[Wl("email"),Wl("emailLink")]),ef(Eo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),rf(Eo,"credential",To,[tf(Wl(),Hl(),"token")]),ef(_o.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),rf(_o,"credential",So,[tf(Wl(),tf(Hl(),Xl()),"idToken"),tf(Wl(),Xl(),"accessToken",!0)]),ef(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),rf(Ao,"credential",ko,[tf(Wl(),Hl(),"token"),Wl("secret",!0)]),ef(bo.prototype,{Ca:{name:"addScope",j:[Wl("scope")]},credential:{name:"credential",j:[tf(Wl(),tf(Hl(),Xl()),"optionsOrIdToken"),tf(Wl(),Xl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),ef(po.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),ef(ho.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),rf(Mo,"credential",jo,[Wl("verificationId"),Wl("verificationCode")]),ef(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Wl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jl(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jl(t.session,ao)&&Zl(t.multiFactorHint):t.session&&t.multiFactorUid?Jl(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Ro.prototype,{w:{name:"toJSON",j:[Wl(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),ef(Wo.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),ef(Ko.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),ef(ih.prototype,{toJSON:{name:"toJSON",j:[Wl(null,!0)]}}),ef(eh.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(hh.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Wl("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zl},Wl(),"multiFactorInfoIdentifier")]}}),ef($l.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(wi,"parseLink",Ni,[Wl("link")]),rf(Nl,"assertion",(function(t){return new uh(t)}),[Yl("phone")]),function(){if(void 0===_r||!_r.INTERNAL||!_r.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:al,AuthCredential:uo,Error:T};rf(t,"EmailAuthProvider",Co,[]),rf(t,"FacebookAuthProvider",wo,[]),rf(t,"GithubAuthProvider",Eo,[]),rf(t,"GoogleAuthProvider",_o,[]),rf(t,"TwitterAuthProvider",Ao,[]),rf(t,"OAuthProvider",bo,[Wl("providerId")]),rf(t,"SAMLAuthProvider",mo,[Wl("providerId")]),rf(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof al)}}]),rf(t,"RecaptchaVerifier",$l,[tf(Wl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof _r.app.App)}}]),rf(t,"ActionCodeURL",wi,[]),rf(t,"PhoneMultiFactorGenerator",Nl,[]),_r.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new al(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),_r.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),_r.registerVersion("@firebase/auth","0.16.8"),_r.INTERNAL.extendNamespace({User:wh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var eo=function(t,e){return(eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function no(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ro,io="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oo=oo||{},so=io||self;function ao(){}function uo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function co(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ho="closure_uid_"+(1e9*Math.random()>>>0),lo=0;function fo(t,e,n){return t.call.apply(t.bind,arguments)}function po(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function vo(t,e,n){return(vo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fo:po).apply(null,arguments)}function go(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yo(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function mo(){this.s=this.s,this.o=this.o}var bo={};mo.prototype.s=!1,mo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,ho)&&t[ho]||(t[ho]=++lo)}(this);delete bo[t]}},mo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Io=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Eo(t){return Array.prototype.concat.apply([],arguments)}function To(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _o(t){return/^[\s\xa0]*$/.test(t)}var So,Ao=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ko(t,e){return-1!=t.indexOf(e)}function No(t,e){return t<e?-1:t>e?1:0}t:{var Do=so.navigator;if(Do){var Co=Do.userAgent;if(Co){So=Co;break t}}So=""}function Oo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xo(t){var e={};for(var n in t)e[n]=t[n];return e}var Ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Po(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ro.length;o++)n=Ro[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lo(t){return Lo[" "](t),t}Lo[" "]=ao;var Mo,jo,Fo=ko(So,"Opera"),Vo=ko(So,"Trident")||ko(So,"MSIE"),Uo=ko(So,"Edge"),qo=Uo||Vo,Bo=ko(So,"Gecko")&&!(ko(So.toLowerCase(),"webkit")&&!ko(So,"Edge"))&&!(ko(So,"Trident")||ko(So,"MSIE"))&&!ko(So,"Edge"),$o=ko(So.toLowerCase(),"webkit")&&!ko(So,"Edge");function zo(){var t=so.document;return t?t.documentMode:void 0}t:{var Ko="",Wo=(jo=So,Bo?/rv:([^\);]+)(\)|;)/.exec(jo):Uo?/Edge\/([\d\.]+)/.exec(jo):Vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(jo):$o?/WebKit\/(\S+)/.exec(jo):Fo?/(?:Version)[ \/]?(\S+)/.exec(jo):void 0);if(Wo&&(Ko=Wo?Wo[1]:""),Vo){var Go=zo();if(null!=Go&&Go>parseFloat(Ko)){Mo=String(Go);break t}}Mo=Ko}var Ho,Qo={};function Xo(){return function(t){var e=Qo;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Ao(String(Mo)).split("."),n=Ao("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=No(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||No(0==o[2].length,0==s[2].length)||No(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(so.document&&Vo){var Yo=zo();Ho=Yo||(parseInt(Mo,10)||void 0)}else Ho=void 0;var Jo=Ho,Zo=function(){if(!so.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{so.addEventListener("test",ao,e),so.removeEventListener("test",ao,e)}catch(n){}return t}();function ts(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function es(t,e){if(ts.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bo){t:{try{Lo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ns[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&es.Z.h.call(this)}}ts.prototype.h=function(){this.defaultPrevented=!0},yo(es,ts);var ns={2:"touch",3:"pen",4:"mouse"};es.prototype.h=function(){es.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rs="closure_listenable_"+(1e6*Math.random()|0),is=0;function os(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++is,this.ca=this.fa=!1}function ss(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function as(t){this.src=t,this.g={},this.h=0}function us(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=wo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ss(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function cs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}as.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=cs(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new os(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var hs="closure_lm_"+(1e6*Math.random()|0),ls={};function fs(t,e,n,r,i){if(r&&r.once)return ps(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fs(t,e[o],n,r,i);return null}return n=Is(n),t&&t[rs]?t.N(e,n,co(r)?!!r.capture:!!r,i):ds(t,e,n,!1,r,i)}function ds(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=co(i)?!!i.capture:!!i,a=bs(t);if(a||(t[hs]=a=new as(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=ms;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ys(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ps(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ps(t,e[o],n,r,i);return null}return n=Is(n),t&&t[rs]?t.O(e,n,co(r)?!!r.capture:!!r,i):ds(t,e,n,!0,r,i)}function vs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vs(t,e[o],n,r,i);else r=co(r)?!!r.capture:!!r,n=Is(n),t&&t[rs]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=cs(o=t.g[e],n,r,i))&&(ss(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=bs(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cs(e,n,r,i)),(n=-1<t?e[t]:null)&&gs(n))}function gs(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rs])us(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ys(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bs(e))?(us(n,t),0==n.h&&(n.src=null,e[hs]=null)):ss(t)}}}function ys(t){return t in ls?ls[t]:ls[t]="on"+t}function ms(t,e){if(t.ca)t=!0;else{e=new es(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&gs(t),t=n.call(r,e)}return t}function bs(t){return(t=t[hs])instanceof as?t:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function Is(t){return"function"==typeof t?t:(t[ws]||(t[ws]=function(e){return t.handleEvent(e)}),t[ws])}function Es(){mo.call(this),this.i=new as(this),this.P=this,this.I=null}function Ts(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ts(e,t);else if(e instanceof ts)e.target=e.target||t;else{var i=e;Po(e=new ts(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=_s(s,r,!0,e)&&i}if(i=_s(s=e.g=t,r,!0,e)&&i,i=_s(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=_s(s=e.g=n[o],r,!1,e)&&i}function _s(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&us(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}yo(Es,mo),Es.prototype[rs]=!0,Es.prototype.removeEventListener=function(t,e,n,r){vs(this,t,e,n,r)},Es.prototype.M=function(){if(Es.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ss(n[r]);delete e.g[t],e.h--}}this.I=null},Es.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Es.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ss=so.JSON.stringify;function As(){var t=Ps,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ks,Ns=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Ds.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Ds=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Cs}),(function(t){return t.reset()})),Cs=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Os(t){so.setTimeout((function(){throw t}),0)}function xs(t,e){ks||function(){var t=so.Promise.resolve(void 0);ks=function(){t.then(Ls)}}(),Rs||(ks(),Rs=!0),Ps.add(t,e)}var Rs=!1,Ps=new Ns;function Ls(){for(var t;t=As();){try{t.h.call(t.g)}catch(n){Os(n)}var e=Ds;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rs=!1}function Ms(t,e){Es.call(this),this.h=t||1,this.g=e||so,this.j=vo(this.kb,this),this.l=Date.now()}function js(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Fs(t,e,n){if("function"==typeof t)n&&(t=vo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vo(t.handleEvent,t)}return 2147483647<Number(e)?-1:so.setTimeout(t,e||0)}function Vs(t){t.g=Fs((function(){t.g=null,t.i&&(t.i=!1,Vs(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}yo(Ms,Es),(ro=Ms.prototype).da=!1,ro.S=null,ro.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ts(this,"tick"),this.da&&(js(this),this.start()))}},ro.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ro.M=function(){Ms.Z.M.call(this),js(this),delete this.g};var Us=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}eo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Vs(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(so.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(mo);function qs(t){mo.call(this),this.h=t,this.g={}}yo(qs,mo);var Bs=[];function $s(t,e,n,r){Array.isArray(n)||(n&&(Bs[0]=n.toString()),n=Bs);for(var i=0;i<n.length;i++){var o=fs(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zs(t){Oo(t.g,(function(t,e){this.g.hasOwnProperty(e)&&gs(t)}),t),t.g={}}function Ks(){this.g=!0}function Ws(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ss(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qs.prototype.M=function(){qs.Z.M.call(this),zs(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ks.prototype.Aa=function(){this.g=!1},Ks.prototype.info=function(){};var Gs={},Hs=null;function Qs(){return Hs=Hs||new Es}function Xs(t){ts.call(this,Gs.Ma,t)}function Ys(t){var e=Qs();Ts(e,new Xs(e,t))}function Js(t,e){ts.call(this,Gs.STAT_EVENT,t),this.stat=e}function Zs(t){var e=Qs();Ts(e,new Js(e,t))}function ta(t,e){ts.call(this,Gs.Na,t),this.size=e}function ea(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return so.setTimeout((function(){t()}),e)}Gs.Ma="serverreachability",yo(Xs,ts),Gs.STAT_EVENT="statevent",yo(Js,ts),Gs.Na="timingevent",yo(ta,ts);var na={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ra={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ia(){}function oa(t){return t.h||(t.h=t.i())}function sa(){}ia.prototype.h=null;var aa,ua={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ca(){ts.call(this,"d")}function ha(){ts.call(this,"c")}function la(){}function fa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new qs(this),this.P=pa,t=qo?125:void 0,this.W=new Ms(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}yo(ca,ts),yo(ha,ts),yo(la,ia),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},aa=new la;var pa=45e3,va={},ga={};function ya(t,e,n){t.K=1,t.v=Ua(Pa(e)),t.s=n,t.U=!0,ma(t,null)}function ma(t,e){t.F=Date.now(),Ea(t),t.A=Pa(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Za(n.h,"t",r),t.C=0,n=t.l.H,t.h=new da,t.g=tc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Us(vo(t.Ia,t,t.g),t.O)),$s(t.V,t.g,"readystatechange",t.gb),e=t.H?xo(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ys(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");s=2<=l.length&&"type"==l[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function ba(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function wa(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ia(t,n))==ga){4==e&&(t.o=4,Zs(14),i=!1),Ws(t.j,t.m,null,"[Incomplete Response]");break}if(r==va){t.o=4,Zs(15),Ws(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Ws(t.j,t.m,r,null),ka(t,r)}ba(t)&&r!=ga&&r!=va&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zs(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wu(e),e.L=!0,Zs(11))):(Ws(t.j,t.m,n,"[Invalid Chunked Response]"),Aa(t),Sa(t))}function Ia(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ga:(n=Number(e.substring(n,r)),isNaN(n)?va:(r+=1)+n>e.length?ga:(e=e.substr(r,n),t.C=r+n,e))}function Ea(t){t.Y=Date.now()+t.P,Ta(t,t.P)}function Ta(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ea(vo(t.eb,t),e)}function _a(t){t.B&&(so.clearTimeout(t.B),t.B=null)}function Sa(t){0==t.l.G||t.I||Qu(t.l,t)}function Aa(t){_a(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,js(t.W),zs(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ka(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||su(n.i,t)))if(n.I=t.N,!t.J&&su(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Hu(n),ju(n)}Ku(n),Zs(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ea(vo(n.ab,n),6e3));if(1>=ou(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else Yu(n,11)}else if((t.J||n.g==t)&&Hu(n),!_o(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var h=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=r.i;!l.g&&(ko(h,"spdy")||ko(h,"quic")||ko(h,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(au(l,l.h),l.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Va(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Zu(r,r.H?r.la:null,r.W),d.J){uu(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(_a(p),Ea(p)),r.g=d}else zu(r);0<n.l.length&&Uu(n)}else"stop"!=o[0]&&"close"!=o[0]||Yu(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Yu(n,7):Mu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Ys(4)}catch(g){}}function Na(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(uo(t)||"string"==typeof t)Io(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(uo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(uo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Da(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Da)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ca(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Oa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Oa(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Oa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ro=fa.prototype).setTimeout=function(t){this.P=t},ro.gb=function(t){t=t.target;var e=this.L;e&&3==Ou(t)?e.l():this.Ia(t)},ro.Ia=function(t){try{if(t==this.g)t:{var e=Ou(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||qo||this.g&&(this.h.h||this.g.ga()||xu(this.g)))){this.I||4!=e||7==n||Ys(8==n||0>=r?3:2),_a(this);var i=this.g.ba();this.N=i;e:if(ba(this)){var o=xu(this.g);t="";var s=o.length,a=4==Ou(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Aa(this),Sa(this);var u="";break e}this.h.i=new so.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_o(c)){var l=c;break e}}l=null}if(!(i=l)){this.i=!1,this.o=3,Zs(12),Aa(this),Sa(this);break t}Ws(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ka(this,i)}this.U?(wa(this,e,u),qo&&this.i&&3==e&&($s(this.V,this.W,"tick",this.fb),this.W.start())):(Ws(this.j,this.m,u,null),ka(this,u)),4==e&&Aa(this),this.i&&!this.I&&(4==e?Qu(this.l,this):(this.i=!1,Ea(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Zs(12)):(this.o=0,Zs(13)),Aa(this),Sa(this)}}}catch(f){}},ro.fb=function(){if(this.g){var t=Ou(this.g),e=this.g.ga();this.C<e.length&&(_a(this),wa(this,t,e),this.i&&4!=t&&Ea(this))}},ro.cancel=function(){this.I=!0,Aa(this)},ro.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Ys(3),Zs(17)),Aa(this),this.o=2,Sa(this)):Ta(this,this.Y-t)},(ro=Da.prototype).R=function(){Ca(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},ro.T=function(){return Ca(this),this.g.concat()},ro.get=function(t,e){return Oa(this.h,t)?this.h[t]:e},ro.set=function(t,e){Oa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},ro.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ra(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ra){this.g=void 0!==e?e:t.g,La(this,t.j),this.s=t.s,Ma(this,t.i),ja(this,t.m),this.l=t.l,e=t.h;var n=new Qa;n.i=e.i,e.g&&(n.g=new Da(e.g),n.h=e.h),Fa(this,n),this.o=t.o}else t&&(n=String(t).match(xa))?(this.g=!!e,La(this,n[1]||"",!0),this.s=qa(n[2]||""),Ma(this,n[3]||"",!0),ja(this,n[4]),this.l=qa(n[5]||"",!0),Fa(this,n[6]||"",!0),this.o=qa(n[7]||"")):(this.g=!!e,this.h=new Qa(null,this.g))}function Pa(t){return new Ra(t)}function La(t,e,n){t.j=n?qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ma(t,e,n){t.i=n?qa(e,!0):e}function ja(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fa(t,e,n){e instanceof Qa?(t.h=e,function(t,e){e&&!t.j&&(Xa(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ya(this,e),Za(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ba(e,Ga)),t.h=new Qa(e,t.g))}function Va(t,e,n){t.h.set(e,n)}function Ua(t){return Va(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ba(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$a),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $a(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ra.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ba(e,za,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ba(e,za,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ba(n,"/"==n.charAt(0)?Wa:Ka,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ba(n,Ha)),t.join("")};var za=/[#\/\?@]/g,Ka=/[#\?:]/g,Wa=/[#\?]/g,Ga=/[#\?@]/g,Ha=/#/g;function Qa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xa(t){t.g||(t.g=new Da,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ya(t,e){Xa(t),e=tu(t,e),Oa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Oa((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ca(t)))}function Ja(t,e){return Xa(t),e=tu(t,e),Oa(t.g.h,e)}function Za(t,e,n){Ya(t,e),0<n.length&&(t.i=null,t.g.set(tu(t,e),To(n)),t.h+=n.length)}function tu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ro=Qa.prototype).add=function(t,e){Xa(this),this.i=null,t=tu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ro.forEach=function(t,e){Xa(this),this.g.forEach((function(n,r){Io(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ro.T=function(){Xa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ro.R=function(t){Xa(this);var e=[];if("string"==typeof t)Ja(this,t)&&(e=Eo(e,this.g.get(tu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Eo(e,t[n])}return e},ro.set=function(t,e){return Xa(this),this.i=null,Ja(this,t=tu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ro.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},ro.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var eu=function(t,e){this.h=t,this.g=e};function nu(t){this.l=t||ru,so.PerformanceNavigationTiming?t=0<(t=so.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(so.g&&so.g.Ea&&so.g.Ea()&&so.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ru=10;function iu(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ou(t){return t.h?1:t.g?t.g.size:0}function su(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function au(t,e){t.g?t.g.add(e):t.h=e}function uu(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function cu(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=no(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return To(t.i)}function hu(){}function lu(){this.g=new hu}function fu(t,e,n){var r=n||"";try{Na(t,(function(t,n){var i=t;co(t)&&(i=Ss(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(pb){throw e.push(r+"type="+encodeURIComponent("_badmap")),pb}}function du(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function pu(t){this.l=t.$b||null,this.j=t.ib||!1}function vu(t,e){Es.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=gu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nu.prototype.cancel=function(){var t,e;if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=no(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},hu.prototype.stringify=function(t){return so.JSON.stringify(t,void 0)},hu.prototype.parse=function(t){return so.JSON.parse(t,void 0)},yo(pu,ia),pu.prototype.g=function(){return new vu(this.l,this.j)},pu.prototype.i=function(t){return function(){return t}}({}),yo(vu,Es);var gu=0;function yu(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function mu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bu(t)}function bu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ro=vu.prototype).open=function(t,e){if(this.readyState!=gu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bu(this)},ro.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||so).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ro.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mu(this)),this.readyState=gu},ro.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bu(this)),this.g&&(this.readyState=3,bu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==so.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yu(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ro.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mu(this):bu(this),3==this.readyState&&yu(this)}},ro.Ua=function(t){this.g&&(this.response=this.responseText=t,mu(this))},ro.Ta=function(t){this.g&&(this.response=t,mu(this))},ro.ha=function(){this.g&&mu(this)},ro.setRequestHeader=function(t,e){this.v.append(t,e)},ro.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ro.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wu=so.JSON.parse;function Iu(t){Es.call(this),this.headers=new Da,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Eu,this.K=this.L=!1}yo(Iu,Es);var Eu="",Tu=/^https?$/i,_u=["POST","PUT"];function Su(t){return"content-type"==t.toLowerCase()}function Au(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ku(t),Du(t)}function ku(t){t.D||(t.D=!0,Ts(t,"complete"),Ts(t,"error"))}function Nu(t){if(t.h&&void 0!==oo&&(!t.C[1]||4!=Ou(t)||2!=t.ba()))if(t.v&&4==Ou(t))Fs(t.Fa,0,t);else if(Ts(t,"readystatechange"),4==Ou(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(xa)[1]||null;if(!o&&so.self&&so.self.location){var s=so.self.location.protocol;o=s.substr(0,s.length-1)}i=!Tu.test(o?o.toLowerCase():"")}e=i}if(e)Ts(t,"complete"),Ts(t,"success");else{t.m=6;try{var a=2<Ou(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",ku(t)}}finally{Du(t)}}}function Du(t,e){if(t.g){Cu(t);var n=t.g,r=t.C[0]?ao:null;t.g=null,t.C=null,e||Ts(t,"ready");try{n.onreadystatechange=r}catch(pb){}}}function Cu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(so.clearTimeout(t.A),t.A=null)}function Ou(t){return t.g?t.g.readyState:0}function xu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Eu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ru(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Oo(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Va(t,e,n))}function Pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Lu(t){this.za=0,this.l=[],this.h=new Ks,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pu("baseRetryDelayMs",5e3,t),this.$a=Pu("retryDelaySeedMs",1e4,t),this.Ya=Pu("forwardChannelMaxRetries",2,t),this.ra=Pu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new nu(t&&t.concurrentRequestLimit),this.Ca=new lu,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Mu(t){if(Fu(t),3==t.G){var e=t.V++,n=Pa(t.F);Va(n,"SID",t.J),Va(n,"RID",e),Va(n,"TYPE","terminate"),Bu(t,n),(e=new fa(t,t.h,e,void 0)).K=2,e.v=Ua(Pa(n)),n=!1,so.navigator&&so.navigator.sendBeacon&&(n=so.navigator.sendBeacon(e.v.toString(),"")),!n&&so.Image&&((new Image).src=e.v,n=!0),n||(e.g=tc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ea(e)}Ju(t)}function ju(t){t.g&&(Wu(t),t.g.cancel(),t.g=null)}function Fu(t){ju(t),t.u&&(so.clearTimeout(t.u),t.u=null),Hu(t),t.i.cancel(),t.m&&("number"==typeof t.m&&so.clearTimeout(t.m),t.m=null)}function Vu(t,e){t.l.push(new eu(t.Za++,e)),3==t.G&&Uu(t)}function Uu(t){iu(t.i)||t.m||(t.m=!0,xs(t.Ha,t),t.C=0)}function qu(t,e){var n;n=e?e.m:t.V++;var r=Pa(t.F);Va(r,"SID",t.J),Va(r,"RID",n),Va(r,"AID",t.U),Bu(t,r),t.o&&t.s&&Ru(r,t.o,t.s),n=new fa(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=$u(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),au(t.i,n),ya(n,r,e)}function Bu(t,e){t.j&&Na({},(function(t,n){Va(e,n,t)}))}function $u(t,e,n){n=Math.min(t.l.length,n);var r=t.j?vo(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,h=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{fu(h,s,"req"+c+"_")}catch(l){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function zu(t){t.g||t.u||(t.Y=1,xs(t.Ga,t),t.A=0)}function Ku(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ea(vo(t.Ga,t),Xu(t,t.A)),t.A++,!0)}function Wu(t){null!=t.B&&(so.clearTimeout(t.B),t.B=null)}function Gu(t){t.g=new fa(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Pa(t.oa);Va(e,"RID","rpc"),Va(e,"SID",t.J),Va(e,"CI",t.N?"0":"1"),Va(e,"AID",t.U),Bu(t,e),Va(e,"TYPE","xmlhttp"),t.o&&t.s&&Ru(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ua(Pa(e)),n.s=null,n.U=!0,ma(n,t)}function Hu(t){null!=t.v&&(so.clearTimeout(t.v),t.v=null)}function Qu(t,e){var n=null;if(t.g==e){Hu(t),Wu(t),t.g=null;var r=2}else{if(!su(t.i,e))return;n=e.D,uu(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ts(r=Qs(),new ta(r,n,e,i)),Uu(t)}else zu(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ou(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ea(vo(t.Ha,t,e),Xu(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ku(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Yu(t,5);break;case 4:Yu(t,10);break;case 3:Yu(t,6);break;default:Yu(t,2)}}function Xu(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Yu(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=vo(t.jb,t);n||(n=new Ra("//www.google.com/images/cleardot.gif"),so.location&&"http"==so.location.protocol||La(n,"https"),Ua(n)),function(t,e){var n=new Ks;if(so.Image){var r=new Image;r.onload=go(du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=go(du,n,r,"TestLoadImage: error",!1,e),r.onabort=go(du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=go(du,n,r,"TestLoadImage: timeout",!1,e),so.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zs(2);t.G=0,t.j&&t.j.va(e),Ju(t),Fu(t)}function Ju(t){t.G=0,t.I=-1,t.j&&(0==cu(t.i).length&&0==t.l.length||(t.i.i.length=0,To(t.l),t.l.length=0),t.j.ua())}function Zu(t,e,n){var r=function(t){return t instanceof Ra?Pa(t):new Ra(t,void 0)}(n);if(""!=r.i)e&&Ma(r,e+"."+r.i),ja(r,r.m);else{var i=so.location;r=function(t,e,n,r){var i=new Ra(null,void 0);return t&&La(i,t),e&&Ma(i,e),n&&ja(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Oo(t.aa,(function(t,e){Va(r,e,t)})),e=t.D,n=t.sa,e&&n&&Va(r,e,n),Va(r,"VER",t.ma),Bu(t,r),r}function tc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Iu(new pu({ib:!0})):new Iu(t.qa)).L=t.H,e}function ec(){}function nc(){if(Vo&&!(10<=Number(Jo)))throw Error("Environmental error: no available transport.")}function rc(t,e){Es.call(this),this.g=new Lu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!_o(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_o(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new sc(this)}function ic(t){ca.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function oc(){ha.call(this),this.status=1}function sc(t){this.g=t}(ro=Iu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():aa.g(),this.C=this.u?oa(this.u):oa(aa),this.g.onreadystatechange=vo(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Au(this,o)}t=n||"";var i=new Da(this.headers);r&&Na(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Su,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=so.FormData&&t instanceof so.FormData,!(0<=wo(_u,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cu(this),0<this.B&&((this.K=function(t){return Vo&&Xo()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vo(this.pa,this)):this.A=Fs(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Au(this,o)}},ro.pa=function(){void 0!==oo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ts(this,"timeout"),this.abort(8))},ro.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ts(this,"complete"),Ts(this,"abort"),Du(this))},ro.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Iu.Z.M.call(this)},ro.Fa=function(){this.s||(this.F||this.v||this.l?Nu(this):this.cb())},ro.cb=function(){Nu(this)},ro.ba=function(){try{return 2<Ou(this)?this.g.status:-1}catch(jo){return-1}},ro.ga=function(){try{return this.g?this.g.responseText:""}catch(jo){return""}},ro.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wu(e)}},ro.Da=function(){return this.m},ro.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ro=Lu.prototype).ma=8,ro.G=1,ro.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},ro.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new fa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Po(n=xo(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=$u(this,e,r),Va(i=Pa(this.F),"RID",t),Va(i,"CVER",22),this.D&&Va(i,"X-HTTP-Session-Id",this.D),Bu(this,i),this.o&&n&&Ru(i,this.o,n),au(this.i,e),this.Ra&&Va(i,"TYPE","init"),this.ja?(Va(i,"$req",r),Va(i,"SID","null"),e.$=!0,ya(e,i,null)):ya(e,i,r),this.G=2}}else 3==this.G&&(t?qu(this,t):0==this.l.length||iu(this.i)||qu(this))},ro.Ga=function(){if(this.u=null,Gu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ea(vo(this.bb,this),t)}},ro.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zs(10),ju(this),Gu(this))},ro.ab=function(){null!=this.v&&(this.v=null,ju(this),Ku(this),Zs(19))},ro.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Zs(2)):(this.h.info("Failed to ping google.com"),Zs(1))},(ro=ec.prototype).xa=function(){},ro.wa=function(){},ro.va=function(){},ro.ua=function(){},ro.Oa=function(){},nc.prototype.g=function(t,e){return new rc(t,e)},yo(rc,Es),rc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),xs(vo(t.hb,t,e))),Zs(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Zu(t,null,t.W),Uu(t)},rc.prototype.close=function(){Mu(this.g)},rc.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Vu(this.g,e)}else this.v?((e={}).__data__=Ss(t),Vu(this.g,e)):Vu(this.g,t)},rc.prototype.M=function(){this.g.j=null,delete this.j,Mu(this.g),delete this.g,rc.Z.M.call(this)},yo(ic,ca),yo(oc,ha),yo(sc,ec),sc.prototype.xa=function(){Ts(this.g,"a")},sc.prototype.wa=function(t){Ts(this.g,new ic(t))},sc.prototype.va=function(t){Ts(this.g,new oc(t))},sc.prototype.ua=function(){Ts(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,rc.prototype.send=rc.prototype.u,rc.prototype.open=rc.prototype.m,rc.prototype.close=rc.prototype.close,na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,ra.COMPLETE="complete",sa.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",Es.prototype.listen=Es.prototype.N,Iu.prototype.listenOnce=Iu.prototype.O,Iu.prototype.getLastError=Iu.prototype.La,Iu.prototype.getLastErrorCode=Iu.prototype.Da,Iu.prototype.getStatus=Iu.prototype.ba,Iu.prototype.getResponseJson=Iu.prototype.Qa,Iu.prototype.getResponseText=Iu.prototype.ga,Iu.prototype.send=Iu.prototype.ea;var ac=na,uc=ra,cc=Gs,hc=10,lc=11,fc=pu,dc=sa,pc=Iu,vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();vc.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return En(e,t),e}(Error),mc=new cr("@firebase/firestore");function bc(){return mc.logLevel}function wc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mc.logLevel<=er.DEBUG){var r=e.map(Tc);mc.debug.apply(mc,Nn(["Firestore (8.10.0): "+t],r))}}function Ic(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mc.logLevel<=er.ERROR){var r=e.map(Tc);mc.error.apply(mc,Nn(["Firestore (8.10.0): "+t],r))}}function Ec(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mc.logLevel<=er.WARN){var r=e.map(Tc);mc.warn.apply(mc,Nn(["Firestore (8.10.0): "+t],r))}}function Tc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Ic(e),new Error(e)}function Sc(t,e){t||_c()}function Ac(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=kc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Dc(t,e){return t<e?-1:t>e?1:0}function Cc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Oc(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Dc(this.nanoseconds,t.nanoseconds):Dc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new xc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&_c(),void 0===n?n=t.length-e:n>t.length-e&&_c(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new yc(gc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(jc),Vc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Vc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yc(gc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new yc(gc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yc(gc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new yc(gc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(jc),qc=function(){function t(t){this.fields=t,t.sort(Uc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Cc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Bc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Dc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Bc.EMPTY_BYTE_STRING=new Bc("");var $c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(t){if(Sc(!!t),"string"==typeof t){var e=0,n=$c.exec(t);if(Sc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kc(t.seconds),nanos:Kc(t.nanos)}}function Kc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wc(t){return"string"==typeof t?Bc.fromBase64String(t):Bc.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hc(t){var e=t.mapValue.fields.__previous_value__;return Gc(e)?Hc(e):e}function Qc(t){var e=zc(t.mapValue.fields.__local_write_time__.timestampValue);return new xc(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){return null==t}function Yc(t){return 0===t&&1/t==-1/0}function Jc(t){return"number"==typeof t&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Fc.fromString(e))},t.fromName=function(e){return new t(Fc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Fc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Fc(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gc(t)?4:10:_c()}function eh(t,e){var n,r=th(t);if(r!==th(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zc(t.timestampValue),r=zc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Wc(t.bytesValue).isEqual(Wc(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kc(t.geoPointValue.latitude)===Kc(e.geoPointValue.latitude)&&Kc(t.geoPointValue.longitude)===Kc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kc(t.integerValue)===Kc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kc(t.doubleValue),r=Kc(e.doubleValue);return n===r?Yc(n)===Yc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],eh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Pc(n)!==Pc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eh(n[i],r[i])))return!1;return!0}(t,e);default:return _c()}}function nh(t,e){return void 0!==(t.values||[]).find((function(t){return eh(t,e)}))}function rh(t,e){var n,r,i,o,s=th(t),a=th(e);if(s!==a)return Dc(s,a);switch(s){case 0:return 0;case 1:return Dc(t.booleanValue,e.booleanValue);case 2:return r=e,i=Kc((n=t).integerValue||n.doubleValue),o=Kc(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return ih(t.timestampValue,e.timestampValue);case 4:return ih(Qc(t),Qc(e));case 5:return Dc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Wc(t),r=Wc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Dc(n[i],r[i]);if(0!==o)return o}return Dc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Dc(Kc(t.latitude),Kc(e.latitude));return 0!==n?n:Dc(Kc(t.longitude),Kc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=rh(n[i],r[i]);if(o)return o}return Dc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Dc(r[s],o[s]);if(0!==a)return a;var u=rh(n[r[s]],i[o[s]]);if(0!==u)return u}return Dc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw _c()}}function ih(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Dc(t,e);var n=zc(t),r=zc(e),i=Dc(n.seconds,r.seconds);return 0!==i?i:Dc(n.nanos,r.nanos)}function oh(t){return sh(t)}function sh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=zc(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Wc(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Zc.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=sh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+sh(t.fields[o])}return e+"}"}(t.mapValue):_c();var e,n,r,i}function ah(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function uh(t){return!!t&&"integerValue"in t}function ch(t){return!!t&&"arrayValue"in t}function hh(t){return!!t&&"nullValue"in t}function lh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Lc(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=dh(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dh(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ph=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!fh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dh(e)},t.prototype.setAll=function(t){var e=this,n=Uc.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=dh(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());fh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return eh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];fh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Lc(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(dh(this.value))},t}();function vh(t){var e=[];return Lc(t.fields,(function(t,n){var r=new Uc([t]);if(fh(n)){var i=vh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new qc(e)}var gh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Rc.min(),ph.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ph.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ph.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ph.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ph.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),yh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new yh(t,e,n,r,i,o,s)}function bh(t){var e=Ac(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+oh(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),Xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=xh(e.startAt)),e.endAt&&(n+="|ub:",n+=xh(e.endAt)),e.h=n}return e.h}function wh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ph(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!eh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mh(t.startAt,e.startAt)&&Mh(t.endAt,e.endAt)}function Ih(t){return Zc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Eh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return En(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Th(t,n,r):"array-contains"===n?new kh(t,r):"in"===n?new Nh(t,r):"not-in"===n?new Dh(t,r):"array-contains-any"===n?new Ch(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new _h(t,n):new Sh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(rh(e,this.value)):null!==e&&th(this.value)===th(e)&&this.m(rh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _c()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Th=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zc.fromName(r.referenceValue),i}return En(e,t),e.prototype.matches=function(t){var e=Zc.comparator(t.key,this.key);return this.m(e)},e}(Eh),_h=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ah("in",n),r}return En(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Eh),Sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ah("not-in",n),r}return En(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Eh);function Ah(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Zc.fromName(t.referenceValue)}))}var kh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return En(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ch(e)&&nh(e.arrayValue,this.value)},e}(Eh),Nh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return En(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&nh(this.value.arrayValue,e)},e}(Eh),Dh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return En(e,t),e.prototype.matches=function(t){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!nh(this.value.arrayValue,e)},e}(Eh),Ch=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return En(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return nh(e.value.arrayValue,t)}))},e}(Eh),Oh=function(t,e){this.position=t,this.before=e};function xh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return oh(t)})).join(",")}var Rh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ph(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Zc.comparator(Zc.fromName(s.referenceValue),n.key):rh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!eh(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Fh(t,e,n,r,i,o,s,a){return new jh(t,e,n,r,i,o,s,a)}function Vh(t){return new jh(t)}function Uh(t){return!Xc(t.limit)&&"F"===t.limitType}function qh(t){return!Xc(t.limit)&&"L"===t.limitType}function Bh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $h(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function zh(t){return null!==t.collectionGroup}function Kh(t){var e=Ac(t);if(null===e.p){e.p=[];var n=$h(e),r=Bh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Rh(n)),e.p.push(new Rh(Uc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Rh(Uc.keyField(),u))}}}return e.p}function Wh(t){var e=Ac(t);if(!e.T)if("F"===e.limitType)e.T=mh(e.path,e.collectionGroup,Kh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kh(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Rh(o.field,s))}var a=e.endAt?new Oh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Oh(e.startAt.position,!e.startAt.before):null;e.T=mh(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Gh(t,e,n){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return wh(Wh(t),Wh(e))&&t.limitType===e.limitType}function Qh(t){return bh(Wh(t))+"|lt:"+t.limitType}function Xh(t){return"Query(target="+(e=Wh(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+oh(e.value);var e})).join(", ")+"]"),Xc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+xh(e.startAt)),e.endAt&&(n+=", endAt: "+xh(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Yh(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Zc.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Lh(t.startAt,Kh(t),e)||t.endAt&&Lh(t.endAt,Kh(t),e))}(t,e);var n,r,i}function Jh(t){return function(e,n){for(var r=!1,i=0,o=Kh(t);i<o.length;i++){var s=o[i],a=Zh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Zh(t,e,n){var r,i,o,s,a=t.field.isKeyField()?Zc.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?rh(o,s):_c());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return _c()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function el(t){return{integerValue:""+t}}function nl(t,e){return Jc(e)?el(e):tl(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl=function(){this._=void 0};function il(t,e,n){return t instanceof al?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof ul?cl(t,e):t instanceof hl?ll(t,e):function(t,e){var n=sl(t,e),r=dl(n)+dl(t.A);return uh(n)&&uh(t.A)?el(r):tl(t.R,r)}(t,e);var r,i,o}function ol(t,e,n){return t instanceof ul?cl(t,e):t instanceof hl?ll(t,e):n}function sl(t,e){return t instanceof fl?uh(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e}(rl),ul=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return En(e,t),e}(rl);function cl(t,e){for(var n=pl(e),r=function(t){n.some((function(e){return eh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var hl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return En(e,t),e}(rl);function ll(t,e){for(var n=pl(e),r=function(t){n=n.filter((function(e){return!eh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return En(e,t),e}(rl);function dl(t){return Kc(t.integerValue||t.doubleValue)}function pl(t){return ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vl=function(t,e){this.field=t,this.transform=e},gl=function(t,e){this.version=t,this.transformResults=e},yl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ml(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var bl=function(){};function wl(t,e,n){var r,i,o,s,a;t instanceof Sl?(i=e,o=n,s=(r=t).value.clone(),a=Nl(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof Al?function(t,e,n){if(ml(t.precondition,e)){var r=Nl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(kl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n){var r;t instanceof Sl?function(t,e,n){if(ml(t.precondition,e)){var r=t.value.clone(),i=Dl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(_l(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Al?function(t,e,n){if(ml(t.precondition,e)){var r=Dl(t.fieldTransforms,n,e),i=e.data;i.setAll(kl(t)),i.setAll(r),e.convertToFoundDocument(_l(e),i).setHasLocalMutations()}}(t,e,n):(r=e,ml(t.precondition,r)&&r.convertToNoDocument(Rc.min()))}function El(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=sl(o.transform,s||null);null!=a&&(null==n&&(n=ph.empty()),n.set(o.field,a))}return n||null}function Tl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Cc(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof ul&&o instanceof ul||i instanceof hl&&o instanceof hl?Cc(i.elements,o.elements,eh):i instanceof fl&&o instanceof fl?eh(i.A,o.A):i instanceof al&&o instanceof al);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function _l(t){return t.isFoundDocument()?t.version:Rc.min()}var Sl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return En(e,t),e}(bl),Al=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return En(e,t),e}(bl);function kl(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Nl(t,e,n){var r=new Map;Sc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ol(s,a,n[i]))}return r}function Dl(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,il(a,u,e))}return r}var Cl,Ol,xl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return En(e,t),e}(bl),Rl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return En(e,t),e}(bl),Pl=function(t){this.count=t};function Ll(t){switch(t){case gc.OK:return _c();case gc.CANCELLED:case gc.UNKNOWN:case gc.DEADLINE_EXCEEDED:case gc.RESOURCE_EXHAUSTED:case gc.INTERNAL:case gc.UNAVAILABLE:case gc.UNAUTHENTICATED:return!1;case gc.INVALID_ARGUMENT:case gc.NOT_FOUND:case gc.ALREADY_EXISTS:case gc.PERMISSION_DENIED:case gc.FAILED_PRECONDITION:case gc.ABORTED:case gc.OUT_OF_RANGE:case gc.UNIMPLEMENTED:case gc.DATA_LOSS:return!0;default:return _c()}}function Ml(t){if(void 0===t)return Ic("GRPC error has no .code"),gc.UNKNOWN;switch(t){case Cl.OK:return gc.OK;case Cl.CANCELLED:return gc.CANCELLED;case Cl.UNKNOWN:return gc.UNKNOWN;case Cl.DEADLINE_EXCEEDED:return gc.DEADLINE_EXCEEDED;case Cl.RESOURCE_EXHAUSTED:return gc.RESOURCE_EXHAUSTED;case Cl.INTERNAL:return gc.INTERNAL;case Cl.UNAVAILABLE:return gc.UNAVAILABLE;case Cl.UNAUTHENTICATED:return gc.UNAUTHENTICATED;case Cl.INVALID_ARGUMENT:return gc.INVALID_ARGUMENT;case Cl.NOT_FOUND:return gc.NOT_FOUND;case Cl.ALREADY_EXISTS:return gc.ALREADY_EXISTS;case Cl.PERMISSION_DENIED:return gc.PERMISSION_DENIED;case Cl.FAILED_PRECONDITION:return gc.FAILED_PRECONDITION;case Cl.ABORTED:return gc.ABORTED;case Cl.OUT_OF_RANGE:return gc.OUT_OF_RANGE;case Cl.UNIMPLEMENTED:return gc.UNIMPLEMENTED;case Cl.DATA_LOSS:return gc.DATA_LOSS;default:return _c()}}(Ol=Cl||(Cl={}))[Ol.OK=0]="OK",Ol[Ol.CANCELLED=1]="CANCELLED",Ol[Ol.UNKNOWN=2]="UNKNOWN",Ol[Ol.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ol[Ol.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ol[Ol.NOT_FOUND=5]="NOT_FOUND",Ol[Ol.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ol[Ol.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ol[Ol.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ol[Ol.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ol[Ol.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ol[Ol.ABORTED=10]="ABORTED",Ol[Ol.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ol[Ol.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ol[Ol.INTERNAL=13]="INTERNAL",Ol[Ol.UNAVAILABLE=14]="UNAVAILABLE",Ol[Ol.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jl=function(){function t(t,e){this.comparator=t,this.root=e||Vl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Fl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Fl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Fl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Fl(this.root,t,this.comparator,!0)},t}(),Fl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Vl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw _c();if(this.right.isRed())throw _c();var t=this.left.check();if(t!==this.right.check())throw _c();return t+(this.isRed()?0:1)},t}();Vl.EMPTY=null,Vl.RED=!0,Vl.BLACK=!1,Vl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw _c()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw _c()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw _c()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw _c()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw _c()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Vl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ul=function(){function t(t){this.comparator=t,this.data=new jl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ql(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ql(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ql=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Bl=new jl(Zc.comparator);function $l(){return Bl}var zl=new jl(Zc.comparator);function Kl(){return zl}var Wl=new jl(Zc.comparator);var Gl=new Ul(Zc.comparator);function Hl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ql=new Ul(Dc);function Xl(){return Ql}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Rc.min(),r,Xl(),$l(),Hl())},t}(),Jl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Bc.EMPTY_BYTE_STRING,n,Hl(),Hl(),Hl())},t}(),Zl=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},tf=function(t,e){this.targetId=t,this.V=e},ef=function(t,e,n,r){void 0===n&&(n=Bc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},nf=function(){function t(){this.S=0,this.D=sf(),this.C=Bc.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Hl(),e=Hl(),n=Hl();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_c()}})),new Jl(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=sf()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),rf=function(){function t(t){this.W=t,this.G=new Map,this.H=$l(),this.J=of(),this.Y=new Ul(Dc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:_c()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ih(i))if(0===n){var o=new Zc(i.path);this.tt(e,o,gh.newNoDocument(o,Rc.min()))}else Sc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ih(o.target)){var s=new Zc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,gh.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Hl();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Yl(t,n,this.Y,this.H,r);return this.H=$l(),this.J=of(),this.Y=new Ul(Dc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new nf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ul(Dc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||wc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new nf),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function of(){return new jl(Zc.comparator)}function sf(){return new jl(Zc.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af={asc:"ASCENDING",desc:"DESCENDING"},uf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cf=function(t,e){this.databaseId=t,this.I=e};function hf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function lf(t,e){return t.I?e.toBase64():e.toUint8Array()}function ff(t,e){return hf(t,e.toTimestamp())}function df(t){return Sc(!!t),Rc.fromTimestamp((e=zc(t),new xc(e.seconds,e.nanos)));var e}function pf(t,e){return(n=t,new Fc(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function vf(t){var e=Fc.fromString(t);return Sc(Ff(e)),e}function gf(t,e){return pf(t.databaseId,e.path)}function yf(t,e){var n=vf(e);if(n.get(1)!==t.databaseId.projectId)throw new yc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Zc(If(n))}function mf(t,e){return pf(t.databaseId,e)}function bf(t){var e=vf(t);return 4===e.length?Fc.emptyPath():If(e)}function wf(t){return new Fc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function If(t){return Sc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ef(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function Tf(t,e){var n,r,i;if(e instanceof Sl)n={update:Ef(t,e.key,e.value)};else if(e instanceof xl)n={delete:gf(t,e.key)};else if(e instanceof Al)n={update:Ef(t,e.key,e.data),updateMask:jf(e.fieldMask)};else{if(!(e instanceof Rl))return _c();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof al)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ul)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw _c()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:ff(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_c())),n}function _f(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?yl.updateTime(df(n.updateTime)):void 0!==n.exists?yl.exists(n.exists):yl.none():yl.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Sc("REQUEST_TIME"===e.setToServerValue),n=new al;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ul(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new hl(i)}else"increment"in e?n=new fl(t,e.increment):_c();var o=Uc.fromServerFormat(e.fieldPath);return new vl(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=yf(t,e.update.name),s=new ph({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new qc(e.map((function(t){return Uc.fromServerFormat(t)})))}(e.updateMask);return new Al(o,s,a,r,i)}return new Sl(o,s,r,i)}if(e.delete){var u=yf(t,e.delete);return new xl(u,r)}if(e.verify){var c=yf(t,e.verify);return new Rl(c,r)}return _c()}function Sf(t,e){return{documents:[mf(t,e.path)]}}function Af(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=mf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=mf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(lh(t.value))return{unaryFilter:{field:Rf(t.field),op:"IS_NAN"}};if(hh(t.value))return{unaryFilter:{field:Rf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(lh(t.value))return{unaryFilter:{field:Rf(t.field),op:"IS_NOT_NAN"}};if(hh(t.value))return{unaryFilter:{field:Rf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rf(t.field),op:xf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Rf((e=t).field),direction:Of(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||Xc(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Df(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Df(e.endAt)),n}function kf(t){var e=bf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Nf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Rh(Pf((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,h=null;n.limit&&(u=n.limit,h=Xc(c="object"==typeof u?u.value:u)?null:c);var l=null;n.startAt&&(l=Cf(n.startAt));var f=null;return n.endAt&&(f=Cf(n.endAt)),Fh(e,i,a,s,h,"F",l,f)}function Nf(t){return t?void 0!==t.unaryFilter?[Mf(t)]:void 0!==t.fieldFilter?[Lf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Nf(t)})).reduce((function(t,e){return t.concat(e)})):_c():[]}function Df(t){return{before:t.before,values:t.position}}function Cf(t){var e=!!t.before,n=t.values||[];return new Oh(n,e)}function Of(t){return af[t]}function xf(t){return uf[t]}function Rf(t){return{fieldPath:t.canonicalString()}}function Pf(t){return Uc.fromServerFormat(t.fieldPath)}function Lf(t){return Eh.create(Pf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _c()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pf(t.unaryFilter.field);return Eh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pf(t.unaryFilter.field);return Eh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pf(t.unaryFilter.field);return Eh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pf(t.unaryFilter.field);return Eh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _c()}}function jf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ff(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qf(e)),e=Uf(t.get(n),e);return qf(e)}function Uf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function qf(t){return t+""}function Bf(t){var e=t.length;if(Sc(e>=2),2===e)return Sc(""===t.charAt(0)&&""===t.charAt(1)),Fc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&_c(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:_c()}o=s+2}return new Fc(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(t,e){this.seconds=t,this.nanoseconds=e},zf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zf.store="owner",zf.key="owner";var Kf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Kf.store="mutationQueues",Kf.keyPath="userId";var Wf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wf.store="mutations",Wf.keyPath="batchId",Wf.userMutationsIndex="userMutationsIndex",Wf.userMutationsKeyPath=["userId","batchId"];var Gf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Vf(e)]},t.key=function(t,e,n){return[t,Vf(e),n]},t}();Gf.store="documentMutations",Gf.PLACEHOLDER=new Gf;var Hf=function(t,e){this.path=t,this.readTime=e},Qf=function(t,e){this.path=t,this.version=e},Xf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xf.store="remoteDocuments",Xf.readTimeIndex="readTimeIndex",Xf.readTimeIndexPath="readTime",Xf.collectionReadTimeIndex="collectionReadTimeIndex",Xf.collectionReadTimeIndexPath=["parentPath","readTime"];var Yf=function(t){this.byteSize=t};Yf.store="remoteDocumentGlobal",Yf.key="remoteDocumentGlobalKey";var Jf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Jf.store="targets",Jf.keyPath="targetId",Jf.queryTargetsIndexName="queryTargetsIndex",Jf.queryTargetsKeyPath=["canonicalId","targetId"];var Zf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zf.store="targetDocuments",Zf.keyPath=["targetId","path"],Zf.documentTargetsIndex="documentTargetsIndex",Zf.documentTargetsKeyPath=["path","targetId"];var td=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};td.key="targetGlobalKey",td.store="targetGlobal";var ed=function(t,e){this.collectionId=t,this.parent=e};ed.store="collectionParents",ed.keyPath=["collectionId","parent"];var nd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};nd.store="clientMetadata",nd.keyPath="clientId";var rd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};rd.store="bundles",rd.keyPath="bundleId";var id=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};id.store="namedQueries",id.keyPath="name";var od=Nn(Nn([],Nn(Nn([],Nn(Nn([],Nn(Nn([],[Kf.store,Wf.store,Gf.store,Xf.store,Jf.store,zf.store,td.store,Zf.store]),[nd.store])),[Yf.store])),[ed.store])),[rd.store,id.store]),sd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ad=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ud=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},cd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&_c(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),hd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ud,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new dd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=md(e.target.error);n.ft.reject(new dd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new dd(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(wc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new vd(e)},t}(),ld=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Pn())&&Ic("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return wc("SimpleDb","Removing database:",t),gd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Pn(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return _n(this,void 0,void 0,(function(){var e,n=this;return Sn(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(wc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new yc(gc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new dd(t,n))},i.onupgradeneeded=function(t){wc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){wc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o,s,a,u;return Sn(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return Sn(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=l.sent(),e=hd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),cd.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),s),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,wc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return gd(this.Pt.delete())},t}(),dd=function(t){function e(e,n){var r=this;return(r=t.call(this,gc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return En(e,t),e}(yc);function pd(t){return"IndexedDbTransactionError"===t.name}var vd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gd(n)},t.prototype.add=function(t){return wc("SimpleDb","ADD",this.store.name,t,t),gd(this.store.add(t))},t.prototype.get=function(t){var e=this;return gd(this.store.get(t)).next((function(n){return void 0===n&&(n=null),wc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return wc("SimpleDb","DELETE",this.store.name,t),gd(this.store.delete(t))},t.prototype.count=function(){return wc("SimpleDb","COUNT",this.store.name),gd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){wc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new cd((function(n,r){e.onerror=function(t){var e=md(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new cd((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new fd(i),s=e(i.primaryKey,i.value,o);if(s instanceof cd){var a=s.catch((function(t){return o.done(),cd.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return cd.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gd(t){return new cd((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=md(t.target.error);n(e)}}))}var yd=!1;function md(t){var e=ld._t(Pn());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yd||(yd=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return En(e,t),e}(ad);function wd(t,e){var n=Ac(t);return ld.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Id=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&wl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Il(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Il(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rc.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Hl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Cc(this.mutations,t.mutations,(function(t,e){return Tl(t,e)}))&&Cc(this.baseMutations,t.baseMutations,(function(t,e){return Tl(t,e)}))},t}(),Ed=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Sc(e.mutations.length===r.length);for(var i=Wl,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Td=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Rc.min()),void 0===o&&(o=Rc.min()),void 0===s&&(s=Bc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),_d=function(t){this.Lt=t};function Sd(t,e){if(e.document)return function(t,e,n){var r=yf(t,e.name),i=df(e.updateTime),o=new ph({mapValue:{fields:e.fields}}),s=gh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zc.fromSegments(e.noDocument.path),r=Cd(e.noDocument.readTime),i=gh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Zc.fromSegments(e.unknownDocument.path);return r=Cd(e.unknownDocument.version),gh.newUnknownDocument(o,r)}return _c()}function Ad(t,e,n){var r,i,o=kd(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:gf(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:hf(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new Xf(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),h=Dd(e.version);return u=e.hasCommittedMutations,new Xf(null,new Hf(c,h),null,u,o,s)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),f=Dd(e.version);return new Xf(new Qf(l,f),null,null,!0,o,s)}return _c()}function kd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nd(t){var e=new xc(t[0],t[1]);return Rc.fromTimestamp(e)}function Dd(t){var e=t.toTimestamp();return new $f(e.seconds,e.nanoseconds)}function Cd(t){var e=new xc(t.seconds,t.nanoseconds);return Rc.fromTimestamp(e)}function Od(t,e){for(var n=(e.baseMutations||[]).map((function(e){return _f(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return _f(t.Lt,e)})),a=xc.fromMillis(e.localWriteTimeMs);return new Id(e.batchId,a,n,s)}function xd(t){var e,n,r=Cd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Cd(t.lastLimboFreeSnapshotVersion):Rc.min();return void 0!==t.query.documents?(Sc(1===(n=t.query).documents.length),e=Wh(Vh(bf(n.documents[0])))):e=Wh(kf(t.query)),new Td(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Bc.fromBase64String(t.resumeToken))}function Rd(t,e){var n,r=Dd(e.snapshotVersion),i=Dd(e.lastLimboFreeSnapshotVersion);n=Ih(e.target)?Sf(t.Lt,e.target):Af(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Jf(e.targetId,bh(e.target),r,o,e.sequenceNumber,i,n)}function Pd(t){var e=kf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gh(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Md(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Cd(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Md(t).put({bundleId:(n=e).id,createTime:Dd(df(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return jd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Pd(e.bundledQuery),readTime:Cd(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return jd(t).put({name:(n=e).name,readTime:Dd(df(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Md(t){return wd(t,rd.store)}function jd(t){return wd(t,id.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fd=function(){function t(){this.Bt=new Vd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),cd.resolve()},t.prototype.getCollectionParents=function(t,e){return cd.resolve(this.Bt.getEntries(e))},t}(),Vd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ul(Fc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ul(Fc.comparator)).toArray()},t}(),Ud=function(){function t(){this.qt=new Vd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Vf(i)};return qd(t).put(o)}return cd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Oc(e),""],!1,!0);return qd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bf(o.parent))}return n}))},t}();function qd(t){return wd(t,ed.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$d=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e,n){var r=t.store(Wf.store),i=t.store(Gf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Sc(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=Gf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return cd.waitFor(o).next((function(){return c}))}function Kd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _c();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$d.DEFAULT_COLLECTION_PERCENTILE=10,$d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$d.DEFAULT=new $d(41943040,$d.DEFAULT_COLLECTION_PERCENTILE,$d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$d.DISABLED=new $d(-1,0,0);var Wd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Sc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hd(t).$t({index:Wf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Qd(t),s=Hd(t);return s.add({}).next((function(a){Sc("number"==typeof a);for(var u=new Id(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Tf(t.Lt,e)})),i=n.mutations.map((function(e){return Tf(t.Lt,e)}));return new Wf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Ul((function(t,e){return Dc(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Gf.key(i.userId,p.key.path,a);l=l.add(p.key.path.popLast()),h.push(s.put(c)),h.push(o.put(v,Gf.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),cd.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Hd(t).get(e).next((function(t){return t?(Sc(t.userId===n.userId),Od(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?cd.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Hd(t).$t({index:Wf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Sc(e.batchId>=r),o=Od(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hd(t).$t({index:Wf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hd(t).Nt(Wf.userMutationsIndex,n).next((function(t){return t.map((function(t){return Od(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Gf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qd(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Bf(u);if(a===n.userId&&e.path.isEqual(h))return Hd(t).get(c).next((function(t){if(!t)throw _c();Sc(t.userId===n.userId),o.push(Od(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ul(Dc),i=[];return e.forEach((function(e){var o=Gf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Qd(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Bf(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),cd.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Gf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ul(Dc);return Qd(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Bf(u);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Hd(t).get(e).next((function(t){if(null===t)throw _c();Sc(t.userId===n.userId),r.push(Od(n.R,t))})))})),cd.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return zd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),cd.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return cd.resolve();var r=IDBKeyRange.lowerBound(Gf.prefixForUser(e.userId)),i=[];return Qd(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Bf(t[1]);i.push(o)}else r.done()})).next((function(){Sc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Gd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Xd(t).get(this.userId).next((function(t){return t||new Kf(e.userId,-1,"")}))},t}();function Gd(t,e,n){var r=Gf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Qd(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Hd(t){return wd(t,Wf.store)}function Qd(t){return wd(t,Gf.store)}function Xd(t){return wd(t,Kf.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Jd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Yd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Rc.fromTimestamp(new xc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Zd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Sc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Zd(t).$t((function(s,a){var u=xd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return cd.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Zd(t).$t((function(t,n){var r=xd(n);e(r)}))},t.prototype.Xt=function(t){return tp(t).get(td.key).next((function(t){return Sc(null!==t),t}))},t.prototype.Zt=function(t,e){return tp(t).put(td.key,e)},t.prototype.te=function(t,e){return Zd(t).put(Rd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=bh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zd(t).$t({range:r,index:Jf.queryTargetsIndexName},(function(t,n,r){var o=xd(n);wh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ep(t);return e.forEach((function(e){var s=Vf(e.path);i.push(o.put(new Zf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),cd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ep(t);return cd.forEach(e,(function(e){var o=Vf(e.path);return cd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ep(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ep(t),i=Hl();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Bf(t[1]),o=new Zc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Vf(e.path),r=IDBKeyRange.bound([n],[Oc(n)],!1,!0),i=0;return ep(t).$t({index:Zf.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Zd(t).get(e).next((function(t){return t?xd(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return wd(t,Jf.store)}function tp(t){return wd(t,td.store)}function ep(t){return wd(t,Zf.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){if(t.code!==gc.FAILED_PRECONDITION||t.message!==sd)throw t;return wc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Dc(n,i);return 0===s?Dc(r,o):s}var ip=function(){function t(t){this.ne=t,this.buffer=new Ul(rp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();rp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),op=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;wc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return _n(e,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return pd(e=n.sent())?(wc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,np(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),sp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return cd.resolve(vc.o);var r=new ip(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector","Garbage collection skipped; disabled"),cd.resolve(Bd)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bd):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(wc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),bc()<=er.DEBUG&&wc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),cd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),ap=function(){function t(t,e){this.db=t,this.garbageCollector=new sp(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return up(t,n)},t.prototype.removeReference=function(t,e,n){return up(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return up(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,Xd(n=t).Ot((function(t){return Gd(n,t,r).next((function(t){return t&&(i=!0),cd.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),ep(t).delete([0,Vf(s.path)])}))}));i.push(u)}})).next((function(){return cd.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return up(t,e)},t.prototype.we=function(t,e){var n,r=ep(t),i=vc.o;return r.$t({index:Zf.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==vc.o&&e(new Zc(Bf(n)),i),i=a,n=s):i=vc.o})).next((function(){i!==vc.o&&e(new Zc(Bf(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function up(t,e){return ep(t).put((n=e,r=t.currentSequenceNumber,new Zf(0,Vf(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Lc(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return Mc(this.inner)},t}(),hp=function(){function t(){this.changes=new cp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Rc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:gh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?cd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),lp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return pp(t).put(vp(e),n)},t.prototype.removeEntry=function(t,e){var n=pp(t),r=vp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return pp(t).get(vp(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return pp(t).get(vp(e)).next((function(t){return{document:n.ye(e,t),size:Kd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=$l();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=$l(),i=new jl(Zc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Kd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return cd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return pp(t).$t({range:r},(function(t,e,r){for(var s=Zc.fromSegments(t);o&&Zc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=$l(),o=e.path.length+1,s={};if(n.isEqual(Rc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=kd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xf.collectionReadTimeIndex}return pp(t).$t(s,(function(t,n,s){if(t.length===o){var a=Sd(r.R,n);e.path.isPrefixOf(a.key.path)?Yh(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new fp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return dp(t).get(Yf.key).next((function(t){return Sc(!!t),t}))},t.prototype.me=function(t,e){return dp(t).put(Yf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Sd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Rc.min()))return n}return gh.newInvalidDocument(t)},t}(),fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new cp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return En(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ul((function(t,e){return Dc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Ad(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Kd(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var h=Ad(e.Ie.R,gh.newNoDocument(o,Rc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),cd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(hp);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return wd(t,Yf.store)}function pp(t){return wd(t,Xf.store)}function vp(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Sc(n<r&&n>=0&&r<=11);var o=new hd("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(zf.store),function(t){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath}),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Gf.store)}(t),yp(t),function(t){t.createObjectStore(Xf.store)}(t));var s=cd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zf.store),t.deleteObjectStore(Jf.store),t.deleteObjectStore(td.store)}(t),yp(t)),s=s.next((function(){return function(t){var e=t.store(td.store),n=new td(0,0,Rc.min().toTimestamp(),0);return e.put(td.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Wf.store).Nt().next((function(n){t.deleteObjectStore(Wf.store),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0});var r=e.store(Wf.store),i=n.map((function(t){return r.put(t)}));return cd.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(nd.store,{keyPath:nd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Yf.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xf.store);e.createIndex(Xf.readTimeIndex,Xf.readTimeIndexPath,{unique:!1}),e.createIndex(Xf.collectionReadTimeIndex,Xf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t),function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Xf.store).$t((function(t,n){e+=Kd(n)})).next((function(){var n=new Yf(e);return t.store(Yf.store).put(Yf.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Kf.store),r=t.store(Wf.store);return n.Nt().next((function(n){return cd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Wf.userMutationsIndex,i).next((function(r){return cd.forEach(r,(function(r){Sc(r.userId===n.userId);var i=Od(e.R,r);return zd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Zf.store),n=t.store(Xf.store);return t.store(td.store).get(td.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Fc(n),s=[0,Vf(o)];r.push(e.get(s).next((function(n){return n?cd.resolve():(r=o,e.put(new Zf(0,Vf(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return cd.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ed.store,{keyPath:ed.keyPath});var n=e.store(ed.store),r=new Vd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Vf(i)})}};return e.store(Xf.store).$t({Ft:!0},(function(t,e){var n=new Fc(t);return i(n.popLast())})).next((function(){return e.store(Gf.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Bf(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Jf.store);return n.$t((function(t,r){var i=xd(r),o=Rd(e.R,i);return n.put(o)}))},t}();function yp(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath}).createIndex(Zf.documentTargetsIndex,Zf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jf.store,{keyPath:Jf.keyPath}).createIndex(Jf.queryTargetsIndexName,Jf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(td.store)}var mp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bp=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new yc(gc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var l,f;this.referenceDelegate=new ap(this,i),this.Le=n+"main",this.R=new _d(u),this.Be=new ld(this.Le,11,new gp(this.R)),this.qe=new Jd(this.referenceDelegate,this.R),this.Ut=new Ud,this.Ue=(l=this.R,f=this.Ut,new lp(l,f)),this.Ke=new Ld,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&Ic("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yc(gc.FAILED_PRECONDITION,mp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new vc(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return _n(e,void 0,void 0,(function(){return Sn(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return _n(e,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return _n(e,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ip(e).put(new nd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(pd(e))return wc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return wp(t).get(zf.key).next((function(t){return cd.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ip(t).delete(this.clientId)},t.prototype.nn=function(){return _n(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Sn(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=wd(t,nd.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return cd.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?cd.resolve(!0):wp(t).get(zf.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new yc(gc.FAILED_PRECONDITION,mp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ip(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&wc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return _n(this,void 0,void 0,(function(){var t=this;return Sn(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[zf.store,nd.store],(function(e){var n=new bd(e,vc.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ip(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Wd.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;wc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,od,(function(o){return i=new bd(o,r.Ne?r.Ne.next():vc.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Ic("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new yc(gc.FAILED_PRECONDITION,sd);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return wp(t).get(zf.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yc(gc.FAILED_PRECONDITION,mp)}))},t.prototype.Ze=function(t){var e=new zf(this.clientId,this.allowTabSynchronization,Date.now());return wp(t).put(zf.key,e)},t.yt=function(){return ld.yt()},t.prototype.Xe=function(t){var e=this,n=wp(t);return n.get(zf.key).next((function(t){return e.tn(t)?(wc("IndexedDbPersistence","Releasing primary lease."),n.delete(zf.key)):cd.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ic("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!Ln()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return wc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Ic("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ic("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wp(t){return wd(t,zf.store)}function Ip(t){return wd(t,nd.store)}function Ep(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,Zc.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):zh(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new Zc(e)).next((function(t){var e=Kl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Kl();return this.Ut.getCollectionParents(t,i).next((function(s){return cd.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new jh(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c);null==h&&(h=gh.newInvalidDocument(c),r=r.insert(c,h)),Il(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Yh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Hl(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Al&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),_p=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Hl(),i=Hl(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Rc.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Uh(e)||qh(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(bc()<=er.DEBUG&&wc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xh(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Ul(Jh(t));return e.forEach((function(e,r){Yh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return bc()<=er.DEBUG&&wc("QueryEngine","Using full collection scan to execute query:",Xh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Rc.min())},t}(),Ap=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new jl(Dc),this.Fn=new cp((function(t){return bh(t)}),wh),this.$n=Rc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Tp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n,r){return new Ap(t,e,n,r)}function Np(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o;return Sn(this,(function(s){switch(s.label){case 0:return n=Ac(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Tp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Hl(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];s=s.add(m.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Dp(t,e){var n=Ac(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,h=e.batch.keys(),l=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=l,a=o.batch,u=a.keys(),c=cd.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);Sc(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return l.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,h)}))}))}function Cp(t){var e=Ac(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Op(t,e){var n=Ac(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,h=i.get(o);if(h){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var l=e.resumeToken;if(l.approximateByteSize()>0){var f=h.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=h,c=e,Sc((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=$l();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=Hl();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=$l();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Rc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):wc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Rc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return cd.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function xp(t,e){var n=Ac(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Rp(t,e){var n=Ac(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,cd.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Td(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Pp(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s;return Sn(this,(function(a){switch(a.label){case 0:r=Ac(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!pd(s=a.sent()))throw s;return wc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Lp(t,e,n){var r=Ac(t),i=Rc.min(),o=Hl();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Wh(e),c=Ac(s),h=c.Fn.get(u),void 0!==h?cd.resolve(c.kn.get(h)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Rc.min(),n?o:Hl())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,h}))}function Mp(t,e){var n=Ac(t),r=Ac(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function jp(t){var e=Ac(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=Ac(n),s=$l(),a=kd(i),u=pp(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:Xf.readTimeIndex,range:c},(function(t,e){var n=Sd(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:Nd(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Fp(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){return[2,(e=Ac(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=pp(t),n=Rc.min(),e.$t({index:Xf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Nd(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return cd.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:df(n.createTime)}),cd.resolve()},t.prototype.getNamedQuery=function(t,e){return cd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Pd(n.bundledQuery),readTime:df(n.readTime)}),cd.resolve();var n},t}(),Up=function(){function t(){this.Wn=new Ul(qp.Gn),this.zn=new Ul(qp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new qp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new qp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Zc(new Fc([])),r=new qp(n,t),i=new qp(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Zc(new Fc([])),n=new qp(e,t),r=new qp(e,t+1),i=Hl();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new qp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),qp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Zc.comparator(t.key,e.key)||Dc(t.ns,e.ns)},t.Hn=function(t,e){return Dc(t.ns,e.ns)||Zc.comparator(t.key,e.key)},t}(),Bp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ul(qp.Gn)}return t.prototype.checkEmpty=function(t){return cd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Id(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new qp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return cd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return cd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return cd.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return cd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return cd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new qp(e,0),i=new qp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),cd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ul(Dc);return e.forEach((function(t){var e=new qp(t,0),i=new qp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),cd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Zc.isDocumentKey(i)||(i=i.child(""));var o=new qp(new Zc(i),0),s=new Ul(Dc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),cd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Sc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return cd.forEach(e.mutations,(function(i){var o=new qp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new qp(e,0),r=this.rs.firstAfterOrEqual(n);return cd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,cd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),$p=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new jl(Zc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return cd.resolve(n?n.document.clone():gh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=$l();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():gh.newInvalidDocument(t))})),cd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=$l(),i=new Zc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(a.path))break;h.compareTo(n)<=0||Yh(e,c)&&(r=r.insert(c.key,c.clone()))}return cd.resolve(r)},t.prototype.fs=function(t,e){return cd.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new zp(this)},t.prototype.getSize=function(t){return cd.resolve(this.size)},t}(),zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return En(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),cd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(hp),Kp=function(){function t(t){this.persistence=t,this.ds=new cp((function(t){return bh(t)}),wh),this.lastRemoteSnapshotVersion=Rc.min(),this.highestTargetId=0,this.ws=0,this._s=new Up,this.targetCount=0,this.ys=Yd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),cd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return cd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return cd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),cd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),cd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Yd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,cd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),cd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,cd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),cd.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return cd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return cd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),cd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),cd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),cd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return cd.resolve(n)},t.prototype.containsKey=function(t,e){return cd.resolve(this._s.containsKey(e))},t}(),Wp=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new vc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Kp(this),this.Ut=new Fd,this.Ue=(n=this.Ut,new $p(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new _d(e),this.Ke=new Vp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Bp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;wc("MemoryPersistence","Starting transaction:",t);var i=new Gp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return cd.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return En(e,t),e}(ad),Hp=function(){function t(t){this.persistence=t,this.As=new Up,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw _c()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),cd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),cd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),cd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cd.forEach(this.vs,(function(r){var i=Zc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return cd.or([function(){return cd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Qp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t,e){return"firestore_clients_"+t+"_"+e}function Yp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Jp(t,e){return"firestore_targets_"+t+"_"+e}Qp.UNAUTHENTICATED=new Qp(null),Qp.GOOGLE_CREDENTIALS=new Qp("google-credentials-uid"),Qp.FIRST_PARTY=new Qp("first-party-uid"),Qp.MOCK_USER=new Qp("mock-user");var Zp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ic("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ic("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ev=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xl(),s=0;i&&s<r.activeTargetIds.length;++s)i=Jc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ic("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ic("SharedClientState","Failed to parse online state: "+e),null)},t}(),rv=function(){function t(){this.activeTargetIds=Xl()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),iv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new jl(Dc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Xp(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new rv),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return _n(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,l=this;return Sn(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Xp(this.persistenceKey,r)))&&(o=ev.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)h=c[u],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Jp(this.persistenceKey,t));if(n){var r=tv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Jp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ic("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return _n(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Sn(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=vc.o;if(null!=t)try{var n=JSON.parse(t);Sc("number"==typeof n),e=n}catch(r){Ic("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==vc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Zp(this.currentUser,t,e,n),i=Yp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Yp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Jp(this.persistenceKey,t),i=new tv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ev.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zp.Vs(new Qp(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return tv.Vs(r,e)},t.prototype.js=function(t){return nv.Vs(t)},t.prototype.ii=function(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(wc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Xl();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ov=function(){function t(){this.li=new rv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new rv,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),sv=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),av=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){wc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){wc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),uv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),hv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return En(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new pc;s.listenOnce(uc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ac.NO_ERROR:var e=s.getResponseJson();wc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ac.TIMEOUT:wc("Connection",'RPC "'+t+'" timed out'),o(new yc(gc.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:var n=s.getStatus();if(wc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(gc).indexOf(c)>=0?c:gc.UNKNOWN);o(new yc(a,r.message))}else o(new yc(gc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yc(gc.UNAVAILABLE,"Connection failed."));break;default:_c()}}finally{wc("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new nc,o=Qs(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new fc({})),this.ki(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())||"object"==typeof navigator&&"ReactNative"===navigator.product||Pn().indexOf("Electron/")>=0||((n=Pn()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Pn().indexOf("MSAppHost/")>=0||Mn()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");wc("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,h=!1,l=new cv({Ei:function(t){h?wc("Connection","Not sending because WebChannel is closed:",t):(c||(wc("Connection","Opening WebChannel transport."),u.open(),c=!0),wc("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,dc.EventType.OPEN,(function(){h||wc("Connection","WebChannel transport opened.")})),f(u,dc.EventType.CLOSE,(function(){h||(h=!0,wc("Connection","WebChannel transport closed"),l.Vi())})),f(u,dc.EventType.ERROR,(function(t){h||(h=!0,Ec("Connection","WebChannel transport errored:",t),l.Vi(new yc(gc.UNAVAILABLE,"The operation could not be completed")))})),f(u,dc.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Sc(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){wc("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Cl[t];if(void 0!==e)return Ml(e)}(o),a=i.message;void 0===s&&(s=gc.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new yc(s,a)),u.close()}else wc("Connection","WebChannel received:",n),l.Si(n)}})),f(o,cc.STAT_EVENT,(function(t){t.stat===hc?wc("Connection","Detected buffering proxy"):t.stat===lc&&wc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);wc("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return wc("RestConnection","Received: ",t),t}),(function(e){throw Ec("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=uv[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return"undefined"!=typeof window?window:null}function fv(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){return new cf(t,!0)}var pv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&wc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),vv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new pv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return _n(this,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===gc.RESOURCE_EXHAUSTED?(Ic(e.toString()),Ic("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===gc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new yc(gc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return _n(t,void 0,void 0,(function(){return Sn(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return wc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(wc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),gv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return En(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:_c(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Sc(void 0===e||"string"==typeof e),Bc.fromBase64String(e||"")):(Sc(void 0===e||e instanceof Uint8Array),Bc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?gc.UNKNOWN:Ml(t.code);return new yc(e,t.message||"")}(u);n=new ef(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=yf(t,i.document.name),s=df(i.document.updateTime);var u=new ph({mapValue:{fields:i.document.fields}}),c=(a=gh.newFoundDocument(o,s,u),i.targetIds||[]),h=i.removedTargetIds||[];n=new Zl(c,h,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=yf(t,i.document),s=i.readTime?df(i.readTime):Rc.min(),u=gh.newNoDocument(o,s),a=i.removedTargetIds||[],n=new Zl([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=yf(t,i.document),s=i.removedTargetIds||[],n=new Zl([],s,o,null);else{if(!("filter"in e))return _c();e.filter;var l=e.filter;l.targetId,i=l.count||0,o=new Pl(i),s=l.targetId,n=new tf(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Rc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rc.min():e.readTime?df(e.readTime):Rc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=wf(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=Ih(i)?{documents:Sf(e,i)}:{query:Af(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=lf(e,n.resumeToken):n.snapshotVersion.compareTo(Rc.min())>0&&(r.readTime=hf(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _c()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=wf(this.R),e.removeTarget=t,this.cr(e)},e}(vv),yv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return En(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Sc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Sc(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?df(e.updateTime):df(n)).isEqual(Rc.min())&&(r=df(n)),new gl(r,e.transformResults||[]);var e,n,r}))):[]),n=df(t.commitTime);return this.listener.Tr(n,e)}var r,i;return Sc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=wf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Tf(e.R,t)}))};this.cr(n)},e}(vv),mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return En(e,t),e.prototype.br=function(){if(this.Rr)throw new yc(gc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===gc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yc(gc.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===gc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yc(gc.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),bv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ic(e),this.Vr=!1):wc("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),wv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return _n(o,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:return Dv(this)?(wc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return(e=Ac(t)).Or.add(4),[4,Ev(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Iv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new bv(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return _n(this,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:if(!Dv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ev(t){return _n(this,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Tv(t,e){var n=Ac(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Nv(n)?kv(n):zv(n).er()&&Sv(n,e))}function _v(t,e){var n=Ac(t),r=zv(n);n.$r.delete(e),r.er()&&Av(n,e),0===n.$r.size&&(r.er()?r.ir():Dv(n)&&n.Br.set("Unknown"))}function Sv(t,e){t.qr.U(e.targetId),zv(t).mr(e)}function Av(t,e){t.qr.U(e),zv(t).yr(e)}function kv(t){t.qr=new rf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),zv(t).start(),t.Br.Sr()}function Nv(t){return Dv(t)&&!zv(t).tr()&&t.$r.size>0}function Dv(t){return 0===Ac(t).Or.size}function Cv(t){t.qr=void 0}function Ov(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){return t.$r.forEach((function(e,n){Sv(t,e)})),[2]}))}))}function xv(t,e){return _n(this,void 0,void 0,(function(){return Sn(this,(function(n){return Cv(t),Nv(t)?(t.Br.Nr(e),kv(t)):t.Br.set("Unknown"),[2]}))}))}function Rv(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o;return Sn(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ef&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o;return Sn(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),wc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Pv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zl?t.qr.X(e):e instanceof tf?t.qr.rt(e):t.qr.et(e),n.isEqual(Rc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Cp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(Bc.EMPTY_BYTE_STRING,e.snapshotVersion)),Av(a,t);var n=new Td(e.target,t,1,e.sequenceNumber);Sv(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return wc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Pv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Pv(t,e,n){return _n(this,void 0,void 0,(function(){var r=this;return Sn(this,(function(i){switch(i.label){case 0:if(!pd(e))throw e;return t.Or.add(1),[4,Ev(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Cp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return _n(r,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return wc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Iv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Lv(t,e){return e().catch((function(n){return Pv(t,n,e)}))}function Mv(t){return _n(this,void 0,void 0,(function(){var e,n,r,i,o;return Sn(this,(function(s){switch(s.label){case 0:e=Ac(t),n=Kv(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!(Dv(a=e)&&a.Fr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,xp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Kv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Pv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return jv(e)&&Fv(e),[2]}var a}))}))}function jv(t){return Dv(t)&&!Kv(t).tr()&&t.Fr.length>0}function Fv(t){Kv(t).start()}function Vv(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){return Kv(t).Ar(),[2]}))}))}function Uv(t){return _n(this,void 0,void 0,(function(){var e,n,r,i;return Sn(this,(function(o){for(e=Kv(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function qv(t,e,n){return _n(this,void 0,void 0,(function(){var r,i;return Sn(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Ed.from(r,e,n),[4,Lv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Mv(t)];case 2:return o.sent(),[2]}}))}))}function Bv(t,e){return _n(this,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return e&&Kv(t).pr?[4,function(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return Ll(r=e.code)&&r!==gc.ABORTED?(n=t.Fr.shift(),Kv(t).sr(),[4,Lv(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Mv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jv(t)&&Fv(t),[2]}}))}))}function $v(t,e){return _n(this,void 0,void 0,(function(){var n;return Sn(this,(function(r){switch(r.label){case 0:return n=Ac(t),e?(n.Or.delete(2),[4,Iv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Ev(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function zv(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:Ov.bind(null,t),Ri:xv.bind(null,t),_r:Rv.bind(null,t)},(i=Ac(e)).br(),new gv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return _n(o,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Nv(t)?kv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Cv(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Kv(t){var e,n,r,i,o=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:Vv.bind(null,t),Ri:Bv.bind(null,t),Ir:Uv.bind(null,t),Tr:qv.bind(null,t)},(i=Ac(e)).br(),new yv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return _n(o,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,Mv(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.Fr.length>0&&(wc("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kr}var Wv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ud,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yc(gc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Gv(t,e){if(Ic("AsyncQueue",e+": "+t),pd(t))return new yc(gc.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Zc.comparator(e.key,n.key)}:function(t,e){return Zc.comparator(t.key,e.key)},this.keyedMap=Kl(),this.sortedSet=new jl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Qv=function(){function t(){this.Qr=new jl(Zc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):_c():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Xv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Hv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yv=function(){this.Wr=void 0,this.listeners=[]},Jv=function(){this.queries=new cp((function(t){return Qh(t)}),Hh),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sn(this,(function(c){switch(c.label){case 0:if(n=Ac(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Yv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Gv(a,"Initialization of query '"+Xh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&rg(n),[2]}}))}))}function tg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s;return Sn(this,(function(a){return n=Ac(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function eg(t,e){for(var n=Ac(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(s)&&(r=!0);u.Wr=s}}r&&rg(n)}function ng(t,e,n){var r=Ac(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function rg(t){t.Gr.forEach((function(t){t.next()}))}var ig=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Xv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Xv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),og=function(t){this.key=t},sg=function(t){this.key=t},ag=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Hl(),this.mutatedKeys=Hl(),this.lo=Jh(t),this.fo=new Hv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Qv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Uh(this.query)&&i.size===this.query.limit?i.last():null,c=qh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Yh(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(a=!0)),p&&(l?(s=s.add(l),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Uh(this.query)||qh(this.query))for(;s.size>this.query.limit;){var h=Uh(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _c()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Xv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Qv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Hl(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new sg(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new og(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Hl();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Xv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ug=function(t,e,n){this.query=t,this.targetId=e,this.view=n},cg=function(t){this.key=t,this.bo=!1},hg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new cp((function(t){return Qh(t)}),Hh),this.Vo=new Map,this.So=new Set,this.Do=new jl(Zc.comparator),this.Co=new Map,this.No=new Up,this.xo={},this.ko=new Map,this.Fo=Yd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Sn(this,(function(u){switch(u.label){case 0:return n=Ug(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Rp(n.localStore,Wh(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,fg(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&Tv(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function fg(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Sn(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o,s;return Sn(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Lp(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Sg(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Lp(t.localStore,e,!0)];case 1:return i=h.sent(),o=new ag(e,i.Bn),s=o._o(i.documents),a=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Sg(t,n,u.To),c=new ug(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function dg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return n=Ac(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Hh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pp(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),_v(n.remoteStore,r.targetId),Tg(n,r.targetId)})).catch(np)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Tg(n,r.targetId),[4,Pp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function pg(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s;return Sn(this,(function(a){switch(a.label){case 0:r=qg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,l=Ac(u),f=xc.now(),d=c.reduce((function(t,e){return t.add(e.key)}),Hl()),l.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return l.Mn.pn(t,d).next((function(e){h=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=El(o,h.get(o.key));null!=s&&n.push(new Al(o.key,s,vh(s.value.mapValue),yl.exists(!0)))}return l._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(h),{batchId:t.batchId,changes:h}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new jl(Dc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ng(r,i.changes)];case 3:return a.sent(),[4,Mv(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Gv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,h,l,f,d}))}))}function vg(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:n=Ac(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Op(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Sc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Sc(r.bo):t.removedDocuments.size>0&&(Sc(r.bo),r.bo=!1))})),[4,Ng(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,np(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function gg(t,e,n){var r=Ac(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Ac(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&rg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yg(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Sn(this,(function(c){switch(c.label){case 0:return(r=Ac(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new jl(Zc.comparator)).insert(o,gh.newNoDocument(o,Rc.min())),a=Hl().add(o),u=new Yl(Rc.min(),new Map,new Ul(Dc),s,a),[4,vg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),kg(r),[3,4];case 2:return[4,Pp(r.localStore,e,!1).then((function(){return Tg(r,e,n)})).catch(np)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function mg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:n=Ac(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Dp(n.localStore,e)];case 2:return i=o.sent(),Eg(n,r,null),Ig(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ng(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,np(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function bg(t,e,n){return _n(this,void 0,void 0,(function(){var r,i;return Sn(this,(function(o){switch(o.label){case 0:r=Ac(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=Ac(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return Sc(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),Eg(r,e,n),Ig(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ng(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,np(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function wg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s;return Sn(this,(function(a){switch(a.label){case 0:Dv((n=Ac(t)).remoteStore)||wc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=Ac(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Gv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function Ig(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Eg(t,e,n){var r=Ac(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Tg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||_g(t,e)}))}function _g(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(_v(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),kg(t))}function Sg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof og?(t.No.addReference(o.key,e),Ag(t,o)):o instanceof sg?(wc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||_g(t,o.key)):_c()}}function Ag(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(wc("SyncEngine","New document in limbo: "+n),t.So.add(r),kg(t))}function kg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Zc(Fc.fromString(e)),r=t.Fo.next();t.Co.set(r,new cg(n)),t.Do=t.Do.insert(n,r),Tv(t.remoteStore,new Td(Wh(Vh(n.path)),r,2,vc.o))}}function Ng(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s;return Sn(this,(function(a){switch(a.label){case 0:return r=Ac(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=_p.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return Sn(this,(function(l){switch(l.label){case 0:n=Ac(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return cd.forEach(e,(function(e){return cd.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return cd.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!pd(r=l.sent()))throw r;return wc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.kn.get(a),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(a,h));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Dg(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return(n=Ac(t)).currentUser.isEqual(e)?[3,3]:(wc("SyncEngine","User change. New user:",e.toKey()),[4,Np(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).ko.forEach((function(t){t.forEach((function(t){t.reject(new yc(gc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ng(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Cg(t,e){var n=Ac(t),r=n.Co.get(e);if(r&&r.bo)return Hl().add(r.key);var i=Hl(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Og(t,e){return _n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return[4,Lp((n=Ac(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Sg(n,e.targetId,i.To),i)]}}))}))}function xg(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){return[2,jp((e=Ac(t)).localStore).then((function(t){return Ng(e,t)}))]}))}))}function Rg(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o;return Sn(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Ac(t)).localStore,u=e,c=Ac(a),h=Ac(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return h.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):cd.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mv(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Eg(i,e,r||null),Ig(i,e),function(t,e){Ac(Ac(t)._n).Gt(e)}(i.localStore,e)):_c(),s.label=4;case 4:return[4,Ng(i,o)];case 5:return s.sent(),[3,7];case 6:wc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,h}))}))}function Pg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Sn(this,(function(h){switch(h.label){case 0:return Ug(n=Ac(t)),qg(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Lg(n,r.toArray())]);case 1:return i=h.sent(),n.$o=!0,[4,$v(n.remoteStore,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],Tv(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Tg(n,e),Pp(n.localStore,e,!0)})),_v(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Lg(n,u)];case 5:return h.sent(),(l=Ac(n)).Co.forEach((function(t,e){_v(l.remoteStore,e)})),l.No.ts(),l.Co=new Map,l.Do=new jl(Zc.comparator),n.$o=!1,[4,$v(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var l}))}))}function Lg(t,e,n){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,l,f,d,p,v;return Sn(this,(function(g){switch(g.label){case 0:n=Ac(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Rp(n.localStore,Wh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),h=0,l=c,g.label=3;case 3:return h<l.length?(f=l[h],d=n.Po.get(f),[4,Og(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Mp(n.localStore,a)];case 8:return v=g.sent(),[4,Rp(n.localStore,v)];case 9:return u=g.sent(),[4,fg(n,Mg(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Mg(t){return Fh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jg(t){var e=Ac(t);return Ac(Ac(e.localStore).persistence).fn()}function Fg(t,e,n,r){return _n(this,void 0,void 0,(function(){var i,o,s;return Sn(this,(function(a){switch(a.label){case 0:return(i=Ac(t)).$o?(wc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jp(i.localStore)];case 3:return o=a.sent(),s=Yl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ng(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Pp(i.localStore,e,!0)];case 6:return a.sent(),Tg(i,e,r),[3,8];case 7:_c(),a.label=8;case 8:return[2]}}))}))}function Vg(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f;return Sn(this,(function(d){switch(d.label){case 0:if(!(r=Ug(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(wc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Mp(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Rp(r.localStore,a)];case 3:return u=d.sent(),[4,fg(r,Mg(a),u.targetId,!1)];case 4:d.sent(),Tv(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Sn(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Pp(r.localStore,t,!1).then((function(){_v(r.remoteStore,t),Tg(r,t)})).catch(np)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,d.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ug(t){var e=Ac(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yg.bind(null,e),e.vo._r=eg.bind(null,e.eventManager),e.vo.Mo=ng.bind(null,e.eventManager),e}function qg(t){var e=Ac(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bg.bind(null,e),e}var Bg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return this.R=dv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return kp(this.persistence,new Sp,t.initialUser,this.R)},t.prototype.qo=function(t){return new Wp(Hp.bs,this.R)},t.prototype.Bo=function(t){return new ov},t.prototype.terminate=function(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),$g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return En(e,t),e.prototype.initialize=function(e){return _n(this,void 0,void 0,(function(){var n=this;return Sn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Fp(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,qg(this.Qo.syncEngine)];case 4:return r.sent(),[4,Mv(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return kp(this.persistence,new Sp,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new op(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Ep(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$d.withCacheSize(this.cacheSizeBytes):$d.DEFAULT;return new bp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,lv(),fv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ov},e}(Bg),zg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return En(e,t),e.prototype.initialize=function(e){return _n(this,void 0,void 0,(function(){var n,r=this;return Sn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof iv?(this.sharedClientState.syncEngine={ui:Rg.bind(null,n),ai:Fg.bind(null,n),hi:Vg.bind(null,n),fn:jg.bind(null,n),ci:xg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return _n(r,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return[4,Pg(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=lv();if(!iv.yt(e))throw new yc(gc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ep(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new iv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}($g),Kg=function(){function t(){}return t.prototype.initialize=function(t,e){return _n(this,void 0,void 0,(function(){var n=this;return Sn(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return gg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dg.bind(null,this.syncEngine),[4,$v(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Jv},t.prototype.createDatastore=function(t){var e,n,r=dv(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new hv(e));return n=t.credentials,new mv(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return gg(s.syncEngine,t,0)},o=av.yt()?new av:new sv,new wv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new hg(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return e=Ac(t),wc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Ev(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Wg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Gg=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return _n(this,void 0,void 0,(function(){var e,n=this;return Sn(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yc(gc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return _n(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Sn(this,(function(u){switch(u.label){case 0:return n=Ac(t),r=wf(n.R)+"/documents",i={documents:e.map((function(t){return gf(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){Sc(!!e.found),e.found.name,e.found.updateTime;var n=yf(t,e.found.name),r=df(e.found.updateTime),i=new ph({mapValue:{fields:e.found.fields}});return gh.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){Sc(!!e.missing),Sc(!!e.readTime);var n=yf(t,e.missing),r=df(e.readTime);return gh.newNoDocument(n,r)}(e,r):_c());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Sc(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new xl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return _n(this,void 0,void 0,(function(){var t,e=this;return Sn(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Zc.fromPath(n);e.mutations.push(new Rl(r,e.precondition(r)))})),[4,function(t,e){return _n(this,void 0,void 0,(function(){var n,r,i;return Sn(this,(function(o){switch(o.label){case 0:return n=Ac(t),r=wf(n.R)+"/documents",i={writes:e.map((function(t){return Tf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _c();e=Rc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yc(gc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?yl.updateTime(e):yl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rc.min()))throw new yc(gc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yl.updateTime(e)}return yl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Hg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new pv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return _n(t,void 0,void 0,(function(){var t,e,n=this;return Sn(this,(function(r){return t=new Gg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Xc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ll(e)}return!1},t}(),Qg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Qp.UNAUTHENTICATED,this.clientId=Nc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return _n(r,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return wc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yc(gc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ud;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return _n(t,void 0,void 0,(function(){var t,n;return Sn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Gv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xg(t,e){return _n(this,void 0,void 0,(function(){var n,r,i=this;return Sn(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),wc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return _n(i,void 0,void 0,(function(){return Sn(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Np(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Yg(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Jg(t)];case 1:return n=i.sent(),wc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return _n(this,void 0,void 0,(function(){var n,r;return Sn(this,(function(i){switch(i.label){case 0:return(n=Ac(t)).asyncQueue.verifyOperationInProgress(),wc("RemoteStore","RemoteStore received new credentials"),r=Dv(n),n.Or.add(3),[4,Ev(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Iv(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Jg(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(wc("FirestoreClient","Using default OfflineComponentProvider"),[4,Xg(t,new Bg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Zg(t){return _n(this,void 0,void 0,(function(){return Sn(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(wc("FirestoreClient","Using default OnlineComponentProvider"),[4,Yg(t,new Kg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ty(t){return Jg(t).then((function(t){return t.persistence}))}function ey(t){return Jg(t).then((function(t){return t.localStore}))}function ny(t){return Zg(t).then((function(t){return t.remoteStore}))}function ry(t){return Zg(t).then((function(t){return t.syncEngine}))}function iy(t){return _n(this,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:return[4,Zg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=lg.bind(null,e.syncEngine),n.onUnlisten=dg.bind(null,e.syncEngine),n)]}}))}))}function oy(t,e,n){var r=this;void 0===n&&(n={});var i=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(r,void 0,void 0,(function(){var r;return Sn(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Wg({next:function(o){e.enqueueAndForget((function(){return tg(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new yc(gc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yc(gc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ig(Vh(n.path),o,{includeMetadataChanges:!0,so:!0});return Zv(t,s)},[4,iy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function sy(t,e,n){var r=this;void 0===n&&(n={});var i=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(r,void 0,void 0,(function(){var r;return Sn(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Wg({next:function(n){e.enqueueAndForget((function(){return tg(t,s)})),n.fromCache&&"server"===r.source?i.reject(new yc(gc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ig(n,o,{includeMetadataChanges:!0,so:!0});return Zv(t,s)},[4,iy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ay=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},uy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cy=new Map,hy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ly=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Qp.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),fy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),dy=function(){function t(t){var e=this;this.currentUser=Qp.UNAUTHENTICATED,this.oc=new ud,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){wc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(wc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(wc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Sc("string"==typeof n.accessToken),new hy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return _n(n,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Sc(null===t||"string"==typeof t),new Qp(t)},t}(),py=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Qp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),vy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new py(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Qp.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e,n){if(!n)throw new yc(gc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function yy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yc(gc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function my(t,e,n,r){if(!0===e&&!0===r)throw new yc(gc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function by(t){if(!Zc.isDocumentKey(t))throw new yc(gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function wy(t){if(Zc.isDocumentKey(t))throw new yc(gc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Iy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":_c()}function Ey(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yc(gc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Iy(t);throw new yc(gc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ty(t,e){if(e<=0)throw new yc(gc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _y=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yc(gc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yc(gc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,my("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Sy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1,t instanceof uy?(this._databaseId=t,this._credentials=new ly):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yc(gc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uy(t.options.projectId)}(t),this._credentials=new dy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new yc(gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new yc(gc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ly;switch(t.type){case"gapi":var e=t.client;return Sc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new vy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new yc(gc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=cy.get(this))&&(wc("ComponentProvider","Removing Datastore"),cy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ay=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ny(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ky=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Vh(r))||this)._path=r,i.type="collection",i}return En(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ay(this.firestore,null,new Zc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ky);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Qn(t),gy("collection","path",e),t instanceof Sy)return wy(n=Fc.fromString.apply(Fc,Nn([e],r))),new Ny(t,null,n);if(!(t instanceof Ay||t instanceof Ny))throw new yc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wy(n=Fc.fromString.apply(Fc,Nn([t.path],r)).child(Fc.fromString(e))),new Ny(t.firestore,null,n)}function Cy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Qn(t),1===arguments.length&&(e=Nc.u()),gy("doc","path",e),t instanceof Sy)return by(n=Fc.fromString.apply(Fc,Nn([e],r))),new Ay(t,null,new Zc(n));if(!(t instanceof Ay||t instanceof Ny))throw new yc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return by(n=t._path.child(Fc.fromString.apply(Fc,Nn([e],r)))),new Ay(t.firestore,t instanceof Ny?t.converter:null,new Zc(n))}function Oy(t,e){return t=Qn(t),e=Qn(e),(t instanceof Ay||t instanceof Ny)&&(e instanceof Ay||e instanceof Ny)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function xy(t,e){return t=Qn(t),e=Qn(e),t instanceof ky&&e instanceof ky&&t.firestore===e.firestore&&Hh(t._query,e._query)&&t.converter===e.converter}var Ry=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new pv(this,"async_queue_retry"),this.Ic=function(){var e=fv();e&&wc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=fv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=fv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ud;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return _n(this,void 0,void 0,(function(){var t,e=this;return Sn(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!pd(t=n.sent()))throw t;return wc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Ic("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Wv.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&_c()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return _n(this,void 0,void 0,(function(){var t;return Sn(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Py(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ry,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return En(e,t),e.prototype._terminate=function(){return this._firestoreClient||jy(this),this._firestoreClient.terminate()},e}(Sy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){return t._firestoreClient||jy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jy(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new ay(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));t._firestoreClient=new Qg(t._credentials,t._queue,a)}function Fy(t,e,n){var r=this,i=new ud;return t.asyncQueue.enqueue((function(){return _n(r,void 0,void 0,(function(){var r;return Sn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Xg(t,n)];case 1:return o.sent(),[4,Yg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===gc.FAILED_PRECONDITION||s.code===gc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function Vy(t){if(t._initialized||t._terminated)throw new yc(gc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yc(gc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),qy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Bc.fromBase64String(e))}catch(n){throw new yc(gc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Bc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),By=function(t){this._methodName=t},$y=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yc(gc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yc(gc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Dc(this._lat,t._lat)||Dc(this._long,t._long)},t}(),zy=/^__.*__$/,Ky=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Al(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sl(t,this.data,e,this.fieldTransforms)},t}(),Wy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Al(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _c()}}var Hy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return pm(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Gy(this.Nc)&&zy.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Qy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||dv(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Hy({Nc:t,methodName:e,qc:n,path:Uc.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Xy(t){var e=t._freezeSettings(),n=dv(t._databaseId);return new Qy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);hm("Data must be an object, but it was:",s,r);var a,u,c=um(r,s);if(o.merge)a=new qc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var d=lm(e,f[l],n);if(!s.contains(d))throw new yc(gc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");vm(h,d)||h.push(d)}a=new qc(h),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Ky(new ph(c),a,u)}var Jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(By);function Zy(t,e,n){return new Hy({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype._toFieldTransform=function(t){return new vl(t.path,new al)},e.prototype.isEqual=function(t){return t instanceof e},e}(By),em=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return En(e,t),e.prototype._toFieldTransform=function(t){var e=Zy(this,t,!0),n=this.Kc.map((function(t){return am(t,e)})),r=new ul(n);return new vl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(By),nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return En(e,t),e.prototype._toFieldTransform=function(t){var e=Zy(this,t,!0),n=this.Kc.map((function(t){return am(t,e)})),r=new hl(n);return new vl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(By),rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return En(e,t),e.prototype._toFieldTransform=function(t){var e=new fl(t.R,nl(t.R,this.Qc));return new vl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(By);function im(t,e,n,r){var i=t.Uc(1,e,n);hm("Data must be an object, but it was:",i,r);var o=[],s=ph.empty();Lc(r,(function(t,r){var a=dm(e,t,n);r=Qn(r);var u=i.Oc(a);if(r instanceof Jy)o.push(a);else{var c=am(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new qc(o);return new Wy(s,a,i.fieldTransforms)}function om(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[lm(e,r,n)],u=[i];if(o.length%2!=0)throw new yc(gc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(lm(e,o[c])),u.push(o[c+1]);for(var h=[],l=ph.empty(),f=a.length-1;f>=0;--f)if(!vm(h,a[f])){var d=a[f],p=u[f];p=Qn(p);var v=s.Oc(d);if(p instanceof Jy)h.push(d);else{var g=am(p,v);null!=g&&(h.push(d),l.set(d,g))}}var y=new qc(h);return new Wy(l,y,s.fieldTransforms)}function sm(t,e,n,r){return void 0===r&&(r=!1),am(n,t.Uc(r?4:3,e))}function am(t,e){if(cm(t=Qn(t)))return hm("Unsupported field value:",e,t),um(t,e);if(t instanceof By)return function(t,e){if(!Gy(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=am(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Qn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=xc.fromDate(t);return{timestampValue:hf(e.R,n)}}if(t instanceof xc)return n=new xc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hf(e.R,n)};if(t instanceof $y)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qy)return{bytesValue:lf(e.R,t._byteString)};if(t instanceof Ay){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:pf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Iy(t))}(t,e)}function um(t,e){var n={};return Mc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lc(t,(function(t,r){var i=am(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function cm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xc||t instanceof $y||t instanceof qy||t instanceof Ay||t instanceof By)}function hm(t,e,n){if(!cm(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=Iy(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}var i}function lm(t,e,n){if((e=Qn(e))instanceof Uy)return e._internalPath;if("string"==typeof e)return dm(t,e);throw pm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var fm=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n){if(e.search(fm)>=0)throw pm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Uy.bind.apply(Uy,Nn([void 0],e.split(".")))))._internalPath}catch(pb){throw pm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function pm(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new yc(gc.INVALID_ARGUMENT,(a+=". ")+t+u)}function vm(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ay(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ym(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(mm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(gm);function mm(t,e){return"string"==typeof e?dm(t,e):e instanceof Uy?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),wm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return En(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(mm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(gm),Im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(wm),Em=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Im(n._firestore,n._userDataWriter,r.key,r,new bm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yc(gc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Im(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Im(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Tm(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Tm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _c()}}function _m(t,e){return t instanceof wm&&e instanceof wm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Em&&e instanceof Em&&t._firestore===e._firestore&&xy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){if(qh(t)&&0===t.explicitOrderBy.length)throw new yc(gc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Am=function(){};function km(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return En(e,t),e.prototype._apply=function(t){var e,n,r,i=Xy(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yc(gc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Lm(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(Pm(r,t,l))}a={arrayValue:{values:u}}}else a=Pm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Lm(s,o),a=sm(n,"where",s,"in"===o||"not-in"===o);var f=Eh.create(i,o,a);return function(t,e){if(e.g()){var n=$h(t);if(null!==n&&!n.isEqual(e.field))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Bh(t);null!==r&&Mm(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new yc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new yc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ky(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new jh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(Am),Dm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return En(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new yc(gc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yc(gc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Rh(e,n);return function(t,e){if(null===Bh(t)){var n=$h(t);null!==n&&Mm(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new ky(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new jh(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(Am),Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return En(e,t),e.prototype._apply=function(t){return new ky(t.firestore,t.converter,Gh(t._query,this.Hc,this.Jc))},e}(Am),Om=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return En(e,t),e.prototype._apply=function(t){var e,n,r=Rm(t,this.type,this.Yc,this.Xc);return new ky(t.firestore,t.converter,(e=t._query,n=r,new jh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(Am),xm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return En(e,t),e.prototype._apply=function(t){var e,n,r=Rm(t,this.type,this.Yc,this.Xc);return new ky(t.firestore,t.converter,(e=t._query,n=r,new jh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(Am);function Rm(t,e,n,r){if(n[0]=Qn(n[0]),n[0]instanceof gm)return function(t,e,n,r,i){if(!r)throw new yc(gc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Kh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ah(e,r.key));else{var c=r.data.field(u.field);if(Gc(c))throw new yc(gc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new yc(gc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Oh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Xy(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new yc(gc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new yc(gc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zh(t)&&-1!==c.indexOf("/"))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Fc.fromString(c));if(!Zc.isDocumentKey(h))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Zc(h);a.push(ah(e,l))}else{var f=sm(n,r,c);a.push(f)}}return new Oh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Pm(t,e,n){if("string"==typeof(n=Qn(n))){if(""===n)throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zh(e)&&-1!==n.indexOf("/"))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fc.fromString(n));if(!Zc.isDocumentKey(r))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ah(t,new Zc(r))}if(n instanceof Ay)return ah(t,n._key);throw new yc(gc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Iy(n)+".")}function Lm(t,e){if(!Array.isArray(t)||0===t.length)throw new yc(gc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yc(gc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Mm(t,e,n){if(!n.isEqual(e))throw new yc(gc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),th(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _c()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Lc(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new $y(Kc(t.latitude),Kc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Hc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=zc(t);return new xc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Fc.fromString(t);Sc(Ff(n));var r=new uy(n.get(1),n.get(3)),i=new Zc(n.popFirst(5));return r.isEqual(e)||Ic("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return En(e,t),e.prototype.convertBytes=function(t){return new qy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ay(this.firestore,null,e)},e}(jm),Um=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=qm(t,this._firestore),i=Fm(r.converter,e,n),o=Yy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,yl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=qm(t,this._firestore);return o="string"==typeof(e=Qn(e))||e instanceof Uy?om(this._dataReader,"WriteBatch.update",s._key,e,n,r):im(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,yl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=qm(t,this._firestore);return this._mutations=this._mutations.concat(new xl(e._key,yl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new yc(gc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){if((t=Qn(t)).firestore!==e)throw new yc(gc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return En(e,t),e.prototype.convertBytes=function(t){return new qy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ay(this.firestore,null,e)},e}(jm);function $m(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ey(t,Ay);var o=Ey(t.firestore,Ly),s=Xy(o);return Km(o,[("string"==typeof(e=Qn(e))||e instanceof Uy?om(s,"updateDoc",t._key,e,n,r):im(s,"updateDoc",t._key,e)).toMutation(t._key,yl.exists(!0))])}function zm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Qn(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Py(i[a])||(s=i[a],a++);var u,c,h,l={includeMetadataChanges:s.includeMetadataChanges};if(Py(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ay)c=Ey(t.firestore,Ly),h=Vh(t._key.path),u={next:function(e){i[a]&&i[a](Wm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ey(t,ky);c=Ey(d.firestore,Ly),h=d._query;var p=new Bm(c);u={next:function(t){i[a]&&i[a](new Em(c,p,d,t))},error:i[a+1],complete:i[a+2]},Sm(t._query)}return function(t,e,n,r){var i=this,o=new Wg(r),s=new ig(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return _n(i,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return e=Zv,[4,iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return _n(i,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return e=tg,[4,iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(My(c),h,l,u)}function Km(t,e){return function(t,e){var n=this,r=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var n;return Sn(this,(function(i){switch(i.label){case 0:return n=pg,[4,ry(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(My(t),e)}function Wm(t,e,n){var r=n.docs.get(e._key),i=new Bm(t);return new wm(t,i,e._key,r,new bm(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return En(e,t),e.prototype.get=function(e){var n=this,r=qm(e,this._firestore),i=new Bm(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new wm(n._firestore,i,r._key,t._document,new bm(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xy(t)}return t.prototype.get=function(t){var e=this,n=qm(t,this._firestore),r=new Vm(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return _c();var i=t[0];if(i.isFoundDocument())return new gm(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gm(e._firestore,r,n._key,null,n.converter);throw _c()}))},t.prototype.set=function(t,e,n){var r=qm(t,this._firestore),i=Fm(r.converter,e,n),o=Yy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=qm(t,this._firestore);return o="string"==typeof(e=Qn(e))||e instanceof Uy?om(this._dataReader,"Transaction.update",s._key,e,n,r):im(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=qm(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){if("undefined"==typeof Uint8Array)throw new yc(gc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qm(){if("undefined"==typeof atob)throw new yc(gc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Xm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Qm(),new t(qy.fromBase64String(e))},t.fromUint8Array=function(e){return Hm(),new t(qy.fromUint8Array(e))},t.prototype.toBase64=function(){return Qm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Ym=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Vy(t=Ey(t,Ly));var n=My(t),r=t._freezeSettings(),i=new Kg;return Fy(n,i,new $g(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Vy(t=Ey(t,Ly));var e=My(t),n=t._freezeSettings(),r=new Kg;return Fy(e,r,new zg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new yc(gc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ud;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return _n(e,void 0,void 0,(function(){var e;return Sn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return ld.yt()?(e=t+"main",[4,ld.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ep(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Jm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof uy||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Ey(t,Sy))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Qp.MOCK_USER;else{s=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Tn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[On(JSON.stringify({alg:"none",type:"JWT"})),On(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new yc(gc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Qp(u)}t._credentials=new fy(new hy(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return _n(e,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:return[4,ty(t)];case 1:return e=r.sent(),[4,ny(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Ac(i),o.Or.delete(0),Iv(o))]}var i,o}))}))}))}(My(Ey(this._delegate,Ly)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return _n(e,void 0,void 0,(function(){var e,n;return Sn(this,(function(r){switch(r.label){case 0:return[4,ty(t)];case 1:return e=r.sent(),[4,ny(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return _n(this,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return(e=Ac(t)).Or.add(0),[4,Ev(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(My(Ey(this._delegate,Ly)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&my("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(e,void 0,void 0,(function(){var e;return Sn(this,(function(r){switch(r.label){case 0:return e=wg,[4,ry(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(My(Ey(this._delegate,Ly)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new Wg(e);return t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ac(t).Gr.add(e),e.next()},[4,iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ac(t).Gr.delete(e)},[4,iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(My(e=Ey(e,Ly)),Py(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new yc(gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new fb(this,Dy(this._delegate,t))}catch(e){throw ib(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new rb(this,Cy(this._delegate,t))}catch(e){throw ib(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new cb(this,function(t,e){if(t=Ey(t,Sy),gy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yc(gc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ky(t,null,(n=e,new jh(Fc.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw ib(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var n;return Sn(this,(function(i){switch(i.label){case 0:return[4,(o=t,Zg(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new Hg(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(My(e=this._delegate),(function(r){return function(e){return t(new tb(n,e))}(new Gm(e,r))}))},t.prototype.batch=function(){var t=this;return My(this._delegate),new eb(new Um(this._delegate,(function(e){return Km(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new yc(gc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new yc(gc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Zm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return En(e,t),e.prototype.convertBytes=function(t){return new Xm(new qy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return rb.eu(e,this.firestore,null)},e}(jm);var tb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Zm(t)}return t.prototype.get=function(t){var e=this,n=db(t);return this._delegate.get(n).then((function(t){return new ab(e._firestore,new wm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=db(t);return n?(yy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=db(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Nn([s,e,n],i)),this},t.prototype.delete=function(t){var e=db(t);return this._delegate.delete(e),this},t}(),eb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=db(t);return n?(yy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=db(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Nn([s,e,n],i)),this},t.prototype.delete=function(t){var e=db(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),nb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Im(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ub(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Zm(e),n),i.set(n,o)),o},t}();nb.su=new WeakMap;var rb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Zm(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new yc(gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ay(n._delegate,r,new Zc(e)))},t.eu=function(e,n,r){return new t(n,new Ay(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new fb(this.firestore,Dy(this._delegate,t))}catch(e){throw ib(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Qn(t))instanceof Ay&&Oy(this._delegate,t)},t.prototype.set=function(t,e){e=yy("DocumentReference.set",e);try{return function(t,e,n){t=Ey(t,Ay);var r=Ey(t.firestore,Ly),i=Fm(t.converter,e,n);return Km(r,[Yy(Xy(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,yl.none())])}(this._delegate,t,e)}catch(n){throw ib(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?$m(this._delegate,t):$m.apply(void 0,Nn([this._delegate,t,e],n))}catch(i){throw ib(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Km(Ey((t=this._delegate).firestore,Ly),[new xl(t._key,yl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ob(e),i=sb(e,(function(e){return new ab(t.firestore,new wm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return zm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,Ay);var e=Ey(t.firestore,Ly),n=My(e),r=new Bm(e);return function(t,e){var n=this,r=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var n;return Sn(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return _n(this,void 0,void 0,(function(){var r,i;return Sn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Ac(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yc(gc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Gv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,ey(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new wm(e,r,t._key,n,new bm(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,Ay);var e=Ey(t.firestore,Ly);return oy(My(e),t._key,{source:"server"}).then((function(n){return Wm(e,t,n)}))}(this._delegate):function(t){t=Ey(t,Ay);var e=Ey(t.firestore,Ly);return oy(My(e),t._key).then((function(n){return Wm(e,t,n)}))}(this._delegate)).then((function(t){return new ab(e.firestore,new wm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nb.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ib(t,e,n){return t.message=t.message.replace(e,n),t}function ob(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Py(r))return r}return{}}function sb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Py(t[0])?t[0]:Py(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ab=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new rb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return _m(this._delegate,t._delegate)},t}(),ub=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(ab),cb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Zm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,km(this._delegate,(o=r,s=i=n,a=mm("where",e),new Nm(a,s,o))))}catch(i){throw ib(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,km(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=mm("orderBy",t);return new Dm(r,n)}(e,n)))}catch(r){throw ib(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,km(this._delegate,(Ty("limit",n=e),new Cm("limit",n,"F"))))}catch(r){throw ib(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,km(this._delegate,(Ty("limitToLast",n=e),new Cm("limitToLast",n,"L"))))}catch(r){throw ib(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,km(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Om("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw ib(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,km(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Om("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw ib(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,km(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xm("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw ib(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,km(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xm("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw ib(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return xy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,ky);var e=Ey(t.firestore,Ly),n=My(e),r=new Bm(e);return function(t,e){var n=this,r=new ud;return t.asyncQueue.enqueueAndForget((function(){return _n(n,void 0,void 0,(function(){var n;return Sn(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s,a;return Sn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Lp(t,e,!0)];case 1:return a=u.sent(),r=new ag(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Gv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,ey(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Em(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,ky);var e=Ey(t.firestore,Ly),n=My(e),r=new Bm(e);return sy(n,t._query,{source:"server"}).then((function(n){return new Em(e,r,t,n)}))}(this._delegate):function(t){t=Ey(t,ky);var e=Ey(t.firestore,Ly),n=My(e),r=new Bm(e);return Sm(t._query),sy(n,t._query).then((function(n){return new Em(e,r,t,n)}))}(this._delegate)).then((function(t){return new lb(e.firestore,new Em(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ob(e),i=sb(e,(function(e){return new lb(t.firestore,new Em(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return zm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nb.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),hb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ub(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),lb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new cb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new ub(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new hb(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new ub(n._firestore,r))}))},t.prototype.isEqual=function(t){return _m(this._delegate,t._delegate)},t}(),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return En(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new rb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new rb(this.firestore,void 0===t?Cy(this._delegate):Cy(this._delegate,t))}catch(e){throw ib(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=Ey(e.firestore,Ly),i=Cy(e),o=Fm(e.converter,n),Km(r,[Yy(Xy(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,yl.exists(!1))]).then((function(){return i}))).then((function(t){return new rb(s.firestore,t)}))},e.prototype.isEqual=function(t){return Oy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nb.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(cb);function db(t){return Ey(t,Ay)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pb,vb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Uy.bind.apply(Uy,Nn([void 0],t)))}return t.documentId=function(){return new t(Uc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Qn(t))instanceof Uy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),gb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new tm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Jy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new em("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nm("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new rm("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),yb={Firestore:Jm,GeoPoint:$y,Timestamp:xc,Blob:Xm,Transaction:tb,WriteBatch:eb,DocumentReference:rb,DocumentSnapshot:ab,Query:cb,QueryDocumentSnapshot:ub,QuerySnapshot:lb,CollectionReference:fb,FieldPath:vb,FieldValue:gb,setLogLevel:function(t){var e;e=t,mc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(pb=_r).INTERNAL.registerComponent(new Xn("firestore",(function(t){return function(t,e){return new Jm(t,new Ly(t,e),new Ym)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yb))),pb.registerVersion("@firebase/firestore","2.4.0");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bb=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return En(e,t),e}(Error);var wb=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return _n(this,void 0,void 0,(function(){var t;return Sn(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return _n(this,void 0,void 0,(function(){return Sn(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return _n(this,void 0,void 0,(function(){var t,e;return Sn(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Eb=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Ib(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Ib(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tb=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Eb,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new wb(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(pb){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o;return Sn(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return _n(this,void 0,void 0,(function(){var t;return Sn(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return _n(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f,d;return Sn(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=p.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new bb("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,h=u.promise,[4,Promise.race([_b(c,this.postJSON(r,i,o)),h,_b(c,this.cancelAllRequests)])];case 2:if(!(l=p.sent()))throw new bb("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!mb[a])return new bb("internal","internal");r=mb[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(pb){}return"ok"===r?null:new bb(r,i,o)}(l.status,l.json,this.serializer))throw f;if(!l.json)throw new bb("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new bb("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function _b(t,e){return _n(this,void 0,void 0,(function(){var n;return Sn(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){var n={Functions:Tb};t.INTERNAL.registerComponent(new Xn("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new Tb(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(_r,fetch.bind(self)),_r.registerVersion("@firebase/functions","0.6.15");var Sb="object"==typeof global&&global&&global.Object===Object&&global,Ab="object"==typeof self&&self&&self.Object===Object&&self,kb=Sb||Ab||Function("return this")(),Nb=kb.Symbol,Db=Object.prototype,Cb=Db.hasOwnProperty,Ob=Db.toString,xb=Nb?Nb.toStringTag:void 0;var Rb=Object.prototype.toString;var Pb=Nb?Nb.toStringTag:void 0;function Lb(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Pb&&Pb in Object(t)?function(t){var e=Cb.call(t,xb),n=t[xb];try{t[xb]=void 0;var r=!0}catch(pb){}var i=Ob.call(t);return r&&(e?t[xb]=n:delete t[xb]),i}(t):function(t){return Rb.call(t)}(t)}function Mb(t){return null!=t&&"object"==typeof t}function jb(t){return"symbol"==typeof t||Mb(t)&&"[object Symbol]"==Lb(t)}function Fb(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vb=Array.isArray,Ub=Nb?Nb.prototype:void 0,qb=Ub?Ub.toString:void 0;function Bb(t){if("string"==typeof t)return t;if(Vb(t))return Fb(t,Bb)+"";if(jb(t))return qb?qb.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function $b(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zb(t){return t}function Kb(t){if(!$b(t))return!1;var e=Lb(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Wb,Gb=kb["__core-js_shared__"],Hb=(Wb=/[^.]+$/.exec(Gb&&Gb.keys&&Gb.keys.IE_PROTO||""))?"Symbol(src)_1."+Wb:"";var Qb=Function.prototype.toString;function Xb(t){if(null!=t){try{return Qb.call(t)}catch(pb){}try{return t+""}catch(pb){}}return""}var Yb=/^\[object .+?Constructor\]$/,Jb=Function.prototype,Zb=Object.prototype,tw=Jb.toString,ew=Zb.hasOwnProperty,nw=RegExp("^"+tw.call(ew).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rw(t){return!(!$b(t)||(e=t,Hb&&Hb in e))&&(Kb(t)?nw:Yb).test(Xb(t));var e}function iw(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return rw(n)?n:void 0}var ow=iw(kb,"WeakMap"),sw=Object.create,aw=function(){function t(){}return function(e){if(!$b(e))return{};if(sw)return sw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function uw(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var cw=Date.now;var hw,lw,fw,dw=function(){try{var t=iw(Object,"defineProperty");return t({},"",{}),t}catch(pb){}}(),pw=(hw=dw?function(t,e){return dw(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:zb,lw=0,fw=0,function(){var t=cw(),e=16-(t-fw);if(fw=t,e>0){if(++lw>=800)return arguments[0]}else lw=0;return hw.apply(void 0,arguments)});function vw(t){return t!=t}function gw(t,e){return!!(null==t?0:t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,vw,n)}(t,e,0)>-1}var yw=/^(?:0|[1-9]\d*)$/;function mw(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&yw.test(t))&&t>-1&&t%1==0&&t<e}function bw(t,e,n){"__proto__"==e&&dw?dw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ww(t,e){return t===e||t!=t&&e!=e}var Iw=Object.prototype.hasOwnProperty;function Ew(t,e,n){var r=t[e];Iw.call(t,e)&&ww(r,n)&&(void 0!==n||e in t)||bw(t,e,n)}function Tw(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),i?bw(n,a,u):Ew(n,a,u)}return n}var _w=Math.max;function Sw(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Aw(t){return null!=t&&Sw(t.length)&&!Kb(t)}var kw=Object.prototype;function Nw(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kw)}function Dw(t){return Mb(t)&&"[object Arguments]"==Lb(t)}var Cw=Object.prototype,Ow=Cw.hasOwnProperty,xw=Cw.propertyIsEnumerable,Rw=Dw(function(){return arguments}())?Dw:function(t){return Mb(t)&&Ow.call(t,"callee")&&!xw.call(t,"callee")};var Pw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lw=Pw&&"object"==typeof module&&module&&!module.nodeType&&module,Mw=Lw&&Lw.exports===Pw?kb.Buffer:void 0,jw=(Mw?Mw.isBuffer:void 0)||function(){return!1},Fw={};function Vw(t){return function(e){return t(e)}}Fw["[object Float32Array]"]=Fw["[object Float64Array]"]=Fw["[object Int8Array]"]=Fw["[object Int16Array]"]=Fw["[object Int32Array]"]=Fw["[object Uint8Array]"]=Fw["[object Uint8ClampedArray]"]=Fw["[object Uint16Array]"]=Fw["[object Uint32Array]"]=!0,Fw["[object Arguments]"]=Fw["[object Array]"]=Fw["[object ArrayBuffer]"]=Fw["[object Boolean]"]=Fw["[object DataView]"]=Fw["[object Date]"]=Fw["[object Error]"]=Fw["[object Function]"]=Fw["[object Map]"]=Fw["[object Number]"]=Fw["[object Object]"]=Fw["[object RegExp]"]=Fw["[object Set]"]=Fw["[object String]"]=Fw["[object WeakMap]"]=!1;var Uw="object"==typeof exports&&exports&&!exports.nodeType&&exports,qw=Uw&&"object"==typeof module&&module&&!module.nodeType&&module,Bw=qw&&qw.exports===Uw&&Sb.process,$w=function(){try{var t=qw&&qw.require&&qw.require("util").types;return t||Bw&&Bw.binding&&Bw.binding("util")}catch(pb){}}(),zw=$w&&$w.isTypedArray,Kw=zw?Vw(zw):function(t){return Mb(t)&&Sw(t.length)&&!!Fw[Lb(t)]},Ww=Object.prototype.hasOwnProperty;function Gw(t,e){var n=Vb(t),r=!n&&Rw(t),i=!n&&!r&&jw(t),o=!n&&!r&&!i&&Kw(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!Ww.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mw(c,u))||a.push(c);return a}function Hw(t,e){return function(n){return t(e(n))}}var Qw=Hw(Object.keys,Object),Xw=Object.prototype.hasOwnProperty;function Yw(t){return Aw(t)?Gw(t):function(t){if(!Nw(t))return Qw(t);var e=[];for(var n in Object(t))Xw.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var Jw=Object.prototype.hasOwnProperty;function Zw(t){if(!$b(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Nw(t),n=[];for(var r in t)("constructor"!=r||!e&&Jw.call(t,r))&&n.push(r);return n}function tI(t){return Aw(t)?Gw(t,!0):Zw(t)}var eI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nI=/^\w*$/;function rI(t,e){if(Vb(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!jb(t))||(nI.test(t)||!eI.test(t)||null!=e&&t in Object(e))}var iI=iw(Object,"create");var oI=Object.prototype.hasOwnProperty;var sI=Object.prototype.hasOwnProperty;function aI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function uI(t,e){for(var n=t.length;n--;)if(ww(t[n][0],e))return n;return-1}aI.prototype.clear=function(){this.__data__=iI?iI(null):{},this.size=0},aI.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},aI.prototype.get=function(t){var e=this.__data__;if(iI){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return oI.call(e,t)?e[t]:void 0},aI.prototype.has=function(t){var e=this.__data__;return iI?void 0!==e[t]:sI.call(e,t)},aI.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=iI&&void 0===e?"__lodash_hash_undefined__":e,this};var cI=Array.prototype.splice;function hI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hI.prototype.clear=function(){this.__data__=[],this.size=0},hI.prototype.delete=function(t){var e=this.__data__,n=uI(e,t);return!(n<0)&&(n==e.length-1?e.pop():cI.call(e,n,1),--this.size,!0)},hI.prototype.get=function(t){var e=this.__data__,n=uI(e,t);return n<0?void 0:e[n][1]},hI.prototype.has=function(t){return uI(this.__data__,t)>-1},hI.prototype.set=function(t,e){var n=this.__data__,r=uI(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var lI=iw(kb,"Map");function fI(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function dI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dI.prototype.clear=function(){this.size=0,this.__data__={hash:new aI,map:new(lI||hI),string:new aI}},dI.prototype.delete=function(t){var e=fI(this,t).delete(t);return this.size-=e?1:0,e},dI.prototype.get=function(t){return fI(this,t).get(t)},dI.prototype.has=function(t){return fI(this,t).has(t)},dI.prototype.set=function(t,e){var n=fI(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function pI(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(pI.Cache||dI),n}pI.Cache=dI;var vI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gI=/\\(\\)?/g,yI=function(t){var e=pI(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(vI,(function(t,n,r,i){e.push(r?i.replace(gI,"$1"):n||t)})),e}));function mI(t,e){return Vb(t)?t:rI(t,e)?[t]:yI(function(t){return null==t?"":Bb(t)}(t))}function bI(t){if("string"==typeof t||jb(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function wI(t,e){for(var n=0,r=(e=mI(e,t)).length;null!=t&&n<r;)t=t[bI(e[n++])];return n&&n==r?t:void 0}function II(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var EI=Nb?Nb.isConcatSpreadable:void 0;function TI(t){return Vb(t)||Rw(t)||!!(EI&&t&&t[EI])}function _I(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=TI),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?_I(a,e-1,n,r,i):II(i,a):r||(i[i.length]=a)}return i}function SI(t){return(null==t?0:t.length)?_I(t,1):[]}var AI=Hw(Object.getPrototypeOf,Object),kI=Function.prototype,NI=Object.prototype,DI=kI.toString,CI=NI.hasOwnProperty,OI=DI.call(Object);function xI(t){var e=this.__data__=new hI(t);this.size=e.size}xI.prototype.clear=function(){this.__data__=new hI,this.size=0},xI.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xI.prototype.get=function(t){return this.__data__.get(t)},xI.prototype.has=function(t){return this.__data__.has(t)},xI.prototype.set=function(t,e){var n=this.__data__;if(n instanceof hI){var r=n.__data__;if(!lI||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dI(r)}return n.set(t,e),this.size=n.size,this};var RI="object"==typeof exports&&exports&&!exports.nodeType&&exports,PI=RI&&"object"==typeof module&&module&&!module.nodeType&&module,LI=PI&&PI.exports===RI?kb.Buffer:void 0,MI=LI?LI.allocUnsafe:void 0;function jI(){return[]}var FI=Object.prototype.propertyIsEnumerable,VI=Object.getOwnPropertySymbols,UI=VI?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(VI(t),(function(e){return FI.call(t,e)})))}:jI;var qI=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)II(e,UI(t)),t=AI(t);return e}:jI;function BI(t,e,n){var r=e(t);return Vb(t)?r:II(r,n(t))}function $I(t){return BI(t,Yw,UI)}function zI(t){return BI(t,tI,qI)}var KI=iw(kb,"DataView"),WI=iw(kb,"Promise"),GI=iw(kb,"Set"),HI=Xb(KI),QI=Xb(lI),XI=Xb(WI),YI=Xb(GI),JI=Xb(ow),ZI=Lb;(KI&&"[object DataView]"!=ZI(new KI(new ArrayBuffer(1)))||lI&&"[object Map]"!=ZI(new lI)||WI&&"[object Promise]"!=ZI(WI.resolve())||GI&&"[object Set]"!=ZI(new GI)||ow&&"[object WeakMap]"!=ZI(new ow))&&(ZI=function(t){var e=Lb(t),n="[object Object]"==e?t.constructor:void 0,r=n?Xb(n):"";if(r)switch(r){case HI:return"[object DataView]";case QI:return"[object Map]";case XI:return"[object Promise]";case YI:return"[object Set]";case JI:return"[object WeakMap]"}return e});var tE=ZI,eE=Object.prototype.hasOwnProperty;var nE=kb.Uint8Array;function rE(t){var e=new t.constructor(t.byteLength);return new nE(e).set(new nE(t)),e}var iE=/\w*$/;var oE=Nb?Nb.prototype:void 0,sE=oE?oE.valueOf:void 0;function aE(t,e,n){var r,i,o,s=t.constructor;switch(e){case"[object ArrayBuffer]":return rE(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?rE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?rE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,iE.exec(i))).lastIndex=i.lastIndex,o;case"[object Set]":return new s;case"[object Symbol]":return r=t,sE?Object(sE.call(r)):{}}}var uE=$w&&$w.isMap,cE=uE?Vw(uE):function(t){return Mb(t)&&"[object Map]"==tE(t)};var hE=$w&&$w.isSet,lE=hE?Vw(hE):function(t){return Mb(t)&&"[object Set]"==tE(t)},fE={};function dE(t,e,n,r,i,o){var s,a=1&e,u=2&e,c=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!$b(t))return t;var h=Vb(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&eE.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,s)}else{var l=tE(t),f="[object Function]"==l||"[object GeneratorFunction]"==l;if(jw(t))return function(t,e){if(e)return t.slice();var n=t.length,r=MI?MI(n):new t.constructor(n);return t.copy(r),r}(t,a);if("[object Object]"==l||"[object Arguments]"==l||f&&!i){if(s=u||f?{}:function(t){return"function"!=typeof t.constructor||Nw(t)?{}:aw(AI(t))}(t),!a)return u?function(t,e){return Tw(t,qI(t),e)}(t,function(t,e){return t&&Tw(e,tI(e),t)}(s,t)):function(t,e){return Tw(t,UI(t),e)}(t,function(t,e){return t&&Tw(e,Yw(e),t)}(s,t))}else{if(!fE[l])return i?t:{};s=aE(t,l,a)}}o||(o=new xI);var d=o.get(t);if(d)return d;o.set(t,s),lE(t)?t.forEach((function(r){s.add(dE(r,e,n,r,t,o))})):cE(t)&&t.forEach((function(r,i){s.set(i,dE(r,e,n,i,t,o))}));var p=h?void 0:(c?u?zI:$I:u?tI:Yw)(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(p||t,(function(r,i){p&&(r=t[i=r]),Ew(s,i,dE(r,e,n,i,t,o))})),s}fE["[object Arguments]"]=fE["[object Array]"]=fE["[object ArrayBuffer]"]=fE["[object DataView]"]=fE["[object Boolean]"]=fE["[object Date]"]=fE["[object Float32Array]"]=fE["[object Float64Array]"]=fE["[object Int8Array]"]=fE["[object Int16Array]"]=fE["[object Int32Array]"]=fE["[object Map]"]=fE["[object Number]"]=fE["[object Object]"]=fE["[object RegExp]"]=fE["[object Set]"]=fE["[object String]"]=fE["[object Symbol]"]=fE["[object Uint8Array]"]=fE["[object Uint8ClampedArray]"]=fE["[object Uint16Array]"]=fE["[object Uint32Array]"]=!0,fE["[object Error]"]=fE["[object Function]"]=fE["[object WeakMap]"]=!1;function pE(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new dI;++e<n;)this.add(t[e])}function vE(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function gE(t,e){return t.has(e)}pE.prototype.add=pE.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},pE.prototype.has=function(t){return this.__data__.has(t)};function yE(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var l=-1,f=!0,d=2&n?new pE:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var p=t[l],v=e[l];if(r)var g=s?r(v,p,l,e,t,o):r(p,v,l,t,e,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!vE(e,(function(t,e){if(!gE(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function mE(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function bE(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var wE=Nb?Nb.prototype:void 0,IE=wE?wE.valueOf:void 0;var EE=Object.prototype.hasOwnProperty;var TE="[object Object]",_E=Object.prototype.hasOwnProperty;function SE(t,e,n,r,i,o){var s=Vb(t),a=Vb(e),u=s?"[object Array]":tE(t),c=a?"[object Array]":tE(e),h=(u="[object Arguments]"==u?TE:u)==TE,l=(c="[object Arguments]"==c?TE:c)==TE,f=u==c;if(f&&jw(t)){if(!jw(e))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new xI),s||Kw(t)?yE(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new nE(t),new nE(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ww(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=mE;case"[object Set]":var u=1&r;if(a||(a=bE),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var h=yE(a(t),a(e),r,i,o,s);return s.delete(t),h;case"[object Symbol]":if(IE)return IE.call(t)==IE.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var d=h&&_E.call(t,"__wrapped__"),p=l&&_E.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return o||(o=new xI),i(v,g,n,r,o)}}return!!f&&(o||(o=new xI),function(t,e,n,r,i,o){var s=1&n,a=$I(t),u=a.length;if(u!=$I(e).length&&!s)return!1;for(var c=u;c--;){var h=a[c];if(!(s?h in e:EE.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<u;){var v=t[h=a[c]],g=e[h];if(r)var y=s?r(g,v,h,e,t,o):r(v,g,h,t,e,o);if(!(void 0===y?v===g||i(v,g,n,r,o):y)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}function AE(t,e,n,r,i){return t===e||(null==t||null==e||!Mb(t)&&!Mb(e)?t!=t&&e!=e:SE(t,e,n,r,AE,i))}function kE(t){return t==t&&!$b(t)}function NE(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function DE(t){var e=function(t){for(var e=Yw(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kE(i)]}return e}(t);return 1==e.length&&e[0][2]?NE(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],c=t[u],h=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var l=new xI;if(r)var f=r(c,h,u,t,e,l);if(!(void 0===f?AE(h,c,3,r,l):f))return!1}}return!0}(n,t,e)}}function CE(t,e){return null!=t&&e in Object(t)}function OE(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=mI(e,t)).length,o=!1;++r<i;){var s=bI(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Sw(i)&&mw(s,i)&&(Vb(t)||Rw(t))}(t,e,CE)}function xE(t,e){return rI(t)&&kE(e)?NE(bI(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:wI(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?OE(n,t):AE(e,r,3)}}function RE(t){return rI(t)?(e=bI(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return wI(e,t)}}(t);var e}function PE(t){return"function"==typeof t?t:null==t?zb:"object"==typeof t?Vb(t)?xE(t[0],t[1]):DE(t):RE(t)}var LE,ME=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[LE?s:++r];if(!1===e(i[a],a,i))break}return t};var jE=function(t,e){return function(n,r){if(null==n)return n;if(!Aw(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}((function(t,e){return t&&ME(t,e,Yw)}));function FE(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function VE(t,e){return e.length<2?t:wI(t,function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(e,0,-1))}function UE(t,e){return null==(t=VE(t,e=mI(e,t)))||delete t[bI((n=e,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r}function qE(t){return function(t){if(!Mb(t)||"[object Object]"!=Lb(t))return!1;var e=AI(t);if(null===e)return!0;var n=CI.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&DI.call(n)==OI}(t)?void 0:t}var BE=function(t){return pw(function(t,e,n){return e=_w(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=_w(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),uw(t,this,a)}}(t,void 0,SI),t+"")}((function(t,e){var n={};if(null==t)return n;var r=!1;e=Fb(e,(function(e){return e=mI(e,t),r||(r=e.length>1),e})),Tw(t,zI(t),n),r&&(n=dE(n,7,qE));for(var i=e.length;i--;)UE(n,e[i]);return n}));function $E(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=jb(t),s=void 0!==e,a=null===e,u=e==e,c=jb(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function zE(t,e,n){e=e.length?Fb(e,(function(t){return Vb(t)?function(e){return wI(e,1===t.length?t[0]:t)}:t})):[zb];var r=-1;return e=Fb(e,Vw(PE)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,r=Aw(t)?Array(t.length):[];return jE(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}(t,(function(t,n,i){return{criteria:Fb(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=$E(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function KE(t,e,n,r){return null==t?[]:(Vb(e)||(e=null==e?[]:[e]),Vb(n=r?void 0:n)||(n=null==n?[]:[n]),zE(t,e,n))}var WE=GI&&1/bE(new GI([,-0]))[1]==1/0?function(t){return new GI(t)}:function(){};function GE(t,e){return t&&t.length?function(t,e,n){var r=-1,i=gw,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=FE;else if(o>=200){var c=e?null:WE(t);if(c)return bE(c);s=!1,i=gE,u=new pE}else u=e?[]:a;t:for(;++r<o;){var h=t[r],l=e?e(h):h;if(h=n||0!==h?h:0,s&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue t;e&&u.push(l),a.push(h)}else i(u,l,n)||(u!==a&&u.push(l),a.push(h))}return a}(t,PE(e)):[]}function HE(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function QE(t){const e=t-1;return e*e*e+1}function XE(t,{delay:e=0,duration:n=400,easing:r=h}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function YE(t,{delay:e=0,duration:n=400,easing:r=QE,start:i=0,opacity:o=0}={}){const s=getComputedStyle(t),a=+s.opacity,u="none"===s.transform?"":s.transform,c=1-i,h=a*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} scale(${1-c*e});\n\t\t\topacity: ${a-h*e}\n\t\t`}}function JE(t,{delay:e=0,speed:n,duration:r,easing:i=HE}={}){const o=t.getTotalLength();return void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function ZE(t){let e,n,r,i;return{c(){e=K("svg"),n=K("line"),r=K("line"),X(n,"x1","18"),X(n,"y1","6"),X(n,"x2","6"),X(n,"y2","18"),X(r,"x1","6"),X(r,"y1","6"),X(r,"x2","18"),X(r,"y2","18"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-x "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-x "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function tT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class eT extends Yt{constructor(t){super(),Xt(this,t,tT,ZE,g,{size:0,strokeWidth:1,class:2})}}function nT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("path"),r=K("path"),X(n,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),X(r,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-book-open "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-book-open "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function rT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class iT extends Yt{constructor(t){super(),Xt(this,t,rT,nT,g,{size:0,strokeWidth:1,class:2})}}function oT(t){let e,n,r,i,o,s;return{c(){e=K("svg"),n=K("rect"),r=K("line"),i=K("line"),o=K("line"),X(n,"x","3"),X(n,"y","4"),X(n,"width","18"),X(n,"height","18"),X(n,"rx","2"),X(n,"ry","2"),X(r,"x1","16"),X(r,"y1","2"),X(r,"x2","16"),X(r,"y2","6"),X(i,"x1","8"),X(i,"y1","2"),X(i,"x2","8"),X(i,"y2","6"),X(o,"x1","3"),X(o,"y1","10"),X(o,"x2","21"),X(o,"y2","10"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",s="feather feather-calendar "+t[2])},m(t,s){q(t,e,s),F(e,n),F(e,r),F(e,i),F(e,o)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&s!==(s="feather feather-calendar "+t[2])&&X(e,"class",s)},i:c,o:c,d(t){t&&B(e)}}}function sT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class aT extends Yt{constructor(t){super(),Xt(this,t,sT,oT,g,{size:0,strokeWidth:1,class:2})}}function uT(t){let e,n,r,i,o,s,a,u;return{c(){e=K("svg"),n=K("line"),r=K("line"),i=K("line"),o=K("line"),s=K("line"),a=K("line"),X(n,"x1","8"),X(n,"y1","6"),X(n,"x2","21"),X(n,"y2","6"),X(r,"x1","8"),X(r,"y1","12"),X(r,"x2","21"),X(r,"y2","12"),X(i,"x1","8"),X(i,"y1","18"),X(i,"x2","21"),X(i,"y2","18"),X(o,"x1","3"),X(o,"y1","6"),X(o,"x2","3.01"),X(o,"y2","6"),X(s,"x1","3"),X(s,"y1","12"),X(s,"x2","3.01"),X(s,"y2","12"),X(a,"x1","3"),X(a,"y1","18"),X(a,"x2","3.01"),X(a,"y2","18"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",u="feather feather-list "+t[2])},m(t,u){q(t,e,u),F(e,n),F(e,r),F(e,i),F(e,o),F(e,s),F(e,a)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&u!==(u="feather feather-list "+t[2])&&X(e,"class",u)},i:c,o:c,d(t){t&&B(e)}}}function cT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class hT extends Yt{constructor(t){super(),Xt(this,t,cT,uT,g,{size:0,strokeWidth:1,class:2})}}function lT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("circle"),r=K("path"),X(n,"cx","12"),X(n,"cy","12"),X(n,"r","3"),X(r,"d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-settings "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-settings "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function fT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class dT extends Yt{constructor(t){super(),Xt(this,t,fT,lT,g,{size:0,strokeWidth:1,class:2})}}function pT(t){let e,n,r,i,o;return{c(){e=K("svg"),n=K("circle"),r=K("circle"),i=K("path"),X(n,"cx","9"),X(n,"cy","21"),X(n,"r","1"),X(r,"cx","20"),X(r,"cy","21"),X(r,"r","1"),X(i,"d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",o="feather feather-shopping-cart "+t[2])},m(t,o){q(t,e,o),F(e,n),F(e,r),F(e,i)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&o!==(o="feather feather-shopping-cart "+t[2])&&X(e,"class",o)},i:c,o:c,d(t){t&&B(e)}}}function vT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class gT extends Yt{constructor(t){super(),Xt(this,t,vT,pT,g,{size:0,strokeWidth:1,class:2})}}function yT(t){let e,n,r,i,o,s;return{c(){e=K("svg"),n=K("path"),r=K("circle"),i=K("path"),o=K("path"),X(n,"d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"),X(r,"cx","9"),X(r,"cy","7"),X(r,"r","4"),X(i,"d","M23 21v-2a4 4 0 0 0-3-3.87"),X(o,"d","M16 3.13a4 4 0 0 1 0 7.75"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",s="feather feather-users "+t[2])},m(t,s){q(t,e,s),F(e,n),F(e,r),F(e,i),F(e,o)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&s!==(s="feather feather-users "+t[2])&&X(e,"class",s)},i:c,o:c,d(t){t&&B(e)}}}function mT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class bT extends Yt{constructor(t){super(),Xt(this,t,mT,yT,g,{size:0,strokeWidth:1,class:2})}}function wT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("path"),r=K("circle"),X(n,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),X(r,"cx","12"),X(r,"cy","7"),X(r,"r","4"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-user "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-user "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function IT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class ET extends Yt{constructor(t){super(),Xt(this,t,IT,wT,g,{size:0,strokeWidth:1,class:2})}}function TT(t){let e,n,r;return{c(){e=K("svg"),n=K("polyline"),X(n,"points","15 18 9 12 15 6"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",r="feather feather-chevron-left "+t[2])},m(t,r){q(t,e,r),F(e,n)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&r!==(r="feather feather-chevron-left "+t[2])&&X(e,"class",r)},i:c,o:c,d(t){t&&B(e)}}}function _T(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class ST extends Yt{constructor(t){super(),Xt(this,t,_T,TT,g,{size:0,strokeWidth:1,class:2})}}function AT(t){let e,n,r;return{c(){e=K("svg"),n=K("polyline"),X(n,"points","9 18 15 12 9 6"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",r="feather feather-chevron-right "+t[2])},m(t,r){q(t,e,r),F(e,n)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&r!==(r="feather feather-chevron-right "+t[2])&&X(e,"class",r)},i:c,o:c,d(t){t&&B(e)}}}function kT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class NT extends Yt{constructor(t){super(),Xt(this,t,kT,AT,g,{size:0,strokeWidth:1,class:2})}}function DT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("line"),r=K("line"),X(n,"x1","12"),X(n,"y1","5"),X(n,"x2","12"),X(n,"y2","19"),X(r,"x1","5"),X(r,"y1","12"),X(r,"x2","19"),X(r,"y2","12"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-plus "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-plus "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function CT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class OT extends Yt{constructor(t){super(),Xt(this,t,CT,DT,g,{size:0,strokeWidth:1,class:2})}}function xT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("polyline"),r=K("path"),X(n,"points","3 6 5 6 21 6"),X(r,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-trash "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-trash "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function RT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class PT extends Yt{constructor(t){super(),Xt(this,t,RT,xT,g,{size:0,strokeWidth:1,class:2})}}function LT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("circle"),r=K("line"),X(n,"cx","12"),X(n,"cy","12"),X(n,"r","10"),X(r,"x1","8"),X(r,"y1","12"),X(r,"x2","16"),X(r,"y2","12"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-minus-circle "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-minus-circle "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function MT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class jT extends Yt{constructor(t){super(),Xt(this,t,MT,LT,g,{size:0,strokeWidth:1,class:2})}}function FT(t){let e,n,r,i,o,s,a,u,h,l,f;return{c(){e=K("svg"),n=K("line"),r=K("line"),i=K("line"),o=K("line"),s=K("line"),a=K("line"),u=K("line"),h=K("line"),l=K("line"),X(n,"x1","4"),X(n,"y1","21"),X(n,"x2","4"),X(n,"y2","14"),X(r,"x1","4"),X(r,"y1","10"),X(r,"x2","4"),X(r,"y2","3"),X(i,"x1","12"),X(i,"y1","21"),X(i,"x2","12"),X(i,"y2","12"),X(o,"x1","12"),X(o,"y1","8"),X(o,"x2","12"),X(o,"y2","3"),X(s,"x1","20"),X(s,"y1","21"),X(s,"x2","20"),X(s,"y2","16"),X(a,"x1","20"),X(a,"y1","12"),X(a,"x2","20"),X(a,"y2","3"),X(u,"x1","1"),X(u,"y1","14"),X(u,"x2","7"),X(u,"y2","14"),X(h,"x1","9"),X(h,"y1","8"),X(h,"x2","15"),X(h,"y2","8"),X(l,"x1","17"),X(l,"y1","16"),X(l,"x2","23"),X(l,"y2","16"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",f="feather feather-sliders "+t[2])},m(t,c){q(t,e,c),F(e,n),F(e,r),F(e,i),F(e,o),F(e,s),F(e,a),F(e,u),F(e,h),F(e,l)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&f!==(f="feather feather-sliders "+t[2])&&X(e,"class",f)},i:c,o:c,d(t){t&&B(e)}}}function VT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class UT extends Yt{constructor(t){super(),Xt(this,t,VT,FT,g,{size:0,strokeWidth:1,class:2})}}function qT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("circle"),r=K("line"),X(n,"cx","11"),X(n,"cy","11"),X(n,"r","8"),X(r,"x1","21"),X(r,"y1","21"),X(r,"x2","16.65"),X(r,"y2","16.65"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-search "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-search "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function BT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class $T extends Yt{constructor(t){super(),Xt(this,t,BT,qT,g,{size:0,strokeWidth:1,class:2})}}function zT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("path"),r=K("path"),X(n,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),X(r,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-edit "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-edit "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function KT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class WT extends Yt{constructor(t){super(),Xt(this,t,KT,zT,g,{size:0,strokeWidth:1,class:2})}}function GT(t){let e,n,r,i;return{c(){e=K("svg"),n=K("path"),r=K("polyline"),X(n,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),X(r,"points","22 4 12 14.01 9 11.01"),X(e,"xmlns","http://www.w3.org/2000/svg"),X(e,"width",t[0]),X(e,"height",t[0]),X(e,"fill","none"),X(e,"viewBox","0 0 24 24"),X(e,"stroke","currentColor"),X(e,"stroke-width",t[1]),X(e,"stroke-linecap","round"),X(e,"stroke-linejoin","round"),X(e,"class",i="feather feather-check-circle "+t[2])},m(t,i){q(t,e,i),F(e,n),F(e,r)},p(t,[n]){1&n&&X(e,"width",t[0]),1&n&&X(e,"height",t[0]),2&n&&X(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-check-circle "+t[2])&&X(e,"class",i)},i:c,o:c,d(t){t&&B(e)}}}function HT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class QT extends Yt{constructor(t){super(),Xt(this,t,HT,GT,g,{size:0,strokeWidth:1,class:2})}}export{bT as $,Ht as A,v as B,Qt as C,_t as D,Ut as E,H as F,Lt as G,Mt as H,XE as I,mt as J,Wt as K,St as L,I as M,W as N,J as O,tt as P,O as Q,p as R,Yt as S,mn as T,aT as U,c as V,gT as W,eT as X,iT as Y,hT as Z,dT as _,wn as a,ET as a0,D as a1,PT as a2,YE as a3,qt as a4,$ as a5,b as a6,jT as a7,l as a8,k as a9,$t as aa,Bt as ab,oe as ac,NT as ad,ST as ae,OT as af,UT as ag,$T as ah,Z as ai,et as aj,nt as ak,KE as al,WT as am,C as an,K as ao,JE as ap,m as aq,QT as ar,Ze as as,ft as at,vn as au,BE as b,E as c,ae as d,z as e,_r as f,w as g,X as h,Xt as i,q as j,S as k,Q as l,A as m,_ as n,dt as o,jt as p,Ft as q,B as r,g as s,rt as t,GE as u,gt as v,se as w,G as x,Gt as y,F as z};
