var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var a in o||(o={}))e.call(o,a)&&i(t,a,o[a]);if(n)for(var a of n(o))r.call(o,a)&&i(t,a,o[a]);return t};function a(){}const s=t=>t;function u(t,e){for(const n in e)t[n]=e[n];return t}function c(t){return t()}function h(){return Object.create(null)}function l(t){t.forEach(c)}function f(t){return"function"==typeof t}function d(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function p(t,...e){if(null==t)return a;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function v(t){let e;return p(t,(t=>e=t))(),e}function y(t,e,n){t.$$.on_destroy.push(p(e,n))}function g(t,e,n,r){if(t){const i=m(t,e,n,r);return t[0](i)}}function m(t,e,n,r){return t[1]&&r?u(n.ctx.slice(),t[1](r(e))):n.ctx}function b(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=m(e,n,r,a);t.p(i,s)}}function w(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function I(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function E(t){return null==t?"":t}function T(t,e,n=e){return t.set(n),e}function _(t){return t&&f(t.destroy)?t.destroy:a}const S="undefined"!=typeof window;let k=S?()=>window.performance.now():()=>Date.now(),A=S?t=>requestAnimationFrame(t):a;const N=new Set;function D(t){N.forEach((e=>{e.c(t)||(N.delete(e),e.f())})),0!==N.size&&A(D)}function x(t){let e;return 0===N.size&&A(D),{promise:new Promise((n=>{N.add(e={c:t,f:n})})),abort(){N.delete(e)}}}function O(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode.removeChild(t)}function R(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function F(){return j(" ")}function V(){return j("")}function U(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function q(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function B(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:q(t,r,e[r])}function $(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function K(t){return Array.from(t.childNodes)}function z(t,e,n,r){for(let i=0;i<t.length;i+=1){const r=t[i];if(r.nodeName===e){let e=0;const o=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)r.removeAttribute(o[t]);return t.splice(i,1)[0]}}return r?M(e):L(e)}function W(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return j(e)}function G(t){return W(t," ")}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function X(t,e){t.value=null==e?"":e}function Y(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function Q(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function J(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Z(t,e,n){t.classList[n?"add":"remove"](e)}function tt(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const et=new Set;let nt,rt=0;function it(t,e,n,r,i,o,a,s=0){const u=16.666/r;let c="{\n";for(let y=0;y<=1;y+=u){const t=e+(n-e)*o(y);c+=100*y+`%{${a(t,1-t)}}\n`}const h=c+`100% {${a(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${s}`,f=t.ownerDocument;et.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(L("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[l]||(p[l]=!0,d.insertRule(`@keyframes ${l} ${h}`,d.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,rt+=1,l}function ot(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),rt-=i,rt||A((()=>{rt||(et.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),et.clear())})))}function at(t){nt=t}function st(){if(!nt)throw new Error("Function called outside component initialization");return nt}function ut(t){st().$$.on_mount.push(t)}function ct(t){st().$$.on_destroy.push(t)}function ht(t,e){st().$$.context.set(t,e)}function lt(t){return st().$$.context.get(t)}function ft(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const dt=[],pt=[],vt=[],yt=[],gt=Promise.resolve();let mt=!1;function bt(){mt||(mt=!0,gt.then(_t))}function wt(t){vt.push(t)}function It(t){yt.push(t)}let Et=!1;const Tt=new Set;function _t(){if(!Et){Et=!0;do{for(let t=0;t<dt.length;t+=1){const e=dt[t];at(e),St(e.$$)}for(at(null),dt.length=0;pt.length;)pt.pop()();for(let t=0;t<vt.length;t+=1){const e=vt[t];Tt.has(e)||(Tt.add(e),e())}vt.length=0}while(dt.length);for(;yt.length;)yt.pop()();mt=!1,Et=!1,Tt.clear()}}function St(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wt)}}let kt;function At(){return kt||(kt=Promise.resolve(),kt.then((()=>{kt=null}))),kt}function Nt(t,e,n){t.dispatchEvent(tt(`${e?"intro":"outro"}${n}`))}const Dt=new Set;let xt;function Ot(){xt={r:0,c:[],p:xt}}function Ct(){xt.r||l(xt.c),xt=xt.p}function Pt(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function Rt(t,e,n,r){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),xt.c.push((()=>{Dt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Lt={duration:0};function Mt(t,e,n){let r,i,o=e(t,n),u=!1,c=0;function h(){r&&ot(t,r)}function l(){const{delay:e=0,duration:n=300,easing:l=s,tick:f=a,css:d}=o||Lt;d&&(r=it(t,0,1,n,e,l,d,c++)),f(0,1);const p=k()+e,v=p+n;i&&i.abort(),u=!0,wt((()=>Nt(t,!0,"start"))),i=x((e=>{if(u){if(e>=v)return f(1,0),Nt(t,!0,"end"),h(),u=!1;if(e>=p){const t=l((e-p)/n);f(t,1-t)}}return u}))}let d=!1;return{start(){d||(ot(t),f(o)?(o=o(),At().then(l)):l())},invalidate(){d=!1},end(){u&&(h(),u=!1)}}}function jt(t,e,n){let r,i=e(t,n),o=!0;const u=xt;function c(){const{delay:e=0,duration:n=300,easing:c=s,tick:h=a,css:f}=i||Lt;f&&(r=it(t,1,0,n,e,c,f));const d=k()+e,p=d+n;wt((()=>Nt(t,!1,"start"))),x((e=>{if(o){if(e>=p)return h(0,1),Nt(t,!1,"end"),--u.r||l(u.c),!1;if(e>=d){const t=c((e-d)/n);h(1-t,t)}}return o}))}return u.r+=1,f(i)?At().then((()=>{i=i(),c()})):c(),{end(e){e&&i.tick&&i.tick(1,0),o&&(r&&ot(t,r),o=!1)}}}function Ft(t,e){Rt(t,1,1,(()=>{e.delete(t.key)}))}function Vt(t,e,n,r,i,o,a,s,u,c,h,l){let f=t.length,d=o.length,p=f;const v={};for(;p--;)v[t[p].key]=p;const y=[],g=new Map,m=new Map;for(p=d;p--;){const t=l(i,o,p),s=n(t);let u=a.get(s);u?r&&u.p(t,e):(u=c(s,t),u.c()),g.set(s,y[p]=u),s in v&&m.set(s,Math.abs(p-v[s]))}const b=new Set,w=new Set;function I(t){Pt(t,1),t.m(s,h),a.set(t.key,t),h=t.first,d--}for(;f&&d;){const e=y[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(h=e.first,f--,d--):g.has(i)?!a.has(r)||b.has(r)?I(e):w.has(i)?f--:m.get(r)>m.get(i)?(w.add(r),I(e)):(b.add(i),f--):(u(n,a),f--)}for(;f--;){const e=t[f];g.has(e.key)||u(e,a)}for(;d;)I(y[d-1]);return y}function Ut(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const a in r)a in n||(n[a]=void 0);return n}function qt(t){return"object"==typeof t&&null!==t?t:{}}function Bt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function $t(t){t&&t.c()}function Kt(t,e){t&&t.l(e)}function zt(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:a,after_update:s}=t.$$;i&&i.m(e,n),r||wt((()=>{const e=o.map(c).filter(f);a?a.push(...e):l(e),t.$$.on_mount=[]})),s.forEach(wt)}function Wt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gt(t,e,n,r,i,o,s=[-1]){const u=nt;at(t);const c=t.$$={fragment:null,ctx:null,props:o,update:a,not_equal:i,bound:h(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:h(),dirty:s,skip_bound:!1};let f=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=o)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](o),f&&function(t,e){-1===t.$$.dirty[0]&&(dt.push(t),bt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],c.update(),f=!0,l(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=K(e.target);c.fragment&&c.fragment.l(t),t.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&Pt(t.$$.fragment),zt(t,e.target,e.anchor,e.customElement),_t()}at(u)}class Ht{$destroy(){Wt(this,1),this.$destroy=a}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Xt=t=>void 0===t,Yt=t=>"function"==typeof t,Qt=t=>"number"==typeof t;function Jt(){let t=0;return()=>t++}const Zt="undefined"==typeof window;function te(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const ee=[];function ne(t,e){return{subscribe:re(t,e).subscribe}}function re(t,e=a){let n;const r=[];function i(e){if(d(t,e)&&(t=e,n)){const e=!ee.length;for(let n=0;n<r.length;n+=1){const e=r[n];e[1](),ee.push(e,t)}if(e){for(let t=0;t<ee.length;t+=2)ee[t][0](ee[t+1]);ee.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,s=a){const u=[o,s];return r.push(u),1===r.length&&(n=e(i)||a),o(t),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}function ie(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return ne(n,(t=>{let n=!1;const s=[];let u=0,c=a;const h=()=>{if(u)return;c();const n=e(r?s[0]:s,t);o?t(n):c=f(n)?n:a},d=i.map(((t,e)=>p(t,(t=>{s[e]=t,u&=~(1<<e),n&&h()}),(()=>{u|=1<<e}))));return n=!0,h(),function(){l(d),c()}}))}const oe=t=>`@@svnav-ctx__${t}`,ae=oe("LOCATION"),se=oe("ROUTER"),ue=oe("ROUTE"),ce=oe("ROUTE_PARAMS"),he=oe("FOCUS_ELEM"),le=/^:(.+)/,fe=(t,e)=>t.substr(0,e.length)===e,de=t=>"*"===t[0],pe=t=>t.replace(/(^\/+|\/+$)/g,"");function ve(t,e=!1){const n=pe(t).split("/");return e?n.filter(Boolean):n}const ye=(t,e)=>t+(e?`?${e}`:""),ge=t=>`/${pe(t)}`;function me(...t){const e=t.map((t=>ve(t,!0).join("/"))).join("/");return ge(e)}const be={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},we=t=>be[t];function Ie(t,e,n,r){const i=n&&function(t,e){let n;return 2===t?n=e.path?`path="${e.path}"`:"default":1===t?n=`to="${e.to}"`:3===t&&(n=`basepath="${e.basepath||""}"`),`<${we(t)} ${n||""} />`}(r||t,n),o=i?`\n\nOccurred in: ${i}`:"",a=we(t);return`<${a}> ${Yt(e)?e(a):e}${o}`}const Ee=t=>(...e)=>t(Ie(...e)),Te=Ee((t=>{throw new Error(t)})),_e=Ee(console.warn);function Se(t,e){return{route:t,score:t.default?0:ve(t.fullPath).reduce(((t,e)=>{let n=t;return n+=4,(t=>""===t)(e)?n+=1:(t=>le.test(t))(e)?n+=2:de(e)?n-=5:n+=3,n}),0),index:e}}function ke(t,e){let n,r;const[i]=e.split("?"),a=ve(i),s=""===a[0],u=function(t){return t.map(Se).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let c=0,h=u.length;c<h;c++){const{route:t}=u[c];let i=!1;const h={},l=e=>o(o({},t),{params:h,uri:e});if(t.default){r=l(e);continue}const f=ve(t.fullPath),d=Math.max(a.length,f.length);let p=0;for(;p<d;p++){const t=f[p],e=a[p];if(!Xt(t)&&de(t)){const e="*"===t?"*":t.slice(1);h[e]=a.slice(p).map(decodeURIComponent).join("/");break}if(Xt(e)){i=!0;break}const n=le.exec(t);if(n&&!s){const t=decodeURIComponent(e);h[n[1]]=t}else if(t!==e){i=!0;break}}if(!i){n=l(me(...a.slice(0,p)));break}}return n||r||null}function Ae(t,e){return ke([t],e)}function Ne(t,e){const{pathname:n,hash:r="",search:i="",state:o}=t,a=ve(e,!0),s=ve(n,!0);for(;a.length;)a[0]!==s[0]&&Te(3,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),a.shift(),s.shift();return{pathname:me(...s),hash:r,search:i,state:o}}const De=t=>1===t.length?"":t;function xe(t){const e=t.indexOf("?"),n=t.indexOf("#"),r=-1!==e,i=-1!==n,o=i?De(t.substr(n)):"",a=i?t.substr(0,n):t,s=r?De(a.substr(e)):"";return{pathname:r?a.substr(0,e):a,search:s,hash:o}}function Oe(t,e,n){return me(n,function(t,e){if(fe(t,"/"))return t;const[n,r]=t.split("?"),[i]=e.split("?"),o=ve(n),a=ve(i);if(""===o[0])return ye(i,r);if(!fe(o[0],".")){const t=a.concat(o).join("/");return ye(("/"===i?"":"/")+t,r)}const s=a.concat(o),u=[];return s.forEach((t=>{".."===t?u.pop():"."!==t&&u.push(t)})),ye(`/${u.join("/")}`,r)}(t,e))}function Ce(t,e){const n=ge(t.replace(/\*.*$/,""));const r=ve(n,!0),i=Ae({fullPath:n},me(...ve(e,!0).slice(0,r.length)));return i&&i.uri}function Pe(t){return o(o({},t.location),{pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"})}function Re(t,e){return o(o({},xe(e)),{state:t})}const Le=!(Zt||!window.document||!window.document.createElement),Me=!Zt&&"null"===window.location.origin,je=function(t){let e=[],n=Pe(t),r="POP";const i=(t=e)=>t.forEach((t=>t({location:n,action:r})));return{get location(){return n},listen(o){e.push(o);i([o]);const a=te(t,"popstate",(()=>{n=Pe(t),r="POP",i([o])}));return()=>{a(),e=e.filter((t=>t!==o))}},navigate(e,a){const{state:s={},replace:u=!1}=a||{};if(r=u?"REPLACE":"PUSH",Qt(e))a&&_e(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r="POP",t.history.go(e);else{const n=o(o({},s),{_key:Math.random().toString(36).substring(2)});try{t.history[u?"replaceState":"pushState"](n,"",e)}catch(eb){t.location[u?"replace":"assign"](e)}}n=Pe(t),i()}}}(Le&&!Me?window:function(t="/"){let e=0,n=[Re(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(t,r,i){e++,n=n.slice(0,e),n.push(Re(t,i))},replaceState(t,r,i){n[e]=Re(t,i)},go(t){const r=e+t;r<0||r>n.length-1||(e=r)}}}}());let Fe=null,Ve=!0;function Ue(t){(!Fe||t.level>Fe.level||t.level===Fe.level&&function(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<n.length;r++){const i=n[r],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}(t.routerId,Fe.routerId))&&(Fe=t)}function qe(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){let n;t.setAttribute(e,"-1");const r=()=>{t.removeAttribute(e),n()};n=te(t,"blur",r)}return t.focus(),document.activeElement===t}catch(eb){return!1}}function Be(t,e){return Number(t.dataset.svnavRouteEnd)===e}function $e(t,e=document){return e.querySelector(t)}function Ke(t){Promise.resolve(v(t.focusElement)).then((e=>{const n=e||function(t){let e=$e(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Be(e,t);){if(/^H[1-6]$/i.test(e.tagName))return e;const t=$e("h1,h2,h3,h4,h5,h6",e);if(t)return t;e=e.nextElementSibling}return null}(t.id);n||_e(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',t,2);qe(n)||qe(document.documentElement)}))}const ze=(t,e,n)=>(r,i)=>(bt(),gt).then((()=>{if(Fe&&!Ve){if(r&&Ke(Fe.route),t.announcements&&i){const{path:r,fullPath:i,meta:o,params:a,uri:s}=Fe.route,u=t.createAnnouncement({path:r,fullPath:i,meta:o,params:a,uri:s},v(n));Promise.resolve(u).then((t=>{e.set(t)}))}Fe=null}else Ve=!1}));function We(t){let e,n,r,i,o;const a=t[20].default,s=g(a,t,t[19],null);let u=t[2]&&t[4]&&t[1].announcements&&function(t){let e,n;return{c(){e=L("div"),n=j(t[0]),this.h()},l(r){e=z(r,"DIV",{role:!0,"aria-atomic":!0,"aria-live":!0,style:!0});var i=K(e);n=W(i,t[0]),i.forEach(P),this.h()},h(){q(e,"role","status"),q(e,"aria-atomic","true"),q(e,"aria-live","polite"),q(e,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,r){C(t,e,r),O(e,n)},p(t,e){1&e[0]&&H(n,t[0])},d(t){t&&P(e)}}}(t);return{c(){e=L("div"),n=F(),s&&s.c(),r=F(),u&&u.c(),i=V(),this.h()},l(t){e=z(t,"DIV",{style:!0,"aria-hidden":!0,"data-svnav-router":!0}),K(e).forEach(P),n=G(t),s&&s.l(t),r=G(t),u&&u.l(t),i=V(),this.h()},h(){Y(e,"display","none"),q(e,"aria-hidden","true"),q(e,"data-svnav-router",t[3])},m(t,a){C(t,e,a),C(t,n,a),s&&s.m(t,a),C(t,r,a),u&&u.m(t,a),C(t,i,a),o=!0},p(t,e){s&&s.p&&(!o||524288&e[0])&&b(s,a,t,t[19],e,null,null),t[2]&&t[4]&&t[1].announcements&&u.p(t,e)},i(t){o||(Pt(s,t),o=!0)},o(t){Rt(s,t),o=!1},d(t){t&&P(e),t&&P(n),s&&s.d(t),t&&P(r),u&&u.d(t),t&&P(i)}}}const Ge=Jt(),He="/";function Xe(t,e,n){let r,i,a,s,u,{$$slots:c={},$$scope:h}=e,{basepath:l=He}=e,{url:f=null}=e,{history:d=je}=e,{primary:p=!0}=e,{a11y:v={}}=e;const g=o({createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0},v),m=l,b=ge(l),w=lt(ae),I=lt(se),E=!w,T=Ge(),_=p&&!(I&&!I.manageFocus),S=re("");y(t,S,(t=>n(0,u=t)));const k=re([]);y(t,k,(t=>n(16,i=t)));const A=re(null);y(t,A,(t=>n(18,s=t)));let N=!1;const D=E?0:I.level+1,x=E?re(Ne(Zt?xe(f):d.location,b)):w;y(t,x,(t=>n(15,r=t)));const O=re(r);y(t,O,(t=>n(17,a=t)));const C=ze(g,S,x),P=t=>e=>e.filter((e=>e.id!==t));return E||l===He||_e(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:l}),E&&(ut((()=>d.listen((t=>{const e=Ne(t.location,b);O.set(r),x.set(e)})))),ht(ae,x)),ht(se,{activeRoute:A,registerRoute:function(t){if(Zt){if(N)return;const e=Ae(t,r.pathname);if(e)return N=!0,e}else k.update((e=>{const n=P(t.id)(e);return n.push(t),n}))},unregisterRoute:function(t){k.update(P(t))},manageFocus:_,level:D,id:T,history:E?d:I.history,basepath:E?b:I.basepath}),t.$$set=t=>{"basepath"in t&&n(10,l=t.basepath),"url"in t&&n(11,f=t.url),"history"in t&&n(12,d=t.history),"primary"in t&&n(13,p=t.primary),"a11y"in t&&n(14,v=t.a11y),"$$scope"in t&&n(19,h=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&l!==m&&_e(3,'You cannot change the "basepath" prop. It is ignored.'),98304&t.$$.dirty[0]){const t=ke(i,r.pathname);A.set(t)}if(163840&t.$$.dirty[0]&&E){const t=!!r.hash,e=!t&&_,n=!t||r.pathname!==a.pathname;C(e,n)}262144&t.$$.dirty[0]&&_&&s&&s.primary&&Ue({level:D,routerId:T,route:s})},[u,g,E,T,_,S,k,A,x,O,l,f,d,p,v,r,i,a,s,h,c]}class Ye extends Ht{constructor(t){super(),Gt(this,t,Xe,We,d,{basepath:10,url:11,history:12,primary:13,a11y:14},[-1,-1])}}function Qe(t,e,n=se,r=3){lt(n)||Te(t,(t=>`You cannot use ${t} outside of a ${we(r)}.`),e)}function Je(){return Qe(5),(t=>{const{subscribe:e}=lt(t);return{subscribe:e}})(ae)}function Ze(){const{history:t}=lt(se);return t}function tn(){const t=lt(ue);return t?ie(t,(t=>t.base)):re("/")}function en(){Qe(10);const t=tn(),{basepath:e}=lt(se);return n=>Oe(n,v(t),e)}const nn=t=>({params:16&t,location:4&t}),rn=t=>({params:Zt?v(t[9]):t[4],location:t[2],navigate:t[10]});function on(t){let e,n;return e=new Ye({props:{primary:t[1],$$slots:{default:[un]},$$scope:{ctx:t}}}),{c(){$t(e.$$.fragment)},l(t){Kt(e.$$.fragment,t)},m(t,r){zt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.primary=t[1]),264213&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Pt(e.$$.fragment,t),n=!0)},o(t){Rt(e.$$.fragment,t),n=!1},d(t){Wt(e,t)}}}function an(t){let e;const n=t[17].default,r=g(n,t,t[18],rn);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||262164&i)&&b(r,n,t,t[18],i,nn,rn)},i(t){e||(Pt(r,t),e=!0)},o(t){Rt(r,t),e=!1},d(t){r&&r.d(t)}}}function sn(t){let e,n,r;const i=[{location:t[2]},{navigate:t[10]},Zt?v(t[9]):t[4],t[11]];var o=t[0];function a(t){let e={};for(let n=0;n<i.length;n+=1)e=u(e,i[n]);return{props:e}}return o&&(e=new o(a())),{c(){e&&$t(e.$$.fragment),n=V()},l(t){e&&Kt(e.$$.fragment,t),n=V()},m(t,i){e&&zt(e,t,i),C(t,n,i),r=!0},p(t,r){const s=3604&r?Ut(i,[4&r&&{location:t[2]},1024&r&&{navigate:t[10]},528&r&&qt(Zt?v(t[9]):t[4]),2048&r&&qt(t[11])]):{};if(o!==(o=t[0])){if(e){Ot();const t=e;Rt(t.$$.fragment,1,0,(()=>{Wt(t,1)})),Ct()}o?(e=new o(a()),$t(e.$$.fragment),Pt(e.$$.fragment,1),zt(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i(t){r||(e&&Pt(e.$$.fragment,t),r=!0)},o(t){e&&Rt(e.$$.fragment,t),r=!1},d(t){t&&P(n),e&&Wt(e,t)}}}function un(t){let e,n,r,i;const o=[sn,an],a=[];function s(t,e){return null!==t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=V()},l(t){n.l(t),r=V()},m(t,n){a[e].m(t,n),C(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(Ot(),Rt(a[u],1,1,(()=>{a[u]=null})),Ct(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),Pt(n,1),n.m(r.parentNode,r))},i(t){i||(Pt(n),i=!0)},o(t){Rt(n),i=!1},d(t){a[e].d(t),t&&P(r)}}}function cn(t){let e,n,r,i,o,a=t[3]&&on(t);return{c(){e=L("div"),n=F(),a&&a.c(),r=F(),i=L("div"),this.h()},l(t){e=z(t,"DIV",{style:!0,"aria-hidden":!0,"data-svnav-route-start":!0}),K(e).forEach(P),n=G(t),a&&a.l(t),r=G(t),i=z(t,"DIV",{style:!0,"aria-hidden":!0,"data-svnav-route-end":!0}),K(i).forEach(P),this.h()},h(){Y(e,"display","none"),q(e,"aria-hidden","true"),q(e,"data-svnav-route-start",t[5]),Y(i,"display","none"),q(i,"aria-hidden","true"),q(i,"data-svnav-route-end",t[5])},m(t,s){C(t,e,s),C(t,n,s),a&&a.m(t,s),C(t,r,s),C(t,i,s),o=!0},p(t,[e]){t[3]?a?(a.p(t,e),8&e&&Pt(a,1)):(a=on(t),a.c(),Pt(a,1),a.m(r.parentNode,r)):a&&(Ot(),Rt(a,1,1,(()=>{a=null})),Ct())},i(t){o||(Pt(a),o=!0)},o(t){Rt(a),o=!1},d(t){t&&P(e),t&&P(n),a&&a.d(t),t&&P(r),t&&P(i)}}}const hn=Jt();function ln(t,e,n){let r;const i=["path","component","meta","primary"];let o,a,s,c,h=I(e,i),{$$slots:l={},$$scope:f}=e,{path:d=""}=e,{component:p=null}=e,{meta:v={}}=e,{primary:g=!0}=e;Qe(2,e);const m=hn(),{registerRoute:b,unregisterRoute:E,activeRoute:T}=lt(se);y(t,T,(t=>n(16,s=t)));const _=tn();y(t,_,(t=>n(15,o=t)));const S=Je();y(t,S,(t=>n(2,a=t)));const k=re(null);let A;const N=re(),D=re({});y(t,D,(t=>n(4,c=t))),ht(ue,N),ht(ce,D),ht(he,k);const x=function(){Qe(7);const t=en(),{navigate:e}=Ze();return(n,r)=>{const i=Qt(n)?n:t(n);return e(i,r)}}();return Zt||ct((()=>E(m))),t.$$set=t=>{n(23,e=u(u({},e),w(t))),n(11,h=I(e,i)),"path"in t&&n(12,d=t.path),"component"in t&&n(0,p=t.component),"meta"in t&&n(13,v=t.meta),"primary"in t&&n(1,g=t.primary),"$$scope"in t&&n(18,f=t.$$scope)},t.$$.update=()=>{if(45062&t.$$.dirty){const t=""===d,e=me(o,d),r={id:m,path:d,meta:v,default:t,fullPath:t?"":e,base:t?o:Ce(e,a.pathname),primary:g,focusElement:k};N.set(r),n(14,A=b(r))}if(81920&t.$$.dirty&&n(3,r=!!(A||s&&s.id===m)),81928&t.$$.dirty&&r){const{params:t}=A||s;D.set(t)}},e=w(e),[p,g,a,r,c,m,T,_,S,D,x,h,d,v,A,o,s,l,f]}class fn extends Ht{constructor(t){super(),Gt(this,t,ln,cn,d,{path:12,component:0,meta:13,primary:1})}}function dn(t){let e,n,r,i;const o=t[13].default,a=g(o,t,t[12],null);let s=[{href:t[0]},t[1],t[2]],c={};for(let h=0;h<s.length;h+=1)c=u(c,s[h]);return{c(){e=L("a"),a&&a.c(),this.h()},l(t){e=z(t,"A",{href:!0});var n=K(e);a&&a.l(n),n.forEach(P),this.h()},h(){B(e,c)},m(o,s){C(o,e,s),a&&a.m(e,null),n=!0,r||(i=U(e,"click",t[4]),r=!0)},p(t,[r]){a&&a.p&&(!n||4096&r)&&b(a,o,t,t[12],r,null,null),B(e,c=Ut(s,[(!n||1&r)&&{href:t[0]},2&r&&t[1],4&r&&t[2]]))},i(t){n||(Pt(a,t),n=!0)},o(t){Rt(a,t),n=!1},d(t){t&&P(e),a&&a.d(t),r=!1,i()}}}function pn(t,e,n){let r,i,a,s,c;const h=["to","replace","state","getProps"];let l,f=I(e,h),{$$slots:d={},$$scope:p}=e,{to:v}=e,{replace:g=!1}=e,{state:m={}}=e,{getProps:b=null}=e;Qe(1,e);const E=Je();y(t,E,(t=>n(9,l=t)));const T=function(){const t=st();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=tt(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}(),_=en(),{navigate:S}=Ze();return t.$$set=t=>{n(17,e=u(u({},e),w(t))),n(18,f=I(e,h)),"to"in t&&n(5,v=t.to),"replace"in t&&n(6,g=t.replace),"state"in t&&n(7,m=t.state),"getProps"in t&&n(8,b=t.getProps),"$$scope"in t&&n(12,p=t.$$scope)},t.$$.update=()=>{544&t.$$.dirty&&n(0,r=_(v,l)),513&t.$$.dirty&&n(10,i=fe(l.pathname,r)),513&t.$$.dirty&&n(11,a=r===l.pathname),2048&t.$$.dirty&&n(1,s=a?{"aria-current":"page"}:{}),n(2,c=(()=>{if(Yt(b)){const t=b({location:l,href:r,isPartiallyCurrent:i,isCurrent:a});return o(o({},f),t)}return f})())},e=w(e),[r,s,c,E,function(t){if(T("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();S(r,{state:m,replace:a||g})}},v,g,m,b,l,i,a,p,d]}class vn extends Ht{constructor(t){super(),Gt(this,t,pn,dn,d,{to:5,replace:6,state:7,getProps:8})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var yn,gn=(function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",a="month",s="quarter",u="year",c="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},p={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+d(r,2,"0")+":"+d(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,a),o=n-i<0,s=e.clone().add(r+(o?-1:1),a);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:a,y:u,w:o,d:i,D:c,h:r,m:n,s:e,ms:t,Q:s}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",y={};y[v]=f;var g=function(t){return t instanceof I},m=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)y[t]&&(r=t),e&&(y[t]=e,r=t);else{var i=t.name;y[i]=t,r=i}return!n&&r&&(v=r),r||!n&&v},b=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new I(n)},w=p;w.l=m,w.i=g,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var I=function(){function f(t){this.$L=m(t.locale,null,!0),this.parse(t)}var d=f.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return b(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<b(t)},d.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var h=this,l=!!w.u(s)||s,f=w.p(t),d=function(t,e){var n=w.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return l?n:n.endOf(i)},p=function(t,e){return w.w(h.toDate()[t].apply(h.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},v=this.$W,y=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case u:return l?d(1,0):d(31,11);case a:return l?d(1,y):d(0,y+1);case o:var b=this.$locale().weekStart||0,I=(v<b?v+7:v)-b;return d(l?g-I:g+(6-I),y);case i:case c:return p(m+"Hours",0);case r:return p(m+"Minutes",1);case n:return p(m+"Seconds",2);case e:return p(m+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(o,s){var h,l=w.p(o),f="set"+(this.$u?"UTC":""),d=(h={},h[i]=f+"Date",h[c]=f+"Date",h[a]=f+"Month",h[u]=f+"FullYear",h[r]=f+"Hours",h[n]=f+"Minutes",h[e]=f+"Seconds",h[t]=f+"Milliseconds",h)[l],p=l===i?this.$D+(s-this.$W):s;if(l===a||l===u){var v=this.clone().set(c,1);v.$d[d](p),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[w.p(t)]()},d.add=function(t,s){var c,h=this;t=Number(t);var l=w.p(s),f=function(e){var n=b(h);return w.w(n.date(n.date()+Math.round(e*t)),h)};if(l===a)return this.set(a,this.$M+t);if(l===u)return this.set(u,this.$y+t);if(l===i)return f(1);if(l===o)return f(7);var d=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[l]||1,p=this.$d.getTime()+t*d;return w.w(p,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,a=this.$m,s=this.$M,u=i.weekdays,c=i.months,h=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},f=function(t){return w.s(o%12||12,t,"0")},d=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:h(i.monthsShort,s,c,3),MMMM:h(c,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,u,2),ddd:h(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:w.s(o,2,"0"),h:f(1),hh:f(2),a:d(o,a,!0),A:d(o,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||p[t]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,c,h){var l,f=w.p(c),d=b(t),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,y=w.m(this,d);return y=(l={},l[u]=y/12,l[a]=y,l[s]=y/3,l[o]=(v-p)/6048e5,l[i]=(v-p)/864e5,l[r]=v/36e5,l[n]=v/6e4,l[e]=v/1e3,l)[f]||v,h?y:w.a(y)},d.daysInMonth=function(){return this.endOf(a).$D},d.$locale=function(){return y[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=m(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}(),E=I.prototype;return b.prototype=E,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",a],["$y",u],["$D",c]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,I,b),t.$i=!0),b},b.locale=m,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=y[v],b.Ls=y,b.p={},b}()}(yn={exports:{}},yn.exports),yn.exports),mn=function(t,e){return(mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var wn=function(){return(wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function In(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(eb){o(eb)}}function s(t){try{u(r.throw(t))}catch(eb){o(eb)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function En(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(eb){o=[6,eb],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Tn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Sn(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function An(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=An(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Dn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(eb){return!1}}function On(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Cn(){return"indexedDB"in self&&null!=indexedDB}function Pn(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function Rn(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Mn.prototype.create),o}return bn(e,t),e}(Error),Mn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?jn(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Ln(i,s,r);return u},t}();function jn(t,e){return t.replace(Fn,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Fn=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Un(t,e){var n=new qn(t,e);return n.subscribe.bind(n)}var qn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Bn),void 0===r.error&&(r.error=Bn),void 0===r.complete&&(r.complete=Bn);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(eb){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(eb){"undefined"!=typeof console&&console.error&&console.error(eb)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Bn(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}var zn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Wn=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Nn;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(eb){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=wn({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(eb){if(r)return null;throw eb}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(eb){}try{for(var r=Tn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=_n(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(eb){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return In(this,void 0,void 0,(function(){var t;return En(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Sn(Sn([],_n(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),_n(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Tn(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var l=_n(h.value,2),f=l[0],d=l[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Tn(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Hn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Wn(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Xn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Qn,Jn=[];(Qn=Yn||(Yn={}))[Qn.DEBUG=0]="DEBUG",Qn[Qn.VERBOSE=1]="VERBOSE",Qn[Qn.INFO=2]="INFO",Qn[Qn.WARN=3]="WARN",Qn[Qn.ERROR=4]="ERROR",Qn[Qn.SILENT=5]="SILENT";var Zn,tr={debug:Yn.DEBUG,verbose:Yn.VERBOSE,info:Yn.INFO,warn:Yn.WARN,error:Yn.ERROR,silent:Yn.SILENT},er=Yn.INFO,nr=((Gn={})[Yn.DEBUG]="log",Gn[Yn.VERBOSE]="log",Gn[Yn.INFO]="info",Gn[Yn.WARN]="warn",Gn[Yn.ERROR]="error",Gn),rr=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=nr[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Xn(["["+i+"]  "+t.name+":"],n))}},ir=function(){function t(t){this.name=t,this._logLevel=er,this._logHandler=rr,this._userLogHandler=null,Jn.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Yn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?tr[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Xn([this,Yn.DEBUG],t)),this._logHandler.apply(this,Xn([this,Yn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Xn([this,Yn.VERBOSE],t)),this._logHandler.apply(this,Xn([this,Yn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Xn([this,Yn.INFO],t)),this._logHandler.apply(this,Xn([this,Yn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Xn([this,Yn.WARN],t)),this._logHandler.apply(this,Xn([this,Yn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Xn([this,Yn.ERROR],t)),this._logHandler.apply(this,Xn([this,Yn.ERROR],t))},t}();function or(t){Jn.forEach((function(e){e.setLogLevel(t)}))}var ar,sr=((Zn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Zn["bad-app-name"]="Illegal App name: '{$appName}",Zn["duplicate-app"]="Firebase App named '{$appName}' already exists",Zn["app-deleted"]="Firebase App named '{$appName}' already deleted",Zn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Zn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Zn),ur=new Mn("app","Firebase",sr),cr=((ar={})["@firebase/app"]="fire-core",ar["@firebase/analytics"]="fire-analytics",ar["@firebase/app-check"]="fire-app-check",ar["@firebase/auth"]="fire-auth",ar["@firebase/database"]="fire-rtdb",ar["@firebase/functions"]="fire-fn",ar["@firebase/installations"]="fire-iid",ar["@firebase/messaging"]="fire-fcm",ar["@firebase/performance"]="fire-perf",ar["@firebase/remote-config"]="fire-rc",ar["@firebase/storage"]="fire-gcs",ar["@firebase/firestore"]="fire-fst",ar["fire-js"]="fire-js",ar["firebase-wrapper"]="fire-js-all",ar),hr=new ir("@firebase/app"),lr=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=An(void 0,t),this.container=new Hn(e.name),this._addComponent(new zn("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(eb){hr.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,eb)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ur.create("app-deleted",{appName:this.name_})},t}();lr.prototype.name&&lr.prototype.options||lr.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fr(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw ur.create("bad-app-name",{appName:String(a)});if(Vn(e,a))throw ur.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=cr[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void hr.warn(u.join(" "))}o(new zn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:or,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ur.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=tr[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Yn[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Jn;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Vn(e,t=t||"[DEFAULT]"))throw ur.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return hr.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw ur.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&An(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function t(){var e=fr(lr);return e.INTERNAL=wn(wn({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){An(e,t)},createSubscribe:Un,ErrorFactory:Mn,deepExtend:An}),e}(),pr=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){hr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var vr=self.firebase.SDK_VERSION;vr&&vr.indexOf("LITE")>=0&&hr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yr=dr.initializeApp;dr.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn()&&hr.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),yr.apply(void 0,t)};var gr,mr,br=dr;function wr(t){return Array.prototype.slice.call(t)}function Ir(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Er(t,e,n){var r,i=new Promise((function(i,o){Ir(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Tr(t,e,n){var r=Er(t,e,n);return r.then((function(t){if(t)return new Dr(t,r.request)}))}function _r(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Sr(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Er(this[e],r,arguments)})}))}function kr(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Ar(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Tr(this[e],r,arguments)})}))}function Nr(t){this._index=t}function Dr(t,e){this._cursor=t,this._request=e}function xr(t){this._store=t}function Or(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function Cr(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Or(n)}function Pr(t){this._db=t}(gr=br).INTERNAL.registerComponent(new zn("platform-logger",(function(t){return new pr(t)}),"PRIVATE")),gr.registerVersion("@firebase/app","0.6.21",mr),gr.registerVersion("fire-js",""),_r(Nr,"_index",["name","keyPath","multiEntry","unique"]),Sr(Nr,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ar(Nr,"_index",IDBIndex,["openCursor","openKeyCursor"]),_r(Dr,"_cursor",["direction","key","primaryKey","value"]),Sr(Dr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Dr.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Ir(e._request).then((function(t){if(t)return new Dr(t,e._request)}))}))})})),xr.prototype.createIndex=function(){return new Nr(this._store.createIndex.apply(this._store,arguments))},xr.prototype.index=function(){return new Nr(this._store.index.apply(this._store,arguments))},_r(xr,"_store",["name","keyPath","indexNames","autoIncrement"]),Sr(xr,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ar(xr,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),kr(xr,"_store",IDBObjectStore,["deleteIndex"]),Or.prototype.objectStore=function(){return new xr(this._tx.objectStore.apply(this._tx,arguments))},_r(Or,"_tx",["objectStoreNames","mode"]),kr(Or,"_tx",IDBTransaction,["abort"]),Cr.prototype.createObjectStore=function(){return new xr(this._db.createObjectStore.apply(this._db,arguments))},_r(Cr,"_db",["name","version","objectStoreNames"]),kr(Cr,"_db",IDBDatabase,["deleteObjectStore","close"]),Pr.prototype.transaction=function(){return new Or(this._db.transaction.apply(this._db,arguments))},_r(Pr,"_db",["name","version","objectStoreNames"]),kr(Pr,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[xr,Nr].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=wr(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Nr,xr].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Rr,Lr=((Rr={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Rr["not-registered"]="Firebase Installation is not registered.",Rr["installation-not-found"]="Firebase Installation not found.",Rr["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Rr["app-offline"]="Could not process request. Application offline.",Rr["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Rr),Mr=new Mn("installations","Installations",Lr);function jr(t){return t instanceof Ln&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Vr(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Ur(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Mr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function qr(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Br(t,e){var n=e.refreshToken,r=qr(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function $r(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Kr(t,e){var n=e.fid;return In(this,void 0,void 0,(function(){var e,r,i,o,a,s;return En(this,(function(u){switch(u.label){case 0:return e=Fr(t),r=qr(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.26"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,$r((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Vr(s.authToken)}];case 3:return[4,Ur("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wr=/^[cdef][\w-]{21}$/;function Gr(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Sn([],_n(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Wr.test(e)?e:""}catch(n){return""}}function Hr(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=new Map;function Yr(t,e){var n=Hr(t);Qr(n,e),function(t,e){var n=Zr();n&&n.postMessage({key:t,fid:e});ti()}(n,e)}function Qr(t,e){var n,r,i=Xr.get(t);if(i)try{for(var o=Tn(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Jr=null;function Zr(){return!Jr&&"BroadcastChannel"in self&&((Jr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Qr(t.data.key,t.data.fid)}),Jr}function ti(){0===Xr.size&&Jr&&(Jr.close(),Jr=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,ni="firebase-installations-store",ri=null;function ii(){var t,e,n;return ri||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(ni)}},e=Er(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new Cr(n.result,e.oldVersion,n.transaction))}),ri=e.then((function(t){return new Pr(t)}))),ri}function oi(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a;return En(this,(function(s){switch(s.label){case 0:return n=Hr(t),[4,ii()];case 1:return r=s.sent(),i=r.transaction(ni,"readwrite"),[4,(o=i.objectStore(ni)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||Yr(t,e.fid),[2,e]}}))}))}function ai(t){return In(this,void 0,void 0,(function(){var e,n,r;return En(this,(function(i){switch(i.label){case 0:return e=Hr(t),[4,ii()];case 1:return n=i.sent(),[4,(r=n.transaction(ni,"readwrite")).objectStore(ni).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function si(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s;return En(this,(function(u){switch(u.label){case 0:return n=Hr(t),[4,ii()];case 1:return r=u.sent(),i=r.transaction(ni,"readwrite"),[4,(o=i.objectStore(ni)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Yr(t,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){return In(this,void 0,void 0,(function(){var e,n,r;return En(this,(function(i){switch(i.label){case 0:return[4,si(t,(function(n){var r=function(t){return li(t||{fid:Gr(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mr.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Kr(t,e)];case 1:return n=i.sent(),[2,oi(t,n)];case 2:return jr(r=i.sent())&&409===r.customData.serverCode?[4,ai(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,oi(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ci(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function ci(t){return In(this,void 0,void 0,(function(){var e,n,r,i;return En(this,(function(o){switch(o.label){case 0:return[4,hi(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,zr(100)];case 3:return o.sent(),[4,hi(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ui(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function hi(t){return si(t,(function(t){if(!t)throw Mr.create("installation-not-found");return li(t)}))}function li(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function fi(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return In(this,void 0,void 0,(function(){var t,i,o,a,s,u,c;return En(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return Fr(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=Br(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.26"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,$r((function(){return fetch(t,s)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,Vr(c)];case 3:return[4,Ur("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function di(t,e){return void 0===e&&(e=!1),In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:return[4,si(t.appConfig,(function(r){if(!vi(r))throw Mr.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return[4,pi(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,zr(100)];case 3:return i.sent(),[4,pi(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,di(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Mr.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return wn(wn({},t),{authToken:e})}(r);return n=function(t,e){return In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,fi(t,e)];case 1:return n=o.sent(),i=wn(wn({},e),{authToken:n}),[4,oi(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!jr(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ai(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=wn(wn({},e),{authToken:{requestStatus:0}}),[4,oi(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function pi(t){return si(t,(function(t){if(!vi(t))throw Mr.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?wn(wn({},t),{authToken:{requestStatus:0}}):t}))}function vi(t){return void 0!==t&&2===t.registrationStatus}function yi(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return[4,ui(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o;return En(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return Fr(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=Br(t,e),i={method:"DELETE",headers:r},[4,$r((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Ur("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mi(t,e){var n=t.appConfig;return function(t,e){Zr();var n=Hr(t),r=Xr.get(n);r||(r=new Set,Xr.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Hr(t),r=Xr.get(n);r&&(r.delete(e),0===r.size&&Xr.delete(n),ti())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){return Mr.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ei=br).INTERNAL.registerComponent(new zn("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw bi("App Configuration");if(!t.name)throw bi("App Name");try{for(var r=Tn(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw bi(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return In(this,void 0,void 0,(function(){var e,n,r;return En(this,(function(i){switch(i.label){case 0:return[4,ui(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):di(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),In(this,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return[4,yi(t.appConfig)];case 1:return n.sent(),[4,di(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return In(this,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:return[4,si(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Mr.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Mr.create("app-offline");case 3:return[4,gi(e,n)];case 4:return r.sent(),[4,ai(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return mi(n,t)}}}),"PUBLIC")),ei.registerVersion("@firebase/installations","0.4.26");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wi,Ii,Ei,Ti,_i="https://www.googletagmanager.com/gtag/js";(Ii=wi||(wi={})).EVENT="event",Ii.SET="set",Ii.CONFIG="config",(Ti=Ei||(Ei={})).ADD_SHIPPING_INFO="add_shipping_info",Ti.ADD_PAYMENT_INFO="add_payment_info",Ti.ADD_TO_CART="add_to_cart",Ti.ADD_TO_WISHLIST="add_to_wishlist",Ti.BEGIN_CHECKOUT="begin_checkout",Ti.CHECKOUT_PROGRESS="checkout_progress",Ti.EXCEPTION="exception",Ti.GENERATE_LEAD="generate_lead",Ti.LOGIN="login",Ti.PAGE_VIEW="page_view",Ti.PURCHASE="purchase",Ti.REFUND="refund",Ti.REMOVE_FROM_CART="remove_from_cart",Ti.SCREEN_VIEW="screen_view",Ti.SEARCH="search",Ti.SELECT_CONTENT="select_content",Ti.SELECT_ITEM="select_item",Ti.SELECT_PROMOTION="select_promotion",Ti.SET_CHECKOUT_OPTION="set_checkout_option",Ti.SHARE="share",Ti.SIGN_UP="sign_up",Ti.TIMING_COMPLETE="timing_complete",Ti.VIEW_CART="view_cart",Ti.VIEW_ITEM="view_item",Ti.VIEW_ITEM_LIST="view_item_list",Ti.VIEW_PROMOTION="view_promotion",Ti.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Si,ki=new ir("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e,n,r,i,o){return In(this,void 0,void 0,(function(){var a,s,u,c;return En(this,(function(h){switch(h.label){case 0:a=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=h.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),ki.error(c),[3,8];case 8:return t(wi.CONFIG,i,o),[2]}}))}))}function Ni(t,e,n,r,i){return In(this,void 0,void 0,(function(){var o,a,s,u,c,h,l,f;return En(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=a;c<h.length&&(l=h[c],"break"!==u(l));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(wi.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),ki.error(f),[3,5];case 5:return[2]}}))}))}function Di(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return In(this,void 0,void 0,(function(){var s;return En(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==wi.EVENT?[3,2]:[4,Ni(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==wi.CONFIG?[3,4]:[4,Ai(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(wi.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),ki.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var xi=((Si={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Si["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Si["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Si["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Si["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Si["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Si["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Si),Oi=new Mn("analytics","Analytics",xi),Ci=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Pi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ri(t){var e;return In(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return En(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Pi(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Oi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Li(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Ci),In(this,void 0,void 0,(function(){var e,a,s,u,c,h,l;return En(this,(function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Mi(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return ki.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,Ri(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Ln&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return ki.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return h=503===Number(c.customData.httpStatus)?$n(o,r.intervalMillis,30):$n(o,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,l),ki.debug("Calling attemptFetch again in "+h+" millis"),[2,Li(t,l,n,r)];case 7:return[2]}}))}))}function Mi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ji=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e,n,r,i,o){return In(this,void 0,void 0,(function(){var a,s,u,c,h,l,f;return En(this,(function(d){switch(d.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=Ci),In(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return En(this,(function(h){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Oi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Oi.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ji,setTimeout((function(){return In(c,void 0,void 0,(function(){return En(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Li({appId:i,apiKey:o,measurementId:a},s,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ki.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ki.error(t)})),e.push(a),s=function(){return In(this,void 0,void 0,(function(){var t;return En(this,(function(e){switch(e.label){case 0:return Cn()?[3,1]:(ki.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Pn()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ki.warn(Oi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],h=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(_i))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=_i+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=h&&(l.firebase_id=h),i(wi.CONFIG,c.measurementId,l),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi,Ui,qi={},Bi=[],$i={},Ki="dataLayer",zi="gtag",Wi=!1;function Gi(t){if(Wi)throw Oi.create("already-initialized");t.dataLayerName&&(Ki=t.dataLayerName),t.gtagName&&(zi=t.gtagName)}function Hi(t,e){!function(){var t=[];if(On()&&t.push("This is a browser extension environment."),Rn()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Oi.create("invalid-analytics-context",{errorInfo:e});ki.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw Oi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Oi.create("no-api-key");ki.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=qi[i])throw Oi.create("already-exists",{id:i});if(!Wi){n=Ki,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=Di(qi,Bi,$i,Ki,zi),a=o.wrappedGtag,s=o.gtagCore;Ui=a,Vi=s,Wi=!0}return qi[i]=Fi(t,Bi,$i,e,Vi,Ki),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return In(this,void 0,void 0,(function(){var o,a;return En(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(wi.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=wn(wn({},r),{send_to:o}),t(wi.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Ui,qi[i],t,e,n).catch((function(t){return ki.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return In(this,void 0,void 0,(function(){var i;return En(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(wi.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(wi.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Ui,qi[i],t,e).catch((function(t){return ki.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return In(this,void 0,void 0,(function(){var i;return En(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(wi.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(wi.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Ui,qi[i],t,e).catch((function(t){return ki.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o,a,s,u;return En(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(wi.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(wi.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Ui,qi[i],t,e).catch((function(t){return ki.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return In(this,void 0,void 0,(function(){var n;return En(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(qi[i],t).catch((function(t){return ki.error(t)}))},INTERNAL:{delete:function(){return delete qi[i],Promise.resolve()}}}}function Xi(){return In(this,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:if(On())return[2,!1];if(!Rn())return[2,!1];if(!Cn())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Pn()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new zn("analytics",(function(t){return Hi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Gi,EventName:Ei,isSupported:Xi})),t.INTERNAL.registerComponent(new zn("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(eb){throw Oi.create("interop-component-reg-failed",{reason:eb})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(br);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
br.registerVersion("firebase","8.5.0","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=k+t,this.message=e||A[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function P(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,I(O,Error),O.prototype.name="CustomError",I(C,O),C.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new R((function(){return new V}),(function(t){t.reset()}));function F(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},$=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=U(t,e)}function W(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Y=ut;break t}}Y=""}function ct(t){return ot(Y,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof yt&&t.constructor===yt&&t.b===bt?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt,bt={},wt={};function It(){if(void 0===mt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}mt=t}else mt=t}return mt}function Et(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,At)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?gt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Nt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ct=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ct.test(t))t=new Nt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&xt.test(e[1])?new Nt(t,Lt):null}return t}function Rt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ct.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Lt))}var Lt={},Mt=new Nt("about:invalid#zClosurez",Lt);function jt(t,e,n){this.a=n===Ft?t:""}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t,e,n,r){return t=t instanceof Nt?t:Rt(t),e=e||a,n=n instanceof yt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=h;var $t,Kt,zt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),Gt=ct("Edge"),Ht=Gt||Wt,Xt=ct("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(Y.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Kt=Y,Xt?/rv:([^\);]+)(\)|;)/.exec(Kt):Gt?/Edge\/([\d\.]+)/.exec(Kt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Yt?/WebKit\/(\S+)/.exec(Kt):zt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Wt){var te=Qt();if(null!=te&&te>parseFloat(Jt)){$t=String(te);break t}}$t=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String($t)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Wt){var ie=Qt();ee=ie||(parseInt($t,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Wt||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}q(a?X(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(me)}}else he=function(){var t=me;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),ye||(he(),ye=!0),ge.add(t,e)}var ye=!1,ge=new M;function me(){for(var t;t=F();){try{t.a.call(t.b)}catch(e){pe(e)}L(j,t)}ye=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Pe(n,Ie,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(eb){}Pe(n,Ee,t)}))}catch(r){Pe(this,Ee,r)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new R((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(h);return Pe(e,Ie,t),e}function Ae(t){return new be((function(e,n){n(t)}))}function Ne(t,e,n){Re(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function xe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?xe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,Ee,e)))}t.c=null}else Pe(t,Ee,e)}function Oe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ce(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Oe(t,i),i.a}function Pe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Ue||function(t,e){t.g=!0,ve((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||h,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(eb){Ve.call(null,eb)}L(_e,e)}function Fe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Ce(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ce(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ue(t);ve((function(){xe(this,e)}),this)}},t.$c=function(t){this.a=we,Pe(this,Ie,t)},t.ad=function(t){this.a=we,Pe(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=pe;function Ue(t){O.call(this,t)}function qe(){this.xa=this.xa,this.pa=this.pa}I(Ue,O),Ue.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}(t)}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},Ke=!Wt||9<=Number(oe),ze=Wt&&!re("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function He(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},I(He,Ge);var Xe=$e({2:"touch",3:"pen",4:"mouse"});He.prototype.preventDefault=function(){He.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},He.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Qe,this.va=this.Pa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=nn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function an(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?bn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=vn(t);if(s||(t[rn]=s=new tn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=pn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?wn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=gn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function ln(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&hn(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new He(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new He(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function mn(){qe.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&en(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function _n(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(mn,qe),mn.prototype[Ye]=!0,mn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},mn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},mn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},mn.prototype.Da=function(){if(mn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=kn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof xn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Cn(this,t.g),this.f=t.f,Pn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),Cn(this,n[4]),this.f=Fn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Fn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Cn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Vn(e,Kn)),t.b=new Wn(e,t.i))}function Rn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Mn(t){return t instanceof xn?new xn(t):new xn(t,void 0)}function jn(t,e,n,r){var i=new xn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Cn(i,n),r&&(i.f=r),i}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Vn(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Vn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?$n:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Vn(n,zn)),t.join("")},xn.prototype.resolve=function(t){var e=new xn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Cn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Bn=/[#\?:]/g,$n=/[#\?]/g,Kn=/[#\?@]/g,zn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Hn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Gn(t),e=Zn(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Yn(t,e){return Gn(t),e=Zn(t,e),Nn(t.a.b,e)}function Qn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),X(n)),t.b+=n.length)}function Jn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Gn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Gn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Gn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=H(e,this.a.get(Zn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,Yn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function ar(){var t=Ar();return Wt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Pt(t)||Mt)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||a.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Ar())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Pt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Rt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Vt("",r,n,a),t=Dt(e),a&&(Ht&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new jt(t=(r=It())?r.createHTML(t):t,null,Ft),r=a.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Vt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new be((function(e){"complete"==a.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function yr(t){return t=t||Ar(),!("file:"!==Cr()&&"ionic:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return br.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":br.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=_r(i=Ar()):"Worker"===r&&(r=_r(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=a.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return mr()&&!!a.indexedDB}return!1}function xr(){return(Or()||"chrome-extension:"===Cr()||yr())&&!Ir()&&Dr()&&!mr()}function Or(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return a.location&&a.location.protocol||null}function Pr(t){return!hr(t=t||Ar())&&_r(t)!=Er}function Rr(t){return void 0===t?null:tr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=_r(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=wr(),this.b=hr(t)||"ReactNative"===e}function qr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function $r(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,zr={};function Wr(t){zr[t]||(zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Gr.abcd}catch(Kt){Kr=!1}function Hr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function Yr(t){var e={};return Xr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Qr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[ni]),Hr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),Hr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[li],i=t[fi];if(t=Zr(t[hi]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[yi]=n||null,e[di]=r):(e[pi]=r||null,e[yi]=r||null,e[di]=n||null),e[vi]=t||null,Hr(this,mi,i),Hr(this,gi,Qr(e))}I(ii,Jr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",li="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",yi="previousEmail",gi="data",mi="operation";function bi(t){var e=Ln(t=Mn(t),wi)||null,n=Ln(t,Ii)||null,r=Ln(t,_i)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+Ii+"and "+_i+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ei)||null,languageCode:Ln(t,Ti)||null,tenantId:Ln(t,Si)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",_i="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new bi(t)}catch(e){return null}}function Ni(t){var e=t[Pi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Ci])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new T("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Di="android",xi="dynamicLinkDomain",Oi="handleCodeInApp",Ci="iOS",Pi="url",Ri="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(e){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ui(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ki},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Hi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Xi])return new Qi(t)}catch(r){}return null}var Xi="idToken",Yi="providerId";function Qi(t){var e=t[Yi];if(!e&&t[Xi]){var n=Bi(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Ji(t){Qi.call(this,t),Hr(this,"profile",Qr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function ro(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}I(Ji,Qi),I(Zi,Ji),I(to,Ji),I(eo,Ji),I(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(t,e){return t.then((function(t){if(t[Qa]){var n=Bi(t[Qa]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Hn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function mo(t){yo.call(this,t,zi),this.a=[]}function bo(){mo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){mo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){mo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){yo.call(this,"twitter.com",Ki)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function Do(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Oo(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ai(t=ro(t)))&&t.operation===si?t:null}function Co(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Hr(this,"providerId","phone"),this.fa="phone",Hr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Co(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||br.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Co({eb:t,cb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Co({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new fo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Fo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(t){return bs(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ws(t,n)},co.prototype.c=function(t,e){return uo(Is(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return bs(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ws(t,n)},fo.prototype.c=function(t,e){return uo(Is(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Ib=ft(t),this},I(go,yo),I(mo,yo),mo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},I(bo,mo),Hr(bo,"PROVIDER_ID","facebook.com"),Hr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,mo),Hr(Io,"PROVIDER_ID","github.com"),Hr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,mo),Hr(To,"PROVIDER_ID","google.com"),Hr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(So,yo),Hr(So,"PROVIDER_ID","twitter.com"),Hr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Ds,{email:this.a,oobCode:this.f}):nu(t,Qs,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,xs,{idToken:e,email:this.a,oobCode:this.f}):nu(t,$s,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return uo(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Do,{PROVIDER_ID:"password"}),Xr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.ka=function(t){return t.fb(Ro(this))},Co.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,nu(t,Zs,n)},Co.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",uo(t=nu(t,tu,n),e)},Co.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return nu(t,zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return nu(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,qs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Lo,{PROVIDER_ID:"phone"}),Xr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,$o=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function zo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Hr(this,"email",t.Jb),t.ea&&Hr(this,"phoneNumber",t.ea),t.credential&&Hr(this,"credential",t.credential),t.Zb&&Hr(this,"tenantId",t.Zb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:jo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Go(){}function Ho(t){return t.c||(t.c=t.b())}function Xo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(eb){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}I(Ko,T),I(zo,T),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},zo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,I(Xo,Go),Xo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Xo,I(Qo,Go),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(t,e,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(t){return t.c?t.c:t.a?sa(t.a):(P("Root logger has no level set."),null)}ea.prototype.log=function(t,e,n){if(t.value>=sa(this).value)for(d(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua={},ca=null;function ha(t){var e;if(ca||(ca=new ea(""),ua[""]=ca,ca.c=oa),!(e=ua[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ha(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ua[t]=e}return e}function la(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function da(t){mn.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fa,Go),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),I(da,mn);var pa=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ya(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ma(t){mn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ya(this):ga(this),3==this.readyState&&va(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ya(this))},t.sc=function(t){this.a&&(this.response=t,ya(this))},t.Ua=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ya(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ma,mn);var ba="";ma.prototype.b=ha("goog.net.XhrIo");var wa=/^https?$/i,Ia=["POST","PUT"];function Ea(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=t.D?Ho(t.D):Ho(Bo),t.a.onreadystatechange=b(t.Vb,t);try{la(t.b,Oa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return la(t.b,Oa(t,"Error opening Xhr: "+s.message)),void _a(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Sn(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ta,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!z(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),la(t.b,Oa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=En(t.Ma,t.g,t)),la(t.b,Oa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){la(t.b,Oa(t,"Send error: "+s.message)),_a(t,s)}}function Ta(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Sa(t),Aa(t)}function Sa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Da(t)&&2==xa(t))la(t.b,Oa(t,"Local request error detected and ignored"));else if(t.i&&4==Da(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Da(t)){la(t.b,Oa(t,"Request complete")),t.c=!1;try{var e,n=xa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Dn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Da(t)?t.a.statusText:""}catch(h){la(t.b,"Can not get status: "+h.message),c=""}t.h=c+" ["+xa(t)+"]",Sa(t)}}finally{Aa(t)}}}function Aa(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(eb){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+eb.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Da(t){return t.a?t.a.readyState:0}function xa(t){try{return 2<Da(t)?t.a.status:-1}catch(e){return-1}}function Oa(t,e){return e+" ["+t.R+" "+t.l+" "+xa(t)+"]"}function Ca(t){var e=$a;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,ja(t)}function Ra(t){if(t.a){if(!t.v)throw new Fa(t);t.v=!1}}function La(t,e,n,r){t.g.push([e,n,r]),t.a&&ja(t)}function Ma(t){return K(t.g,(function(t){return d(t[1])}))}function ja(t){if(t.h&&t.a&&Ma(t)){var e=t.h,n=qa[e];n&&(a.clearTimeout(n.a),delete qa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ma(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ca?(La(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ua(e),qa[e.a]=e,t.h=e.a)}function Fa(){O.call(this)}function Va(){O.call(this)}function Ua(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ma.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,Oa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(la(this.b,Oa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),ma.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ka(this):this.Jc())},t.Jc=function(){ka(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return la(this.b,"Can not get response: "+e.message),null}},Ca.prototype.cancel=function(t){if(this.a)this.c instanceof Ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Va(this),Ra(this),Pa(this,!1,t))}},Ca.prototype.m=function(t,e){this.i=!1,Pa(this,t,e)},Ca.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return La(this,r,(function(t){t instanceof Va?o.cancel():i(t)})),o.then(t,e,n)},Ca.prototype.$goog_Thenable=!0,I(Fa,O),Fa.prototype.message="Deferred has already fired",Fa.prototype.name="AlreadyCalledError",I(Va,O),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Ua.prototype.c=function(){throw delete qa[this.a],this.b};var qa={};function Ba(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Ca(o);return e=window.setTimeout((function(){Ka(i,!0);var t=new Ga(Wa,"Timeout reached for loading script "+r);Ra(s),Pa(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ka(i,!1,e),Ra(s),Pa(s,!0,null))},i.onerror=function(){Ka(i,!0,e);var t=new Ga(za,"Error while loading script "+r);Ra(s),Pa(s,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function $a(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ka(t,!0,this.Ma)}}function Ka(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,Wa=1;function Ga(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Ha(t){this.f=t}function Xa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ja,this.g=ft(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ts,this.a=ft(t.firebaseHeaders||es),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&br.INTERNAL.node&&br.INTERNAL.node.XMLHttpRequest)&&!mr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new fa(self):Ir()?this.f=new Ha(n):this.f=new Qo,this.b=null}I(Ga,O),I(Ha,Go),Ha.prototype.a=function(){return new this.f},Ha.prototype.b=function(){return{}};var Ya,Qa="idToken",Ja=new Ur(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},ts=new Ur(3e4,6e4),es={"Content-Type":"application/json"};function ns(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function rs(t,e){e&&(t.l=is("https://securetoken.googleapis.com/v1/token",e),t.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=is("https://identitytoolkit.googleapis.com/v2/",e))}function is(t,e){return t=Mn(t),e=Mn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Cn(t,e.g),t.toString()}function os(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function as(t,e,n,r,i,o,s){(function(){var t=Ar();return!((t=_r(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&oe&&!(9<oe))})()||mr()?t=b(t.u,t):(Ya||(Ya=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[us]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){La(t,null,e,void 0)}(Ba(_t(ss,{onload:us})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(t,e,n,r,i,o){if(mr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ma(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}bn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return la(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(s,"ready",(function(){u&&clearTimeout(u),Be(this)})),wn(s,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),Ea(s,t,n,r,i)};var ss=new yt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(t,e,n,r,i,o,a){var s=Mn(e+n);Rn(s,"key",t.c),a&&Rn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(s,c,i[c]);return new be((function(e,n){as(t,s.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:tr(Lr(i)),t.a,t.v.get())}))}function hs(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function ls(t){"email"in t&&hs(t)}function fs(t){if(!t[Qa]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xa.prototype.s=function(t,e,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.zb=function(){return nu(this,Ks,{})},Xa.prototype.Bb=function(t,e){return nu(this,Bs,{idToken:t,email:e})},Xa.prototype.Cb=function(t,e){return nu(this,$s,{idToken:t,password:e})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ys(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ms(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;fs(t)}function bs(t,e){return e.returnIdpCredential=!0,nu(t,Gs,e)}function ws(t,e){return e.returnIdpCredential=!0,nu(t,Xs,e)}function Is(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Hs,e)}function Es(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Xa.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(ps,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,js,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Rs,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,Ls,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ms,t)},t.fb=function(t){return nu(this,Js,t)},t.nb=function(t,e){return nu(this,Us,{oobCode:t,newPassword:e})},t.Ra=function(t){return nu(this,_s,{oobCode:t})},t.jb=function(t){return nu(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},_s={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(t){if(hs(t),!t.password)throw new T("weak-password")},G:fs,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},As={endpoint:"deleteAccount",N:["idToken"]},Ns={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ds={endpoint:"emailLinkSignin",N:["email","oobCode"],A:hs,G:fs,V:!0,B:!0},xs={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:hs,G:fs,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Ps={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");hs(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");hs(t)},Z:"email",B:!0},Fs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Vs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Us={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:ls,V:!0},$s={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ls(t),!t.password)throw new T("weak-password")},G:fs,V:!0},Ks={endpoint:"signupNewUser",G:fs,V:!0,B:!0},zs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:ys,Ya:gs,G:ms,V:!0,B:!0},Hs={endpoint:"verifyAssertion",A:ys,Ya:gs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);fs(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(ys(t),!t.idToken)throw new T("internal-error")},Ya:gs,G:ms,V:!0},Ys={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:fs,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(hs(t),!t.password)throw new T("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ds(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);fs(t)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qa]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),cs(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function ou(t){this.b=t,this.a=null,this.rb=function(t){return(cu||(cu=new be((function(t,e){function n(){Vr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},ke(Ba(r=_t(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new be((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new yt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Ur(3e4,6e4),uu=new Ur(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=jn((t=Mn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=jn("https",this.l,null,"/__/auth/iframe"),this.a=t,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(t){try{return br.app(t).auth().Ga()}catch(e){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=sr();return function(t){return nu(t,Fs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Mn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ko(sr())}))}function vu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=fu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function yu(t){return t.l||(t.C=t.c?kr(t.c,fu(t.b)):null,t.l=new Xa(t.g,D(t.i),t.C),t.f&&rs(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new lu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.yb(h).toString()}function mu(t){if(this.a=t||br.INTERNAL.reactNative&&br.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Mn(this.v.url);t=jn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=jn("https",this.u,null,"/__/auth/handler");if(Rn(t,"apiKey",this.s),Rn(t,"appName",this.c),Rn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=br.app(this.c).auth().la()}catch(s){n=null}for(var r in e.ob=n,Rn(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),lt(e)||Rn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Rn(t,"scopes",n.join(","))),this.l?Rn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Rn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Rn(t,"eid",this.f):Xn(t.b,"eid"),(a=fu(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Tn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!Pr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new T("popup-blocked"));if(a&&!Pr())return this.ma().o((function(e){lr(t),i(e)})),r(),ke();this.a||(this.a=pu(yu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),a)||ur(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=pu(yu(this)));var i=this;return this.a.then((function(){Fo(e),ur(gu(i.s,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){G(this.h,(function(e){return e==t}))},(t=mu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Rr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Iu=[];function Eu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e}))}}function Au(){if(!Ou())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.v=function(){var t=mr()?self:null;if(q(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),Eu(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new _u(new Tu(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Nu(t)),t.i}function xu(t,e){var n=0;return new be((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!a.indexedDB}catch(Kt){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Mu(t){return Du(t).then((function(t){var e=Cu(Pu(t,!1));return e.getAll?Ru(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Ou()){var t=jr(),r="__sak"+t;return wu||(wu=new Au),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function Uu(){if(!function(){var t="Node"==wr();if(!(t=qu()||t&&br.INTERNAL.node&&br.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||br.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=a.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){this.type="nullStorage"}function $u(){if(!function(){var t="Node"==wr();if(!(t=Ku()||t&&br.INTERNAL.node&&br.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||br.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=a.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zu(){var t={};t.Browser=Hu,t.Node=Xu,t.ReactNative=Yu,t.Worker=Qu,this.a=t[wr()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Au.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Ru((e=Cu(Pu(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Cu(Pu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ru(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Ru(Cu(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Ru(Cu(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}ju(t),e()}(this),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Uu.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&an(a.window,"storage",t)},t.ia=function(t){a.window&&cn(a.window,"storage",t)},(t=Bu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=$u.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Gu,Hu={F:Uu,bb:$u},Xu={F:Uu,bb:$u},Yu={F:mu,bb:Bu},Qu={F:Uu,bb:Bu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!(Fr(Ar())||!gr()),e=Pr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new zu),t=Wu;try{this.g=!ar()&&$r()||!a.indexedDB?new t.a.F:new Fu(mr()?new Vu:new t.a.F)}catch(r){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Vu}this.v=new Vu,this.f=b(this.Yb,this),this.b={}}function tc(){return Gu||(Gu=new Zu),Gu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.F&&(t.b[n]=null),ec(t,e.F).U(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.F).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(ec(this,"local").ca(this.f),this.h||(ar()||!$r())&&a.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new He({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Wt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=hc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(gc):gc),this.reset()}I(cc,(function(){this.b=-1}));for(var hc=64,lc=hc-1,fc=[],dc=0;dc<lc;dc++)fc[dc]=0;var pc=H(128,fc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|ac[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){cc.call(this,8,bc)}I(mc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new T("invalid-cordova-configuration",t)}function Ec(t){var e=new mc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,pc,56-e.c):yc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return $(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Ln(o=Mn(i),"firebaseError")||null))?_(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(t,i)}))}var n=new Vo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then((function(){return Sc(t).then((function(){r||Tc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},$o||($o=new qo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=tc()}(t=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?vr().then((function(){return new be((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=ke().then((function(){return Fo(e),_c(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),h={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ec(o),h.sessionId=o;var l=gu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,s.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){qr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),_c(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){G(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Nc(t){return rc(t.b,Ac,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new Xc,this.g=new kc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,S,this.J)}function xc(t,e,n,r,i){var o=br.SDK_VERSION||null;return yr()?new wc(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Cc(t){t.a.Xb()&&Oc(t).o((function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||zc(t.b)}function Pc(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nc(t.g).then((function(){Oc(t).o((function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Cc(t)})).o((function(){Cc(t)}))}function Rc(t,e){G(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return zc(this.b),e};var Lc=new Ur(2e3,1e4),Mc=new Ur(3e4,6e4);function jc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Fc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Nc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):Nc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Dc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function $c(t,e,n,r){var i=Bc(e,n,r);return qc[i]||(qc[i]=new Dc(t,e,n,r)),qc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function zc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Gc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Gc(t,n):Gc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,Hr(this,"verificationId",t)}function Jc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function Zc(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;q(e[eh]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Hc(t,s,e,null)})).o((function(e){Hc(t,s,null,e)}))}(this,t,e):Ae(new T("invalid-auth-event")):(Hc(this,!1,null,null),ke())}else Ae(new T("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Mc.get()).then((function(){t.b||(t.g=!0,Hc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Hr(this,"resolver",this.b)}function ih(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(r){}return null}function oh(){}function ah(t){Hr(this,"factorId",t.fa),this.a=t}function sh(t){if(ah.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function lh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fh(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return qr()||!t?ke():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fh(t,!0)})).o((function(e){t.i(e)&&fh(t,!1)}))}function dh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Bi(e[Qa]||""),t.a=e.refreshToken,ph(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?as(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Hn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gh(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function mh(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=br.SDK_VERSION?kr(br.SDK_VERSION):null;this.a=new Xa(this.l,D(S),r),t.emulatorConfig&&rs(this.a,t.emulatorConfig),this.b=new dh(this.a),Ah(this,e[Qa]),vh(this.b,e),Hr(this,"refreshToken",this.b.a),xh(this,n||{}),mn.call(this),this.R=!1,this.s&&xr()&&(this.i=$c(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new lh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){rs(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Eh(i,t.f)},this.ba=null,this.O=new ch(this,n),Hr(this,"multiFactor",this.O)}function wh(t,e){t.ja&&cn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function Ih(t,e){t.X&&cn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function Eh(t,e){t.$=e,os(t.a,br.SDK_VERSION?kr(br.SDK_VERSION,t.$):null)}function Th(t,e){t.ba&&cn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function _h(t){try{return br.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sh(t){t.D||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function kh(t){cn(t,"tokenChanged",t.aa),t.u.stop()}function Ah(t,e){t.za=e,Hr(t,"_lat",e)}function Nh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return De(e).then((function(){return t}))}function Dh(t){t.i&&!t.R&&(t.R=!0,Pc(t.i,t))}function xh(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oh(){}function Ch(t){return ke().then((function(){if(t.D)throw new T("app-deleted")}))}function Ph(t){return $(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function jh(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Hr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Hr(t,"metadata",new gh),q(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Hr(t,"refreshToken",t.b.a),hh(t.O,e.O.b))}function Fh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Ps,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Vh(t,e){e[Qa]&&t.za!=e[Qa]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Ah(t,e[Qa]),Mh(t,"refreshToken",t.b.a))}function Uh(t,e){return Fh(t).then((function(){if(z(Ph(t),e))return Nh(t).then((function(){throw new T("provider-already-linked")}))}))}function qh(t,e,n){return Yr({user:t,credential:jo(e),additionalUserInfo:e=Hi(e),operationType:n})}function Bh(t,e){return Vh(t,e),t.reload().then((function(){return t}))}function $h(t,e,n,r,i){if(!xr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Gi(n.providerId),a=jr(t.uid+":::"),s=null;(!Pr()||gr())&&t.s&&n.isOAuthProvider&&(s=gu(t.s,t.l,t.m,e,n,null,a,br.SDK_VERSION||null,null,null,t.tenantId));var u=fr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(zh(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Uc(t.i,t,e,u,a)}))})).then((function(t){return u&&lr(u),t?Yr(t):null})).o((function(t){throw u&&lr(u),t})),Wh(t,r,i)}function Kh(t,e,n,r,i){if(!xr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=jr(t.uid+":::");return r=r().then((function(){if(zh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Nh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Xh,t.w(),e.a)),e})).then((function(){return Vc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Yh(t.ha);throw o})).then((function(){if(o)throw o})),Wh(t,r,i)}function zh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Wh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new uh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){W(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),_h(t),b(t.jc,t))),n||e}))}function Gh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bh(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Rh(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Hh(t){this.a=t,this.b=tc()}th.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[eh],delete n[nh],pt(n,t),e.g(n)}))},I(rh,T),oh.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Ro(t.a)}),nu(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),nu(e,Cs,n)}))}(this,t,e)},I(ah,oh),I(sh,ah),I(uh,Ge),(t=ch.prototype).yc=function(t){hh(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Vh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return hh(e,r),Vh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:$(this.b,(function(t){return t.w()}))}}},lh.prototype.start=function(){this.a=this.c,fh(this,!0)},lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?yh(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(bh,mn),bh.prototype.wa=function(t){this.ya=t,ns(this.a,t)},bh.prototype.la=function(){return this.ya},bh.prototype.Ga=function(){return X(this.$)},bh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Hr(bh.prototype,"providerId","firebase"),(t=bh.prototype).reload=function(){var t=this;return Wh(this,Ch(this).then((function(){return Fh(t).then((function(){return Nh(t)})).then(Oh)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Wh(this,Ch(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Ah(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");xh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?$(t,(function(t){return new mh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{hd:t}))},t.Lc=function(t){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wh(this,t.c(this.a,this.uid).then((function(t){return Vh(e,t),n=qh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wh(this,Uh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=qh(e,t,"link"),Bh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wh(this,Uh(this,"phone").then((function(){return Jc(_h(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wh(this,ke().then((function(){return Jc(_h(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ch(this);var e=this;return Wh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),Nh(e)})).then(Oh))},t.cd=function(t){var e=this;return Wh(this,Fh(this).then((function(n){return z(Ph(e),t)?function(t,e,n){return nu(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Ph(e),(function(t){n[t]||Lh(e,t)})),n[Lo.PROVIDER_ID]||Hr(e,"phoneNumber",null),Nh(e)})):Nh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Wh(this,this.I().then((function(e){return nu(t.a,As,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wh(t,null),Ih(t,null),Th(t,null),t.J=[],t.D=!0,kh(t),Hr(t,"refreshToken",null),t.i&&Rc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return $h(this,"linkViaPopup",t,(function(){return Uh(e,t.providerId).then((function(){return Nh(e)}))}),!1)},t.Nc=function(t){return $h(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return Kh(this,"linkViaRedirect",t,(function(){return Uh(e,t.providerId)}),!1)},t.Oc=function(t){return Kh(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wh(this,this.I().then((function(n){return ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=qh(i,t,"link"),Bh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wh(this,ke().then((function(){return uo(Is(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=qh(i,t,"reauthenticate"),Vh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Fi(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wh(this,t=uo(ke(t),n.uid).then((function(t){return e=qh(n,t,"reauthenticate"),Vh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Xh={name:"redirectUser",F:"session"};function Yh(t){return rc(t.b,Xh,t.a)}function Qh(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=tl("local"),n=tl("session"),r=tl("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tl(t):e}))}))}))})).then((function(e){return t.c=e,Jh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tl("local"),this.a,b(this.g,this))}function Jh(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(rc(t.b,tl(Ju[n]),t.a));return r.push(rc(t.b,Zh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],w(o,s),a);else e(i)}))}(r)}Qh.prototype.g=function(){var t=this,e=tl("local");il(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",F:"session"};function tl(t){return{name:"authUser",F:t}}function el(t,e){return il(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nl(t){return il(t,(function(){return rc(t.b,t.c,t.a)}))}function rl(t,e,n){return il(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gh(t||{})}))}))}function il(t,e){return t.f=t.f.then(e,e),t.f}function ol(t){if(this.l=!1,Hr(this,"settings",new Yc),Hr(this,"app",t),!pl(this).options||!pl(this).options.apiKey)throw new T("invalid-api-key");t=br.SDK_VERSION?kr(br.SDK_VERSION):null,this.a=new Xa(pl(this).options&&pl(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=br.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=br.INTERNAL.createSubscribe(b(this.Ac,this)),fl(this,null),this.i=new Qh(pl(this).options.apiKey+":"+pl(this).name),this.D=new Hh(pl(this).options.apiKey+":"+pl(this).name),this.$=ml(this,function(t){var e=pl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gh(t||{})}))}(t.D,pl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Yh(t.D)}));return ml(t,e)}(t).then((function(){return rl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return el(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nl(t.i)}))):null})).then((function(e){fl(t,e||null)}));return ml(t,n)}(this)),this.h=ml(this,function(t){return t.$.then((function(){return hl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(tl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=pl(t).options.authDomain,n=pl(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=$c(e,n,pl(t).name,t.P),Pc(t.b,t),vl(t)&&Dh(vl(t)),t.m){Dh(t.m);var r=t.m;r.wa(t.la()),wh(r,t),Eh(r=t.m,t.J),Th(r,t),rs((r=t.m).a,t.P),Ih(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,mn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Mn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function al(t){Ge.call(this,"languageCodeChanged"),this.h=t}function sl(t){Ge.call(this,"emulatorConfigChanged"),this.c=t}function ul(t){Ge.call(this,"frameworkChanged"),this.f=t}function cl(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function hl(t){if(!xr())return Ae(new T("operation-not-supported-in-this-environment"));var e=cl(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return ml(t,e)}function ll(t,e){var n={};return n.apiKey=pl(t).options.apiKey,n.authDomain=pl(t).options.authDomain,n.appName=pl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Eh(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vl(t)&&e.uid==vl(t).uid?(jh(vl(t),e),t.da(e)):(fl(t,e),Dh(e),t.da(e))})).then((function(){gl(t)}))}function fl(t,e){vl(t)&&(function(t,e){G(t.S,(function(t){return t==e}))}(vl(t),t.Ba),cn(vl(t),"tokenChanged",t.ya),cn(vl(t),"userDeleted",t.za),cn(vl(t),"userInvalidated",t.Aa),kh(vl(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&Sh(e)),Hr(t,"currentUser",e),e&&(e.wa(t.la()),wh(e,t),Eh(e,t.J),Th(e,t),rs(e.a,t.P),Ih(e,t))}function dl(t,e){var n=null,r=null;return ml(t,e.then((function(e){return n=jo(e),r=Hi(e),ll(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Yr({user:vl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pl(t){return t.app}function vl(t){return t.currentUser}function yl(t){return vl(t)&&vl(t)._lat||null}function gl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yl(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](yl(t))}}function ml(t,e){return t.R.push(e),e.oa((function(){W(t.R,e)})),e}function bl(){}function wl(){this.a={},this.b=1e12}Qh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),il(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jh(n,t)})).then((function(){if(n.c=tl(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},I(ol,mn),I(al,Ge),I(sl,Ge),I(ul,Ge),(t=ol.prototype).xb=function(t){return ml(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ns(this.a,this.aa),this.dispatchEvent(new al(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,rs(this.a,this.P),this.dispatchEvent(new sl(this.P))}},t.Gc=function(t){this.J.push(t),os(this.a,br.SDK_VERSION?kr(br.SDK_VERSION,this.J):null),this.dispatchEvent(new ul(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:pl(this).options.apiKey,authDomain:pl(this).options.authDomain,appName:pl(this).name,currentUser:vl(this)&&vl(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dl(i,bs(i.a,o))}))},t.Xc=function(t){if(!xr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=jr(),i=null;(!Pr()||gr())&&pl(this).options.authDomain&&t.isOAuthProvider&&(i=gu(pl(this).options.authDomain,pl(this).options.apiKey,pl(this).name,"signInViaPopup",t,null,r,br.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return ml(this,n=cl(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Uc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Yr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Yc=function(t){if(!xr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return ml(this,cl(this).then((function(){return function(t){return il(t,(function(){return t.b.set(Zh,t.c.F,t.a)}))}(e.i)})).then((function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hl(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=pl(this).options.apiKey,n.authDomain=pl(this).options.authDomain,n.appName=pl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Eh(e,r),jh(e,t),e}(t,n,e.D,e.Ga());return ml(this,this.h.then((function(){if(pl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vl(e)&&t.uid==vl(e).uid?(jh(vl(e),t),e.da(t)):(fl(e,r),Dh(r),e.da(r))})).then((function(){gl(e)})))},t.Ab=function(){var t=this;return ml(this,this.h.then((function(){return t.b&&Wc(t.b.b),vl(t)?(fl(t,null),nl(t.i).then((function(){gl(t)}))):ke()})))},t.Zc=function(){var t=this;return rl(this.i,pl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vl(t)&&e){n=vl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jh(vl(t),e),vl(t).I();(vl(t)||e)&&(fl(t,e),e&&(Dh(e),e.ha=t.D),t.b&&Pc(t.b,t),gl(t))}}))},t.da=function(t){return el(this.i,t)},t.mc=function(){gl(this),this.da(vl(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dl(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),ml(t,t.h.then((function(){!t.l&&z(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(yl(t)))})))}(this,(function(){t.next(vl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vl(r)):"function"==typeof t.next&&t.next(vl(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(vl(r)):"function"==typeof t.next&&t.next(vl(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return ml(this,this.h.then((function(){return vl(e)?vl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dl(e,nu(e.a,Ys,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dl(n,nu(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dl(n,nu(n.a,Ss,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dl(e,t.ka(e.a))}))},t.Sc=function(t){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=vl(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dl(t,t.a.zb()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vl(this)&&vl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vl(this)&&Sh(vl(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vl(this)&&kh(vl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ml(this,this.h.then((function(){e.l||z(e.s,t)&&t(yl(e))})))},t.removeAuthTokenListener=function(t){G(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(tl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return ml(this,function(t,e){return nu(t,ks,{identifier:e,continueUri:Or()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.wb=function(t,e){var n=this;return ml(this,ke().then((function(){var t=new Ni(e);if(!t.c)throw new T("argument-error",Oi+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return ml(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return ml(this,this.a.Ra(t).then((function(t){return new oi(t)})))},t.jb=function(t){return ml(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return ml(this,ke().then((function(){return void 0===e||lt(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ml(this,Jc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return ml(this,ke().then((function(){var r=e||sr(),i=xo(t,r);if(!(r=Oo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},bl.prototype.render=function(){},bl.prototype.reset=function(){},bl.prototype.getResponse=function(){},bl.prototype.execute=function(){};var Il=null;function El(t,e){return(e=Tl(e))&&t.a[e]||null}function Tl(t){return(t=void 0===t?1e12:t)?t.toString():null}function _l(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function Sl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kl(){}function Al(){}wl.prototype.render=function(t,e){return this.a[this.b.toString()]=new _l(t,e),this.b++},wl.prototype.reset=function(t){var e=El(this,t);t=Tl(t),e&&t&&(e.delete(),delete this.a[t])},wl.prototype.getResponse=function(t){return(t=El(this,t))?t.getResponse():null},wl.prototype.execute=function(t){(t=El(this,t))&&t.execute()},_l.prototype.getResponse=function(){return Sl(this),this.b},_l.prototype.execute=function(){Sl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},_l.prototype.delete=function(){Sl(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Hr(kl,"FACTOR_ID","phone"),Al.prototype.g=function(){return Il||(Il=new wl),ke(Il)},Al.prototype.c=function(){};var Nl=null;function Dl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xl=new yt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ol=new Ur(3e4,6e4);Dl.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Ol.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},ke(Ba(_t(xl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Dl.prototype.c=function(){this.b--};var Cl=null;function Pl(t,e,n,r,i,o,s){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Nl||(Nl=new Al),s=Nl):(Cl||(Cl=new Dl),s=Cl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ml])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jl],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rl];this.a[Rl]=function(t){if(Fl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Ll];this.a[Ll]=function(){if(Fl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Nr(h,a);"function"==typeof t&&t()}}}var Rl="callback",Ll="expired-callback",Ml="sitekey",jl="size";function Fl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vl(t,e){return t.h.push(e),e.oa((function(){W(t.h,e)})),e}function Ul(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function ql(t,e,n){var r=!1;try{this.b=n||br.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=br.SDK_VERSION?kr(br.SDK_VERSION,o):null,Pl.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function Bl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=$l.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=$l[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Pl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vl(this,ke().then((function(){if(Or()&&!mr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Vs,{})})).then((function(e){t.a[Ml]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ul(this);var t=this;return Vl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qt(a.name),'"'),a.type){o.push(' type="',qt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=de(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ul(this);var t=this;return Vl(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ul(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ul(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(ql,Pl);var $l="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Kl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function zl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Gl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Hl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Ql(t){return p(t)&&"string"==typeof t.uid}function Jl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zl(t,e){for(var n in e){var r=e[n].name;t[r]=nf(r,t[n],e[n].j)}}function tf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,r){t[e]=nf(e,n,r)}function nf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zl(ol.prototype,{jb:{name:"applyActionCode",j:[Kl("code")]},Ra:{name:"checkActionCode",j:[Kl("code")]},nb:{name:"confirmPasswordReset",j:[Kl("code"),Kl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Kl("email"),Kl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Kl("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Kl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jl(Wl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jl(Wl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Kl("email"),Jl(Wl("opt_actionCodeSettings",!0),Hl(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Kl("email"),Wl("actionCodeSettings")]},xb:{name:"setPersistence",j:[Kl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Xl()]},Tc:{name:"signInWithCustomToken",j:[Kl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Kl("email"),Kl("password")]},Vc:{name:"signInWithEmailLink",j:[Kl("email"),Kl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Kl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bh)}},Hl(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Kl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Kl("url"),Wl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Kl("code")]}}),tf(ol.prototype,{lc:{name:"languageCode",kb:Jl(Kl(),Hl(),"languageCode")},ti:{name:"tenantId",kb:Jl(Kl(),Hl(),"tenantId")}}),ol.Persistence=Ju,ol.Persistence.LOCAL="local",ol.Persistence.SESSION="session",ol.Persistence.NONE="none",Zl(bh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xl()]},qb:{name:"linkWithCredential",j:[Xl()]},Dc:{name:"linkWithPhoneNumber",j:[Kl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xl()]},tb:{name:"reauthenticateWithCredential",j:[Xl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Kl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jl(Wl("opt_actionCodeSettings",!0),Hl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Kl(null,!0)]},cd:{name:"unlink",j:[Kl("provider")]},Bb:{name:"updateEmail",j:[Kl("email")]},Cb:{name:"updatePassword",j:[Kl("password")]},ed:{name:"updatePhoneNumber",j:[Xl("phone")]},Db:{name:"updateProfile",j:[Wl("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Kl("email"),Jl(Wl("opt_actionCodeSettings",!0),Hl(null,!0),"opt_actionCodeSettings",!0)]}}),Zl(wl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zl(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zl(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:zl("appVerificationDisabledForTesting")}}),Zl(Qc.prototype,{confirm:{name:"confirm",j:[Kl("verificationCode")]}}),ef(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,No,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jl(Kl(),Wl(),"json")]),ef(Do,"credential",(function(t,e){return new Ao(t,e)}),[Kl("email"),Kl("password")]),Zl(Ao.prototype,{w:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(bo.prototype,{Ca:{name:"addScope",j:[Kl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),ef(bo,"credential",wo,[Jl(Kl(),Wl(),"token")]),ef(Do,"credentialWithLink",xo,[Kl("email"),Kl("emailLink")]),Zl(Io.prototype,{Ca:{name:"addScope",j:[Kl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),ef(Io,"credential",Eo,[Jl(Kl(),Wl(),"token")]),Zl(To.prototype,{Ca:{name:"addScope",j:[Kl("scope")]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),ef(To,"credential",_o,[Jl(Kl(),Jl(Wl(),Hl()),"idToken"),Jl(Kl(),Hl(),"accessToken",!0)]),Zl(So.prototype,{Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),ef(So,"credential",ko,[Jl(Kl(),Wl(),"token"),Kl("secret",!0)]),Zl(mo.prototype,{Ca:{name:"addScope",j:[Kl("scope")]},credential:{name:"credential",j:[Jl(Kl(),Jl(Wl(),Hl()),"optionsOrIdToken"),Jl(Kl(),Hl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wl("customOAuthParameters")]}}),Zl(fo.prototype,{w:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(co.prototype,{w:{name:"toJSON",j:[Kl(null,!0)]}}),ef(Lo,"credential",Mo,[Kl("verificationId"),Kl("verificationCode")]),Zl(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jl(Kl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yl(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yl(t.session,ao)&&Ql(t.multiFactorHint):t.session&&t.multiFactorUid?Yl(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zl(Co.prototype,{w:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(T.prototype,{toJSON:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(zo.prototype,{toJSON:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(Ko.prototype,{toJSON:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(rh.prototype,{toJSON:{name:"toJSON",j:[Kl(null,!0)]}}),Zl(th.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zl(ch.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Kl("displayName",!0)]},bd:{name:"unenroll",j:[Jl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Ql},Kl(),"multiFactorInfoIdentifier")]}}),Zl(ql.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(bi,"parseLink",Ai,[Kl("link")]),ef(kl,"assertion",(function(t){return new sh(t)}),[Xl("phone")]),function(){if(void 0===br||!br.INTERNAL||!br.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ol,AuthCredential:so,Error:T};ef(t,"EmailAuthProvider",Do,[]),ef(t,"FacebookAuthProvider",bo,[]),ef(t,"GithubAuthProvider",Io,[]),ef(t,"GoogleAuthProvider",To,[]),ef(t,"TwitterAuthProvider",So,[]),ef(t,"OAuthProvider",mo,[Kl("providerId")]),ef(t,"SAMLAuthProvider",go,[Kl("providerId")]),ef(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ol)}}]),ef(t,"RecaptchaVerifier",ql,[Jl(Kl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof br.app.App)}}]),ef(t,"ActionCodeURL",bi,[]),ef(t,"PhoneMultiFactorGenerator",kl,[]),br.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ol(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),br.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),br.registerVersion("@firebase/auth","0.16.5"),br.INTERNAL.extendNamespace({User:bh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Yi=function(t,e){return(Yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ji,Zi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},to=to||{},eo=Zi||self;function no(){}function ro(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function io(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oo="closure_uid_"+(1e9*Math.random()>>>0),ao=0;function so(t,e,n){return t.call.apply(t.bind,arguments)}function uo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function co(t,e,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?so:uo).apply(null,arguments)}function ho(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function lo(){return Date.now()}function fo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function po(){this.j=this.j,this.i=this.i}po.prototype.j=!1,po.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,oo)&&t[oo]||(t[oo]=++ao))},po.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function go(t){return Array.prototype.concat.apply([],arguments)}function mo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bo(t){return/^[\s\xa0]*$/.test(t)}var wo,Io=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Eo(t,e){return-1!=t.indexOf(e)}function To(t,e){return t<e?-1:t>e?1:0}t:{var _o=eo.navigator;if(_o){var So=_o.userAgent;if(So){wo=So;break t}}wo=""}function ko(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ao(t){var e={};for(var n in t)e[n]=t[n];return e}var No="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Do(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<No.length;o++)n=No[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xo(t){return xo[" "](t),t}xo[" "]=no;var Oo,Co,Po=Eo(wo,"Opera"),Ro=Eo(wo,"Trident")||Eo(wo,"MSIE"),Lo=Eo(wo,"Edge"),Mo=Lo||Ro,jo=Eo(wo,"Gecko")&&!(Eo(wo.toLowerCase(),"webkit")&&!Eo(wo,"Edge"))&&!(Eo(wo,"Trident")||Eo(wo,"MSIE"))&&!Eo(wo,"Edge"),Fo=Eo(wo.toLowerCase(),"webkit")&&!Eo(wo,"Edge");function Vo(){var t=eo.document;return t?t.documentMode:void 0}t:{var Uo="",qo=(Co=wo,jo?/rv:([^\);]+)(\)|;)/.exec(Co):Lo?/Edge\/([\d\.]+)/.exec(Co):Ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Co):Fo?/WebKit\/(\S+)/.exec(Co):Po?/(?:Version)[ \/]?(\S+)/.exec(Co):void 0);if(qo&&(Uo=qo?qo[1]:""),Ro){var Bo=Vo();if(null!=Bo&&Bo>parseFloat(Uo)){Oo=String(Bo);break t}}Oo=Uo}var $o,Ko={};function zo(t){return function(t,e){var n=Ko;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Io(String(Oo)).split("."),r=Io(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=To(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||To(0==a[2].length,0==s[2].length)||To(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(eo.document&&Ro){var Wo=Vo();$o=Wo||(parseInt(Oo,10)||void 0)}else $o=void 0;var Go=$o,Ho=!Ro||9<=Number(Go),Xo=Ro&&!zo("9"),Yo=function(){if(!eo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{eo.addEventListener("test",no,e),eo.removeEventListener("test",no,e)}catch(n){}return t}();function Qo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Jo(t,e){if(Qo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jo){t:{try{xo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Qo.prototype.b=function(){this.defaultPrevented=!0},fo(Jo,Qo);var Zo={2:"touch",3:"pen",4:"mouse"};Jo.prototype.b=function(){Jo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ta="closure_listenable_"+(1e6*Math.random()|0),ea=0;function na(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ea,this.Y=this.Z=!1}function ra(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ia(t){this.src=t,this.a={},this.b=0}function oa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ra(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function aa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ia.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=aa(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new na(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var sa="closure_lm_"+(1e6*Math.random()|0),ua={};function ca(t,e,n,r,i){if(r&&r.once)return la(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ca(t,e[o],n,r,i);return null}return n=ba(n),t&&t[ta]?t.va(e,n,io(r)?!!r.capture:!!r,i):ha(t,e,n,!1,r,i)}function ha(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=io(i)?!!i.capture:!!i;if(a&&!Ho)return null;var s=ga(t);if(s||(t[sa]=s=new ia(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=ya,e=Ho?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function la(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)la(t,e[o],n,r,i);return null}return n=ba(n),t&&t[ta]?t.wa(e,n,io(r)?!!r.capture:!!r,i):ha(t,e,n,!0,r,i)}function fa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fa(t,e[o],n,r,i);else r=io(r)?!!r.capture:!!r,n=ba(n),t&&t[ta]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=aa(o=t.a[e],n,r,i))&&(ra(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=ga(t))&&(e=t.a[e.toString()],t=-1,e&&(t=aa(e,n,r,i)),(n=-1<t?e[t]:null)&&da(n))}function da(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ta])oa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ga(e))?(oa(n,t),0==n.b&&(n.src=null,e[sa]=null)):ra(t)}}}function pa(t){return t in ua?ua[t]:ua[t]="on"+t}function va(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&da(t),n.call(r,e)}function ya(t,e){if(t.Y)return!0;if(!Ho){if(!e)t:{e=["window","event"];for(var n=eo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return va(t,e=new Jo(e,this))}return va(t,new Jo(e,this))}function ga(t){return(t=t[sa])instanceof ia?t:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(t){return"function"==typeof t?t:(t[ma]||(t[ma]=function(e){return t.handleEvent(e)}),t[ma])}function wa(){po.call(this),this.c=new ia(this),this.J=this,this.C=null}function Ia(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Qo(e,t);else if(e instanceof Qo)e.target=e.target||t;else{var i=e;Do(e=new Qo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ea(a,r,!0,e)&&i}if(i=Ea(a=e.a=t,r,!0,e)&&i,i=Ea(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ea(a=e.a=n[o],r,!1,e)&&i}function Ea(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&oa(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}fo(wa,po),wa.prototype[ta]=!0,(Ji=wa.prototype).addEventListener=function(t,e,n,r){ca(this,t,e,n,r)},Ji.removeEventListener=function(t,e,n,r){fa(this,t,e,n,r)},Ji.G=function(){if(wa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ra(n[r]);delete e.a[t],e.b--}}this.C=null},Ji.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ji.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ta=eo.JSON.stringify;function _a(){this.b=this.a=null}var Sa,ka=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Na}),(function(t){t.reset()}));function Aa(){var t=Ca,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Na(){this.next=this.b=this.a=null}function Da(t){eo.setTimeout((function(){throw t}),0)}function xa(t,e){Sa||function(){var t=eo.Promise.resolve(void 0);Sa=function(){t.then(Pa)}}(),Oa||(Sa(),Oa=!0),Ca.add(t,e)}_a.prototype.add=function(t,e){var n=ka.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Na.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Na.prototype.reset=function(){this.next=this.b=this.a=null};var Oa=!1,Ca=new _a;function Pa(){for(var t;t=Aa();){try{t.a.call(t.b)}catch(n){Da(n)}var e=ka;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oa=!1}function Ra(t,e){wa.call(this),this.b=t||1,this.a=e||eo,this.f=co(this.Za,this),this.g=lo()}function La(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ma(t,e,n){if("function"==typeof t)n&&(t=co(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=co(t.handleEvent,t)}return 2147483647<Number(e)?-1:eo.setTimeout(t,e||0)}function ja(t){t.a=Ma((function(){t.a=null,t.c&&(t.c=!1,ja(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fo(Ra,wa),(Ji=Ra.prototype).aa=!1,Ji.M=null,Ji.Za=function(){if(this.aa){var t=lo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ia(this,"tick"),this.aa&&(La(this),this.start()))}},Ji.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=lo())},Ji.G=function(){Ra.X.G.call(this),La(this),delete this.a};var Fa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Yi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ja(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(eo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(po);function Va(t){po.call(this),this.b=t,this.a={}}fo(Va,po);var Ua=[];function qa(t,e,n,r){Array.isArray(n)||(n&&(Ua[0]=n.toString()),n=Ua);for(var i=0;i<n.length;i++){var o=ca(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ba(t){ko(t.a,(function(t,e){this.a.hasOwnProperty(e)&&da(t)}),t),t.a={}}function $a(){this.a=!0}function Ka(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ta(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Va.prototype.G=function(){Va.X.G.call(this),Ba(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$a.prototype.info=function(){};var za={},Wa=null;function Ga(){return Wa=Wa||new wa}function Ha(t){Qo.call(this,za.Fa,t)}function Xa(t){var e=Ga();Ia(e,new Ha(e,t))}function Ya(t,e){Qo.call(this,za.STAT_EVENT,t),this.stat=e}function Qa(t){var e=Ga();Ia(e,new Ya(e,t))}function Ja(t){Qo.call(this,za.Ga,t)}function Za(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return eo.setTimeout((function(){t()}),e)}za.Fa="serverreachability",fo(Ha,Qo),za.STAT_EVENT="statevent",fo(Ya,Qo),za.Ga="timingevent",fo(Ja,Qo);var ts={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},es={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ns(){}function rs(t){var e;return(e=t.a)||(e=t.a={}),e}function is(){}ns.prototype.a=null;var os,as={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ss(){Qo.call(this,"d")}function us(){Qo.call(this,"c")}function cs(){}function hs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Va(this),this.P=ls,t=Mo?125:void 0,this.R=new Ra(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fo(ss,Qo),fo(us,Qo),fo(cs,ns),os=new cs;var ls=45e3,fs={},ds={};function ps(t,e,n){t.H=1,t.i=Ms(xs(e)),t.j=n,t.I=!0,vs(t,null)}function vs(t,e){t.u=lo(),ms(t),t.l=xs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Xs(n.b,"t",r),t.D=0,t.a=$u(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fa(co(t.Ca,t,t.a),t.O)),qa(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ao(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xa(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ys(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=gs(t,n);if(i==ds){4==e&&(t.h=4,Qa(14),r=!1),Ka(t.c,t.f,null,"[Incomplete Response]");break}if(i==fs){t.h=4,Qa(15),Ka(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ka(t.c,t.f,i,null),Ts(t,i)}4==e&&0==n.length&&(t.h=1,Qa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lu(e),e.F=!0,Qa(11))):(Ka(t.c,t.f,n,"[Invalid Chunked Response]"),Es(t),Is(t))}function gs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ds:(n=Number(e.substring(n,r)),isNaN(n)?fs:(r+=1)+n>e.length?ds:(e=e.substr(r,n),t.D=r+n,e))}function ms(t){t.T=lo()+t.P,bs(t,t.P)}function bs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Za(co(t.Va,t),e)}function ws(t){t.o&&(eo.clearTimeout(t.o),t.o=null)}function Is(t){0==t.g.v||t.A||Fu(t.g,t)}function Es(t){ws(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,La(t.R),Ba(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ts(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nu(n.b,t)))if(n.I=t.N,!t.C&&nu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ju(n),ku(n)}Ru(n),Qa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Za(co(n.Sa,n),6e3));if(1>=eu(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Uu(n,11)}else if((t.C||n.a==t)&&ju(n),!bo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(Eo(h,"spdy")||Eo(h,"quic")||Eo(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(ru(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ls(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=lo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bu(u,u.C?u.ga:null,u.fa),d.C){iu(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(ws(p),ms(p)),u.a=d}else Pu(u);0<n.g.length&&Du(n)}else"stop"!=i[0]&&"close"!=i[0]||Uu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Uu(n,7):Su(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xa(4)}catch(y){}}function _s(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ro(t)||"string"==typeof t)yo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ro(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ro(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ss(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ss)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ks(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];As(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)As(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function As(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ji=hs.prototype).setTimeout=function(t){this.P=t},Ji.Xa=function(t){t=t.target;var e=this.F;e&&3==Iu(t)?e.f():this.Ca(t)},Ji.Ca=function(t){try{if(t==this.a)t:{var e=Iu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mo&&!this.a.$())){this.A||4!=e||7==n||Xa(8==n||0>=r?3:2),ws(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bo(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Qa(12),Es(this),Is(this);break t}Ka(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ts(this,u)}this.I?(ys(this,e,o),Mo&&this.b&&3==e&&(qa(this.J,this.R,"tick",this.Wa),this.R.start())):(Ka(this.c,this.f,o,null),Ts(this,o)),4==e&&Es(this),this.b&&!this.A&&(4==e?Fu(this.g,this):(this.b=!1,ms(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Qa(12)):(this.h=0,Qa(13)),Es(this),Is(this)}}}catch(c){}},Ji.Wa=function(){if(this.a){var t=Iu(this.a),e=this.a.$();this.D<e.length&&(ws(this),ys(this,t,e),this.b&&4!=t&&ms(this))}},Ji.cancel=function(){this.A=!0,Es(this)},Ji.Va=function(){this.o=null;var t=lo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Xa(3),Qa(17)),Es(this),this.h=2,Is(this)):bs(this,this.T-t)},(Ji=Ss.prototype).K=function(){ks(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ji.L=function(){return ks(this),this.a.concat()},Ji.get=function(t,e){return As(this.b,t)?this.b[t]:e},Ji.set=function(t,e){As(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ji.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ns=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ds){this.a=void 0!==e?e:t.a,Os(this,t.f),this.j=t.j,Cs(this,t.c),Ps(this,t.h),this.g=t.g,e=t.b;var n=new zs;n.c=e.c,e.a&&(n.a=new Ss(e.a),n.b=e.b),Rs(this,n),this.i=t.i}else t&&(n=String(t).match(Ns))?(this.a=!!e,Os(this,n[1]||"",!0),this.j=js(n[2]||""),Cs(this,n[3]||"",!0),Ps(this,n[4]),this.g=js(n[5]||"",!0),Rs(this,n[6]||"",!0),this.i=js(n[7]||"")):(this.a=!!e,this.b=new zs(null,this.a))}function xs(t){return new Ds(t)}function Os(t,e,n){t.f=n?js(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Cs(t,e,n){t.c=n?js(e,!0):e}function Ps(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Rs(t,e,n){e instanceof zs?(t.b=e,function(t,e){e&&!t.f&&(Ws(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Gs(this,e),Xs(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fs(e,$s)),t.b=new zs(e,t.a))}function Ls(t,e,n){t.b.set(e,n)}function Ms(t){return Ls(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^lo()).toString(36)),t}function js(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vs),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vs(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ds.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fs(e,Us,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fs(e,Us,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fs(n,"/"==n.charAt(0)?Bs:qs,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fs(n,Ks)),t.join("")};var Us=/[#\/\?@]/g,qs=/[#\?:]/g,Bs=/[#\?]/g,$s=/[#\?@]/g,Ks=/#/g;function zs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ws(t){t.a||(t.a=new Ss,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Gs(t,e){Ws(t),e=Ys(t,e),As(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,As((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ks(t)))}function Hs(t,e){return Ws(t),e=Ys(t,e),As(t.a.b,e)}function Xs(t,e,n){Gs(t,e),0<n.length&&(t.c=null,t.a.set(Ys(t,e),mo(n)),t.b+=n.length)}function Ys(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ji=zs.prototype).add=function(t,e){Ws(this),this.c=null,t=Ys(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ji.forEach=function(t,e){Ws(this),this.a.forEach((function(n,r){yo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ji.L=function(){Ws(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ji.K=function(t){Ws(this);var e=[];if("string"==typeof t)Hs(this,t)&&(e=go(e,this.a.get(Ys(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=go(e,t[n])}return e},Ji.set=function(t,e){return Ws(this),this.c=null,Hs(this,t=Ys(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ji.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ji.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Qs=function(t,e){this.b=t,this.a=e};function Js(t){this.g=t||Zs,eo.PerformanceNavigationTiming?t=0<(t=eo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(eo.ia&&eo.ia.ya&&eo.ia.ya()&&eo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zs=10;function tu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function eu(t){return t.b?1:t.a?t.a.size:0}function nu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ru(t,e){t.a?t.a.add(e):t.b=e}function iu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ou(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Qi(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return mo(t.c)}function au(){}function su(){this.a=new au}function uu(t,e,n){var r=n||"";try{_s(t,(function(t,n){var i=t;io(t)&&(i=Ta(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(eb){throw e.push(r+"type="+encodeURIComponent("_badmap")),eb}}function cu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Js.prototype.cancel=function(){var t,e;if(this.c=ou(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qi(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},au.prototype.stringify=function(t){return eo.JSON.stringify(t,void 0)},au.prototype.parse=function(t){return eo.JSON.parse(t,void 0)};var hu=eo.JSON.parse;function lu(t){wa.call(this),this.headers=new Ss,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fu,this.D=this.F=!1}fo(lu,wa);var fu="",du=/^https?$/i,pu=["POST","PUT"];function vu(t){return"content-type"==t.toLowerCase()}function yu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gu(t),bu(t)}function gu(t){t.u||(t.u=!0,Ia(t,"complete"),Ia(t,"error"))}function mu(t){if(t.b&&void 0!==to&&(!t.s[1]||4!=Iu(t)||2!=t.W()))if(t.l&&4==Iu(t))Ma(t.za,0,t);else if(Ia(t,"readystatechange"),4==Iu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ns)[1]||null;if(!o&&eo.self&&eo.self.location){var a=eo.self.location.protocol;o=a.substr(0,a.length-1)}i=!du.test(o?o.toLowerCase():"")}e=i}if(e)Ia(t,"complete"),Ia(t,"success");else{t.h=6;try{var s=2<Iu(t)?t.a.statusText:""}catch(u){s=""}t.f=s+" ["+t.W()+"]",gu(t)}}finally{bu(t)}}}function bu(t,e){if(t.a){wu(t);var n=t.a,r=t.s[0]?no:null;t.a=null,t.s=null,e||Ia(t,"ready");try{n.onreadystatechange=r}catch(eb){}}}function wu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(eo.clearTimeout(t.m),t.m=null)}function Iu(t){return t.a?t.a.readyState:0}function Eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ko(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ls(t,e,n))}function Tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _u(t){this.pa=0,this.g=[],this.c=new $a,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tu("baseRetryDelayMs",5e3,t),this.Ra=Tu("retryDelaySeedMs",1e4,t),this.Ma=Tu("forwardChannelMaxRetries",2,t),this.ma=Tu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Js(t&&t.concurrentRequestLimit),this.ka=new su,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Su(t){if(Au(t),3==t.v){var e=t.R++,n=xs(t.B);Ls(n,"SID",t.J),Ls(n,"RID",e),Ls(n,"TYPE","terminate"),Ou(t,n),(e=new hs(t,t.c,e,void 0)).H=2,e.i=Ms(xs(n)),n=!1,eo.navigator&&eo.navigator.sendBeacon&&(n=eo.navigator.sendBeacon(e.i.toString(),"")),!n&&eo.Image&&((new Image).src=e.i,n=!0),n||(e.a=$u(e.g,null),e.a.ba(e.i)),e.u=lo(),ms(e)}qu(t)}function ku(t){t.a&&(Lu(t),t.a.cancel(),t.a=null)}function Au(t){ku(t),t.j&&(eo.clearTimeout(t.j),t.j=null),ju(t),t.b.cancel(),t.h&&("number"==typeof t.h&&eo.clearTimeout(t.h),t.h=null)}function Nu(t,e){t.g.push(new Qs(t.Oa++,e)),3==t.v&&Du(t)}function Du(t){tu(t.b)||t.h||(t.h=!0,xa(t.Ba,t),t.u=0)}function xu(t,e){var n;n=e?e.f:t.R++;var r=xs(t.B);Ls(r,"SID",t.J),Ls(r,"RID",n),Ls(r,"AID",t.P),Ou(t,r),t.i&&t.l&&Eu(r,t.i,t.l),n=new hs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Cu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ru(t.b,n),ps(n,r,e)}function Ou(t,e){t.f&&_s({},(function(t,n){Ls(e,n,t)}))}function Cu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?co(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{uu(h,a,"req"+c+"_")}catch(l){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Pu(t){t.a||t.j||(t.T=1,xa(t.Aa,t),t.o=0)}function Ru(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Za(co(t.Aa,t),Vu(t,t.o)),t.o++,!0)}function Lu(t){null!=t.s&&(eo.clearTimeout(t.s),t.s=null)}function Mu(t){t.a=new hs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xs(t.la);Ls(e,"RID","rpc"),Ls(e,"SID",t.J),Ls(e,"CI",t.H?"0":"1"),Ls(e,"AID",t.P),Ou(t,e),Ls(e,"TYPE","xmlhttp"),t.i&&t.l&&Eu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ms(xs(e)),n.j=null,n.I=!0,vs(n,t)}function ju(t){null!=t.m&&(eo.clearTimeout(t.m),t.m=null)}function Fu(t,e){var n=null;if(t.a==e){ju(t),Lu(t),t.a=null;var r=2}else{if(!nu(t.b,e))return;n=e.s,iu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=lo()-e.u;var i=t.u;Ia(r=Ga(),new Ja(r,n,e,i)),Du(t)}else Pu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(eu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Za(co(t.Ba,t,e),Vu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ru(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Uu(t,5);break;case 4:Uu(t,10);break;case 3:Uu(t,6);break;default:Uu(t,2)}}function Vu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Uu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=co(t.Ya,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),eo.location&&"http"==eo.location.protocol||Os(n,"https"),Ms(n)),function(t,e){var n=new $a;if(eo.Image){var r=new Image;r.onload=ho(cu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ho(cu,n,r,"TestLoadImage: error",!1,e),r.onabort=ho(cu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ho(cu,n,r,"TestLoadImage: timeout",!1,e),eo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qa(2);t.v=0,t.f&&t.f.ra(e),qu(t),Au(t)}function qu(t){t.v=0,t.I=-1,t.f&&(0==ou(t.b).length&&0==t.g.length||(t.b.c.length=0,mo(t.g),t.g.length=0),t.f.qa())}function Bu(t,e,n){var r=function(t){return t instanceof Ds?xs(t):new Ds(t,void 0)}(n);if(""!=r.c)e&&Cs(r,e+"."+r.c),Ps(r,r.h);else{var i=eo.location;r=function(t,e,n,r){var i=new Ds(null,void 0);return t&&Os(i,t),e&&Cs(i,e),n&&Ps(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ko(t.V,(function(t,e){Ls(r,e,t)})),e=t.A,n=t.na,e&&n&&Ls(r,e,n),Ls(r,"VER",t.ha),Ou(t,r),r}function $u(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lu(t.Na)).F=t.C,e}function Ku(){}function zu(){if(Ro&&!(10<=Number(Go)))throw Error("Environmental error: no available transport.")}function Wu(t,e){wa.call(this),this.a=new _u(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Xu(this)}function Gu(t){ss.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hu(){us.call(this),this.status=1}function Xu(t){this.a=t}(Ji=lu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?rs(this.H):rs(os),this.a.onreadystatechange=co(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void yu(this,o)}t=n||"";var i=new Ss(this.headers);r&&_s(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=vu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=eo.FormData&&t instanceof eo.FormData,!(0<=vo(pu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wu(this),0<this.o&&((this.D=function(t){return Ro&&zo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=co(this.xa,this)):this.m=Ma(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){yu(this,o)}},Ji.xa=function(){void 0!==to&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ia(this,"timeout"),this.abort(8))},Ji.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ia(this,"complete"),Ia(this,"abort"),bu(this))},Ji.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bu(this,!0)),lu.X.G.call(this)},Ji.za=function(){this.j||(this.A||this.l||this.g?mu(this):this.Ua())},Ji.Ua=function(){mu(this)},Ji.W=function(){try{return 2<Iu(this)?this.a.status:-1}catch(Co){return-1}},Ji.$=function(){try{return this.a?this.a.responseText:""}catch(Co){return""}},Ji.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hu(e)}},Ji.ua=function(){return this.h},Ji.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ji=_u.prototype).ha=8,Ji.v=1,Ji.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new hs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Do(r=Ao(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Cu(this,n,e),Ls(i=xs(this.B),"RID",t),Ls(i,"CVER",22),this.A&&Ls(i,"X-HTTP-Session-Id",this.A),Ou(this,i),this.i&&r&&Eu(i,this.i,r),ru(this.b,n),this.Ia&&Ls(i,"TYPE","init"),this.da?(Ls(i,"$req",e),Ls(i,"SID","null"),n.U=!0,ps(n,i,null)):ps(n,i,e),this.v=2}}else 3==this.v&&(t?xu(this,t):0==this.g.length||tu(this.b)||xu(this))},Ji.Aa=function(){if(this.j=null,Mu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Za(co(this.Ta,this),t)}},Ji.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Qa(10),ku(this),Mu(this))},Ji.Sa=function(){null!=this.m&&(this.m=null,ku(this),Ru(this),Qa(19))},Ji.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Qa(2)):(this.c.info("Failed to ping google.com"),Qa(1))},(Ji=Ku.prototype).ta=function(){},Ji.sa=function(){},Ji.ra=function(){},Ji.qa=function(){},Ji.Ja=function(){},zu.prototype.a=function(t,e){return new Wu(t,e)},fo(Wu,wa),Wu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Qa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Bu(t,null,t.fa),Du(t)},Wu.prototype.close=function(){Su(this.a)},Wu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Nu(this.a,e)}else this.l?((e={}).__data__=Ta(t),Nu(this.a,e)):Nu(this.a,t)},Wu.prototype.G=function(){this.a.f=null,delete this.f,Su(this.a),delete this.a,Wu.X.G.call(this)},fo(Gu,ss),fo(Hu,us),fo(Xu,Ku),Xu.prototype.ta=function(){Ia(this.a,"a")},Xu.prototype.sa=function(t){Ia(this.a,new Gu(t))},Xu.prototype.ra=function(t){Ia(this.a,new Hu(t))},Xu.prototype.qa=function(){Ia(this.a,"b")},zu.prototype.createWebChannel=zu.prototype.a,Wu.prototype.send=Wu.prototype.h,Wu.prototype.open=Wu.prototype.g,Wu.prototype.close=Wu.prototype.close,ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,es.COMPLETE="complete",is.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wa.prototype.listen=wa.prototype.va,lu.prototype.listenOnce=lu.prototype.wa,lu.prototype.getLastError=lu.prototype.Qa,lu.prototype.getLastErrorCode=lu.prototype.ua,lu.prototype.getStatus=lu.prototype.W,lu.prototype.getResponseJson=lu.prototype.Pa,lu.prototype.getResponseText=lu.prototype.$,lu.prototype.send=lu.prototype.ba;var Yu=ts,Qu=es,Ju=za,Zu=10,tc=11,ec=is,nc=lu,rc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();rc.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ic={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return bn(e,t),e}(Error),ac=new ir("@firebase/firestore");function sc(){return ac.logLevel}function uc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ac.logLevel<=Yn.DEBUG){var r=e.map(lc);ac.debug.apply(ac,Sn(["Firestore (8.5.0): "+t],r))}}function cc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ac.logLevel<=Yn.ERROR){var r=e.map(lc);ac.error.apply(ac,Sn(["Firestore (8.5.0): "+t],r))}}function hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ac.logLevel<=Yn.WARN){var r=e.map(lc);ac.warn.apply(ac,Sn(["Firestore (8.5.0): "+t],r))}}function lc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw cc(e),new Error(e)}function dc(t,e){t||fc()}function pc(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function gc(t,e){return t<e?-1:t>e?1:0}function mc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function bc(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new oc(ic.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new oc(ic.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new oc(ic.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new oc(ic.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?gc(this.nanoseconds,t.nanoseconds):gc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ic=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new wc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _c(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&fc(),void 0===n?n=t.length-e:n>t.length-e&&fc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new oc(ic.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Sc),Ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ac.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new oc(ic.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new oc(ic.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new oc(ic.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new oc(ic.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Sc),Dc=function(){function t(t){this.fields=t,t.sort(Nc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return mc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),xc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return gc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();xc.EMPTY_BYTE_STRING=new xc("");var Oc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(t){if(dc(!!t),"string"==typeof t){var e=0,n=Oc.exec(t);if(dc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pc(t.seconds),nanos:Pc(t.nanos)}}function Pc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Rc(t){return"string"==typeof t?xc.fromBase64String(t):xc.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mc(t){var e=t.mapValue.fields.__previous_value__;return Lc(e)?Mc(e):e}function jc(t){var e=Cc(t.mapValue.fields.__local_write_time__.timestampValue);return new wc(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return null==t}function Vc(t){return 0===t&&1/t==-1/0}function Uc(t){return"number"==typeof t&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(kc.fromString(e))},t.fromName=function(e){return new t(kc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===kc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return kc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new kc(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lc(t)?4:10:fc()}function $c(t,e){var n,r=Bc(t);if(r!==Bc(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Cc(t.timestampValue),r=Cc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Rc(t.bytesValue).isEqual(Rc(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Pc(t.geoPointValue.latitude)===Pc(e.geoPointValue.latitude)&&Pc(t.geoPointValue.longitude)===Pc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Pc(t.integerValue)===Pc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Pc(t.doubleValue),r=Pc(e.doubleValue);return n===r?Vc(n)===Vc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],$c);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ec(n)!==Ec(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$c(n[i],r[i])))return!1;return!0}(t,e);default:return fc()}}function Kc(t,e){return void 0!==(t.values||[]).find((function(t){return $c(t,e)}))}function zc(t,e){var n,r,i,o,a=Bc(t),s=Bc(e);if(a!==s)return gc(a,s);switch(a){case 0:return 0;case 1:return gc(t.booleanValue,e.booleanValue);case 2:return r=e,i=Pc((n=t).integerValue||n.doubleValue),o=Pc(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Wc(t.timestampValue,e.timestampValue);case 4:return Wc(jc(t),jc(e));case 5:return gc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Rc(t),r=Rc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gc(n[i],r[i]);if(0!==o)return o}return gc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=gc(Pc(t.latitude),Pc(e.latitude));return 0!==n?n:gc(Pc(t.longitude),Pc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=zc(n[i],r[i]);if(o)return o}return gc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=gc(r[a],o[a]);if(0!==s)return s;var u=zc(n[r[a]],i[o[a]]);if(0!==u)return u}return gc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw fc()}}function Wc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return gc(t,e);var n=Cc(t),r=Cc(e),i=gc(n.seconds,r.seconds);return 0!==i?i:gc(n.nanos,r.nanos)}function Gc(t){return Hc(t)}function Hc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=Cc(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Rc(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,qc.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Hc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Hc(t.fields[o])}return e+"}"}(t.mapValue):fc();var e,n,r,i}function Xc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Yc(t){return!!t&&"integerValue"in t}function Qc(t){return!!t&&"arrayValue"in t}function Jc(t){return!!t&&"nullValue"in t}function Zc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Nc.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return $c(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Bc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=th(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Nc.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!th(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function nh(t){var e=[];return Tc(t.fields||{},(function(t,n){var r=new Nc([t]);if(th(n)){var i=nh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Dc(e)}var rh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ic.min(),eh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,eh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,eh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=eh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=eh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ih=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ih(t,e,n,r,i,o,a)}function ah(t){var e=pc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+Gc(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bh(e.startAt)),e.endAt&&(n+="|ub:",n+=bh(e.endAt)),e.h=n}return e.h}function sh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ih(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!$c(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Th(t.startAt,e.startAt)&&Th(t.endAt,e.endAt)}function uh(t){return qc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return bn(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new hh(t,n,r):"array-contains"===n?new ph(t,r):"in"===n?new vh(t,r):"not-in"===n?new yh(t,r):"array-contains-any"===n?new gh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new lh(t,n):new fh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(zc(e,this.value)):null!==e&&Bc(this.value)===Bc(e)&&this.m(zc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=qc.fromName(r.referenceValue),i}return bn(e,t),e.prototype.matches=function(t){var e=qc.comparator(t.key,this.key);return this.m(e)},e}(ch),lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=dh("in",n),r}return bn(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ch),fh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=dh("not-in",n),r}return bn(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ch);function dh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return qc.fromName(t.referenceValue)}))}var ph=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return bn(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Qc(e)&&Kc(e.arrayValue,this.value)},e}(ch),vh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return bn(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Kc(this.value.arrayValue,e)},e}(ch),yh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return bn(e,t),e.prototype.matches=function(t){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Kc(this.value.arrayValue,e)},e}(ch),gh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return bn(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Kc(e.value.arrayValue,t)}))},e}(ch),mh=function(t,e){this.position=t,this.before=e};function bh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Gc(t)})).join(",")}var wh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ih(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Eh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?qc.comparator(qc.fromName(a.referenceValue),n.key):zc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Th(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$c(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _h=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Sh(t,e,n,r,i,o,a,s){return new _h(t,e,n,r,i,o,a,s)}function kh(t){return new _h(t)}function Ah(t){return!Fc(t.limit)&&"F"===t.limitType}function Nh(t){return!Fc(t.limit)&&"L"===t.limitType}function Dh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Oh(t){return null!==t.collectionGroup}function Ch(t){var e=pc(t);if(null===e.p){e.p=[];var n=xh(e),r=Dh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new wh(n)),e.p.push(new wh(Nc.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new wh(Nc.keyField(),u))}}}return e.p}function Ph(t){var e=pc(t);if(!e.T)if("F"===e.limitType)e.T=oh(e.path,e.collectionGroup,Ch(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ch(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new wh(o.field,a))}var s=e.endAt?new mh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new mh(e.startAt.position,!e.startAt.before):null;e.T=oh(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Rh(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return sh(Ph(t),Ph(e))&&t.limitType===e.limitType}function Mh(t){return ah(Ph(t))+"|lt:"+t.limitType}function jh(t){return"Query(target="+(e=Ph(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Gc(e.value);var e})).join(", ")+"]"),Fc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+bh(e.startAt)),e.endAt&&(n+=", endAt: "+bh(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Fh(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qc.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Eh(t.startAt,Ch(t),e)||t.endAt&&Eh(t.endAt,Ch(t),e))}(t,e);var n,r,i}function Vh(t){return function(e,n){for(var r=!1,i=0,o=Ch(t);i<o.length;i++){var a=o[i],s=Uh(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Uh(t,e,n){var r,i,o,a,s=t.field.isKeyField()?qc.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),a=i.data.field(r),null!==o&&null!==a?zc(o,a):fc());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return fc()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function Bh(t){return{integerValue:""+t}}function $h(t,e){return Uc(e)?Bh(e):qh(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kh=function(){this._=void 0};function zh(t,e,n){return t instanceof Hh?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Xh?Yh(t,e):t instanceof Qh?Jh(t,e):function(t,e){var n=Gh(t,e),r=tl(n)+tl(t.A);return Yc(n)&&Yc(t.A)?Bh(r):qh(t.R,r)}(t,e);var r,i,o}function Wh(t,e,n){return t instanceof Xh?Yh(t,e):t instanceof Qh?Jh(t,e):n}function Gh(t,e){return t instanceof Zh?Yc(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e}(Kh),Xh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bn(e,t),e}(Kh);function Yh(t,e){for(var n=el(e),r=function(t){n.some((function(e){return $c(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bn(e,t),e}(Kh);function Jh(t,e){for(var n=el(e),r=function(t){n=n.filter((function(e){return!$c(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return bn(e,t),e}(Kh);function tl(t){return Pc(t.integerValue||t.doubleValue)}function el(t){return Qc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl=function(t,e){this.field=t,this.transform=e},rl=function(t,e){this.version=t,this.transformResults=e},il=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ol(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var al=function(){};function sl(t,e,n){var r,i,o,a,s;t instanceof fl?(i=e,o=n,a=(r=t).value.clone(),s=vl(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):t instanceof dl?function(t,e,n){if(ol(t.precondition,e)){var r=vl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(pl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n){var r;t instanceof fl?function(t,e,n){if(ol(t.precondition,e)){var r=t.value.clone(),i=yl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ll(e),r).setHasLocalMutations()}}(t,e,n):t instanceof dl?function(t,e,n){if(ol(t.precondition,e)){var r=yl(t.fieldTransforms,n,e),i=e.data;i.setAll(pl(t)),i.setAll(r),e.convertToFoundDocument(ll(e),i).setHasLocalMutations()}}(t,e,n):(r=e,ol(t.precondition,r)&&r.convertToNoDocument(Ic.min()))}function cl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Gh(o.transform,a||null);null!=s&&(null==n&&(n=eh.empty()),n.set(o.field,s))}return n||null}function hl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&mc(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Xh&&o instanceof Xh||i instanceof Qh&&o instanceof Qh?mc(i.elements,o.elements,$c):i instanceof Zh&&o instanceof Zh?$c(i.A,o.A):i instanceof Hh&&o instanceof Hh);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ll(t){return t.isFoundDocument()?t.version:Ic.min()}var fl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return bn(e,t),e}(al),dl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return bn(e,t),e}(al);function pl(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function vl(t,e,n){var r=new Map;dc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Wh(a,s,n[i]))}return r}function yl(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,zh(s,u,e))}return r}var gl,ml,bl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return bn(e,t),e}(al),wl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return bn(e,t),e}(al),Il=function(t){this.count=t};function El(t){switch(t){case ic.OK:return fc();case ic.CANCELLED:case ic.UNKNOWN:case ic.DEADLINE_EXCEEDED:case ic.RESOURCE_EXHAUSTED:case ic.INTERNAL:case ic.UNAVAILABLE:case ic.UNAUTHENTICATED:return!1;case ic.INVALID_ARGUMENT:case ic.NOT_FOUND:case ic.ALREADY_EXISTS:case ic.PERMISSION_DENIED:case ic.FAILED_PRECONDITION:case ic.ABORTED:case ic.OUT_OF_RANGE:case ic.UNIMPLEMENTED:case ic.DATA_LOSS:return!0;default:return fc()}}function Tl(t){if(void 0===t)return cc("GRPC error has no .code"),ic.UNKNOWN;switch(t){case gl.OK:return ic.OK;case gl.CANCELLED:return ic.CANCELLED;case gl.UNKNOWN:return ic.UNKNOWN;case gl.DEADLINE_EXCEEDED:return ic.DEADLINE_EXCEEDED;case gl.RESOURCE_EXHAUSTED:return ic.RESOURCE_EXHAUSTED;case gl.INTERNAL:return ic.INTERNAL;case gl.UNAVAILABLE:return ic.UNAVAILABLE;case gl.UNAUTHENTICATED:return ic.UNAUTHENTICATED;case gl.INVALID_ARGUMENT:return ic.INVALID_ARGUMENT;case gl.NOT_FOUND:return ic.NOT_FOUND;case gl.ALREADY_EXISTS:return ic.ALREADY_EXISTS;case gl.PERMISSION_DENIED:return ic.PERMISSION_DENIED;case gl.FAILED_PRECONDITION:return ic.FAILED_PRECONDITION;case gl.ABORTED:return ic.ABORTED;case gl.OUT_OF_RANGE:return ic.OUT_OF_RANGE;case gl.UNIMPLEMENTED:return ic.UNIMPLEMENTED;case gl.DATA_LOSS:return ic.DATA_LOSS;default:return fc()}}(ml=gl||(gl={}))[ml.OK=0]="OK",ml[ml.CANCELLED=1]="CANCELLED",ml[ml.UNKNOWN=2]="UNKNOWN",ml[ml.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ml[ml.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ml[ml.NOT_FOUND=5]="NOT_FOUND",ml[ml.ALREADY_EXISTS=6]="ALREADY_EXISTS",ml[ml.PERMISSION_DENIED=7]="PERMISSION_DENIED",ml[ml.UNAUTHENTICATED=16]="UNAUTHENTICATED",ml[ml.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ml[ml.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ml[ml.ABORTED=10]="ABORTED",ml[ml.OUT_OF_RANGE=11]="OUT_OF_RANGE",ml[ml.UNIMPLEMENTED=12]="UNIMPLEMENTED",ml[ml.INTERNAL=13]="INTERNAL",ml[ml.UNAVAILABLE=14]="UNAVAILABLE",ml[ml.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _l=function(){function t(t,e){this.comparator=t,this.root=e||kl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Sl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Sl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Sl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Sl(this.root,t,this.comparator,!0)},t}(),Sl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),kl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw fc();if(this.right.isRed())throw fc();var t=this.left.check();if(t!==this.right.check())throw fc();return t+(this.isRed()?0:1)},t}();kl.EMPTY=null,kl.RED=!0,kl.BLACK=!1,kl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new kl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Al=function(){function t(t){this.comparator=t,this.data=new _l(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Nl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Nl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Nl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Dl=new _l(qc.comparator);function xl(){return Dl}var Ol=new _l(qc.comparator);function Cl(){return Ol}var Pl=new _l(qc.comparator);var Rl=new Al(qc.comparator);function Ll(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ml=new Al(gc);function jl(){return Ml}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ic.min(),r,jl(),xl(),Ll())},t}(),Vl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(xc.EMPTY_BYTE_STRING,n,Ll(),Ll(),Ll())},t}(),Ul=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ql=function(t,e){this.targetId=t,this.V=e},Bl=function(t,e,n,r){void 0===n&&(n=xc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},$l=function(){function t(){this.S=0,this.D=Wl(),this.C=xc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ll(),e=Ll(),n=Ll();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:fc()}})),new Vl(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Wl()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Kl=function(){function t(t){this.W=t,this.G=new Map,this.H=xl(),this.J=zl(),this.Y=new Al(gc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:fc()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(uh(i))if(0===n){var o=new qc(i.path);this.tt(e,o,rh.newNoDocument(o,Ic.min()))}else dc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&uh(o.target)){var a=new qc(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,rh.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ll();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Fl(t,n,this.Y,this.H,r);return this.H=xl(),this.J=zl(),this.Y=new Al(gc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new $l,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Al(gc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||uc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new $l),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function zl(){return new _l(qc.comparator)}function Wl(){return new _l(qc.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl={asc:"ASCENDING",desc:"DESCENDING"},Hl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xl=function(t,e){this.databaseId=t,this.I=e};function Yl(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ql(t,e){return t.I?e.toBase64():e.toUint8Array()}function Jl(t,e){return Yl(t,e.toTimestamp())}function Zl(t){return dc(!!t),Ic.fromTimestamp((e=Cc(t),new wc(e.seconds,e.nanos)));var e}function tf(t,e){return(n=t,new kc(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ef(t){var e=kc.fromString(t);return dc(Sf(e)),e}function nf(t,e){return tf(t.databaseId,e.path)}function rf(t,e){var n=ef(e);if(n.get(1)!==t.databaseId.projectId)throw new oc(ic.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oc(ic.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qc(uf(n))}function of(t,e){return tf(t.databaseId,e)}function af(t){var e=ef(t);return 4===e.length?kc.emptyPath():uf(e)}function sf(t){return new kc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uf(t){return dc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cf(t,e,n){return{name:nf(t,e),fields:n.toProto().mapValue.fields}}function hf(t,e){var n,r,i;if(e instanceof fl)n={update:cf(t,e.key,e.value)};else if(e instanceof bl)n={delete:nf(t,e.key)};else if(e instanceof dl)n={update:cf(t,e.key,e.data),updateMask:_f(e.fieldMask)};else{if(!(e instanceof wl))return fc();n={verify:nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Hh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw fc()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:Jl(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:fc())),n}function lf(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?il.updateTime(Zl(n.updateTime)):void 0!==n.exists?il.exists(n.exists):il.none():il.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)dc("REQUEST_TIME"===e.setToServerValue),n=new Hh;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Xh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Qh(i)}else"increment"in e?n=new Zh(t,e.increment):fc();var o=Nc.fromServerFormat(e.fieldPath);return new nl(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=rf(t,e.update.name),a=new eh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Dc(e.map((function(t){return Nc.fromServerFormat(t)})))}(e.updateMask);return new dl(o,a,s,r,i)}return new fl(o,a,r,i)}if(e.delete){var u=rf(t,e.delete);return new bl(u,r)}if(e.verify){var c=rf(t,e.verify);return new wl(c,r)}return fc()}function ff(t,e){return{documents:[of(t,e.path)]}}function df(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=of(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=of(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Zc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NAN"}};if(Jc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Zc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NOT_NAN"}};if(Jc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(t.field),op:bf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:wf((e=t).field),direction:mf(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=t,s=e.limit,a.I||Fc(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=yf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yf(e.endAt)),n}function pf(t){var e=af(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){dc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=vf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return new wh(If((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,h=null;n.limit&&(u=n.limit,h=Fc(c="object"==typeof u?u.value:u)?null:c);var l=null;n.startAt&&(l=gf(n.startAt));var f=null;return n.endAt&&(f=gf(n.endAt)),Sh(e,i,s,a,h,"F",l,f)}function vf(t){return t?void 0!==t.unaryFilter?[Tf(t)]:void 0!==t.fieldFilter?[Ef(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return vf(t)})).reduce((function(t,e){return t.concat(e)})):fc():[]}function yf(t){return{before:t.before,values:t.position}}function gf(t){var e=!!t.before,n=t.values||[];return new mh(n,e)}function mf(t){return Gl[t]}function bf(t){return Hl[t]}function wf(t){return{fieldPath:t.canonicalString()}}function If(t){return Nc.fromServerFormat(t.fieldPath)}function Ef(t){return ch.create(If(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Tf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=If(t.unaryFilter.field);return ch.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=If(t.unaryFilter.field);return ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=If(t.unaryFilter.field);return ch.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=If(t.unaryFilter.field);return ch.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fc()}}function _f(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Sf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Nf(e)),e=Af(t.get(n),e);return Nf(e)}function Af(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Nf(t){return t+""}function Df(t){var e=t.length;if(dc(e>=2),2===e)return dc(""===t.charAt(0)&&""===t.charAt(1)),kc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&fc(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:fc()}o=a+2}return new kc(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(t,e){this.seconds=t,this.nanoseconds=e},Of=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Of.store="owner",Of.key="owner";var Cf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cf.store="mutationQueues",Cf.keyPath="userId";var Pf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Pf.store="mutations",Pf.keyPath="batchId",Pf.userMutationsIndex="userMutationsIndex",Pf.userMutationsKeyPath=["userId","batchId"];var Rf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,kf(e)]},t.key=function(t,e,n){return[t,kf(e),n]},t}();Rf.store="documentMutations",Rf.PLACEHOLDER=new Rf;var Lf=function(t,e){this.path=t,this.readTime=e},Mf=function(t,e){this.path=t,this.version=e},jf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jf.store="remoteDocuments",jf.readTimeIndex="readTimeIndex",jf.readTimeIndexPath="readTime",jf.collectionReadTimeIndex="collectionReadTimeIndex",jf.collectionReadTimeIndexPath=["parentPath","readTime"];var Ff=function(t){this.byteSize=t};Ff.store="remoteDocumentGlobal",Ff.key="remoteDocumentGlobalKey";var Vf=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Vf.store="targets",Vf.keyPath="targetId",Vf.queryTargetsIndexName="queryTargetsIndex",Vf.queryTargetsKeyPath=["canonicalId","targetId"];var Uf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Uf.store="targetDocuments",Uf.keyPath=["targetId","path"],Uf.documentTargetsIndex="documentTargetsIndex",Uf.documentTargetsKeyPath=["path","targetId"];var qf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qf.key="targetGlobalKey",qf.store="targetGlobal";var Bf=function(t,e){this.collectionId=t,this.parent=e};Bf.store="collectionParents",Bf.keyPath=["collectionId","parent"];var $f=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$f.store="clientMetadata",$f.keyPath="clientId";var Kf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Kf.store="bundles",Kf.keyPath="bundleId";var zf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};zf.store="namedQueries",zf.keyPath="name";var Wf=Sn(Sn([],Sn(Sn([],Sn(Sn([],Sn(Sn([],[Cf.store,Pf.store,Rf.store,jf.store,Vf.store,Of.store,qf.store,Uf.store]),[$f.store])),[Ff.store])),[Bf.store])),[Kf.store,zf.store]),Gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Xf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Yf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&fc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Qf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Xf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new td(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=od(e.target.error);n.ft.reject(new td(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new td(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(uc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new nd(e)},t}(),Jf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Dn())&&cc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return uc("SimpleDb","Removing database:",t),rd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Dn(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return In(this,void 0,void 0,(function(){var e,n=this;return En(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(uc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new td(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new oc(ic.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new td(t,n))},i.onupgradeneeded=function(t){uc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){uc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o,a,s,u;return En(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return En(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=l.sent(),e=Qf.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Yf.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,uc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Zf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return rd(this.Pt.delete())},t}(),td=function(t){function e(e,n){var r=this;return(r=t.call(this,ic.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return bn(e,t),e}(oc);function ed(t){return"IndexedDbTransactionError"===t.name}var nd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(uc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(uc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rd(n)},t.prototype.add=function(t){return uc("SimpleDb","ADD",this.store.name,t,t),rd(this.store.add(t))},t.prototype.get=function(t){var e=this;return rd(this.store.get(t)).next((function(n){return void 0===n&&(n=null),uc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return uc("SimpleDb","DELETE",this.store.name,t),rd(this.store.delete(t))},t.prototype.count=function(){return uc("SimpleDb","COUNT",this.store.name),rd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){uc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Yf((function(n,r){e.onerror=function(t){var e=od(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Yf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Zf(i),a=e(i.primaryKey,i.value,o);if(a instanceof Yf){var s=a.catch((function(t){return o.done(),Yf.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Yf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rd(t){return new Yf((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=od(t.target.error);n(e)}}))}var id=!1;function od(t){var e=Jf._t(Dn());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new oc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return id||(id=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return bn(e,t),e}(Hf);function sd(t,e){var n=pc(t);return Jf.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ud=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&sl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ul(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ul(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ic.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ll())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&mc(this.mutations,t.mutations,(function(t,e){return hl(t,e)}))&&mc(this.baseMutations,t.baseMutations,(function(t,e){return hl(t,e)}))},t}(),cd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){dc(e.mutations.length===r.length);for(var i=Pl,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),hd=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ic.min()),void 0===o&&(o=Ic.min()),void 0===a&&(a=xc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ld=function(t){this.Lt=t};function fd(t,e){if(e.document)return function(t,e,n){var r=rf(t,e.name),i=Zl(e.updateTime),o=new eh({mapValue:{fields:e.fields}}),a=rh.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=qc.fromSegments(e.noDocument.path),r=gd(e.noDocument.readTime),i=rh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=qc.fromSegments(e.unknownDocument.path);return r=gd(e.unknownDocument.version),rh.newUnknownDocument(o,r)}return fc()}function dd(t,e,n){var r,i,o=pd(n),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s={name:nf(r=t.Lt,(i=e).key),fields:i.data.toProto().mapValue.fields,updateTime:Yl(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new jf(null,null,s,u,o,a)}if(e.isNoDocument()){var c=e.key.path.toArray(),h=yd(e.version);return u=e.hasCommittedMutations,new jf(null,new Lf(c,h),null,u,o,a)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),f=yd(e.version);return new jf(new Mf(l,f),null,null,!0,o,a)}return fc()}function pd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vd(t){var e=new wc(t[0],t[1]);return Ic.fromTimestamp(e)}function yd(t){var e=t.toTimestamp();return new xf(e.seconds,e.nanoseconds)}function gd(t){var e=new wc(t.seconds,t.nanoseconds);return Ic.fromTimestamp(e)}function md(t,e){for(var n=(e.baseMutations||[]).map((function(e){return lf(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return lf(t.Lt,e)})),s=wc.fromMillis(e.localWriteTimeMs);return new ud(e.batchId,s,n,a)}function bd(t){var e,n,r=gd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?gd(t.lastLimboFreeSnapshotVersion):Ic.min();return void 0!==t.query.documents?(dc(1===(n=t.query).documents.length),e=Ph(kh(af(n.documents[0])))):e=Ph(pf(t.query)),new hd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,xc.fromBase64String(t.resumeToken))}function wd(t,e){var n,r=yd(e.snapshotVersion),i=yd(e.lastLimboFreeSnapshotVersion);n=uh(e.target)?ff(t.Lt,e.target):df(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Vf(e.targetId,ah(e.target),r,o,e.sequenceNumber,i,n)}function Id(t){var e=pf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rh(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Td(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:gd(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Td(t).put({bundleId:(n=e).id,createTime:yd(Zl(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return _d(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Id(e.bundledQuery),readTime:gd(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return _d(t).put({name:(n=e).name,readTime:yd(Zl(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Td(t){return sd(t,Kf.store)}function _d(t){return sd(t,zf.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sd=function(){function t(){this.Bt=new kd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Yf.resolve()},t.prototype.getCollectionParents=function(t,e){return Yf.resolve(this.Bt.getEntries(e))},t}(),kd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Al(kc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Al(kc.comparator)).toArray()},t}(),Ad=function(){function t(){this.qt=new kd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:kf(i)};return Nd(t).put(o)}return Yf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[bc(e),""],!1,!0);return Nd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Df(o.parent))}return n}))},t}();function Nd(t){return sd(t,Bf.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){var r=t.store(Pf.store),i=t.store(Rf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){dc(1===s)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=Rf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yf.waitFor(o).next((function(){return c}))}function Cd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fc();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xd.DEFAULT_COLLECTION_PERCENTILE=10,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xd.DEFAULT=new xd(41943040,xd.DEFAULT_COLLECTION_PERCENTILE,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xd.DISABLED=new xd(-1,0,0);var Pd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return dc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).Ot({index:Pf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Md(t),a=Ld(t);return a.add({}).next((function(s){dc("number"==typeof s);for(var u=new ud(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return hf(t.Lt,e)})),i=n.mutations.map((function(e){return hf(t.Lt,e)}));return new Pf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Al((function(t,e){return gc(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Rf.key(i.userId,p.key.path,s);l=l.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(v,Rf.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Yf.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ld(t).get(e).next((function(t){return t?(dc(t.userId===n.userId),md(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Yf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ld(t).Ot({index:Pf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(dc(e.batchId>=r),o=md(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ld(t).Ot({index:Pf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).Nt(Pf.userMutationsIndex,n).next((function(t){return t.map((function(t){return md(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Rf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Md(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=Df(u);if(s===n.userId&&e.path.isEqual(h))return Ld(t).get(c).next((function(t){if(!t)throw fc();dc(t.userId===n.userId),o.push(md(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Al(gc),i=[];return e.forEach((function(e){var o=Rf.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Md(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Df(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Yf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Rf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Al(gc);return Md(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=Df(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ld(t).get(e).next((function(t){if(null===t)throw fc();dc(t.userId===n.userId),r.push(md(n.R,t))})))})),Yf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Od(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Yf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Yf.resolve();var r=IDBKeyRange.lowerBound(Rf.prefixForUser(e.userId)),i=[];return Md(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Df(t[1]);i.push(o)}else r.done()})).next((function(){dc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Rd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jd(t).get(this.userId).next((function(t){return t||new Cf(e.userId,-1,"")}))},t}();function Rd(t,e,n){var r=Rf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Md(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ld(t){return sd(t,Pf.store)}function Md(t){return sd(t,Rf.store)}function jd(t){return sd(t,Cf.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Vd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Fd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Ic.fromTimestamp(new wc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Ud(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return dc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Ud(t).Ot((function(a,s){var u=bd(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Yf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Ud(t).Ot((function(t,n){var r=bd(n);e(r)}))},t.prototype.Xt=function(t){return qd(t).get(qf.key).next((function(t){return dc(null!==t),t}))},t.prototype.Zt=function(t,e){return qd(t).put(qf.key,e)},t.prototype.te=function(t,e){return Ud(t).put(wd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=ah(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ud(t).Ot({range:r,index:Vf.queryTargetsIndexName},(function(t,n,r){var o=bd(n);sh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Bd(t);return e.forEach((function(e){var a=kf(e.path);i.push(o.put(new Uf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Yf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Bd(t);return Yf.forEach(e,(function(e){var o=kf(e.path);return Yf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Bd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bd(t),i=Ll();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Df(t[1]),o=new qc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=kf(e.path),r=IDBKeyRange.bound([n],[bc(n)],!1,!0),i=0;return Bd(t).Ot({index:Uf.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Ud(t).get(e).next((function(t){return t?bd(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return sd(t,Vf.store)}function qd(t){return sd(t,qf.store)}function Bd(t){return sd(t,Uf.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){if(t.code!==ic.FAILED_PRECONDITION||t.message!==Gf)throw t;return uc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=gc(n,i);return 0===a?gc(r,o):a}var zd=function(){function t(t){this.ne=t,this.buffer=new Al(Kd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;uc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return In(e,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ed(e=n.sent())?(uc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$d(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Gd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Yf.resolve(rc.o);var r=new zd(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(uc("LruGarbageCollector","Garbage collection skipped; disabled"),Yf.resolve(Dd)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(uc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Dd):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(uc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),sc()<=Yn.DEBUG&&uc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),Yf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Hd=function(){function t(t,e){this.db=t,this.garbageCollector=new Gd(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Xd(t,n)},t.prototype.removeReference=function(t,e,n){return Xd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Xd(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,jd(n=t).$t((function(t){return Rd(n,t,r).next((function(t){return t&&(i=!0),Yf.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Bd(t).delete([0,kf(a.path)])}))}));i.push(u)}})).next((function(){return Yf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Xd(t,e)},t.prototype.we=function(t,e){var n,r=Bd(t),i=rc.o;return r.Ot({index:Uf.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==rc.o&&e(new qc(Df(n)),i),i=s,n=a):i=rc.o})).next((function(){i!==rc.o&&e(new qc(Df(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Xd(t,e){return Bd(t).put((n=e,r=t.currentSequenceNumber,new Uf(0,kf(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Tc(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return _c(this.inner)},t}(),Qd=function(){function t(){this.changes=new Yd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ic.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:rh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Yf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Jd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ep(t).put(np(e),n)},t.prototype.removeEntry=function(t,e){var n=ep(t),r=np(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return ep(t).get(np(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return ep(t).get(np(e)).next((function(t){return{document:n.ye(e,t),size:Cd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=xl();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=xl(),i=new _l(qc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Cd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Yf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ep(t).Ot({range:r},(function(t,e,r){for(var a=qc.fromSegments(t);o&&qc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=xl(),o=e.path.length+1,a={};if(n.isEqual(Ic.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=pd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=jf.collectionReadTimeIndex}return ep(t).Ot(a,(function(t,n,a){if(t.length===o){var s=fd(r.R,n);e.path.isPrefixOf(s.key.path)?Fh(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Zd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tp(t).get(Ff.key).next((function(t){return dc(!!t),t}))},t.prototype.me=function(t,e){return tp(t).put(Ff.key,e)},t.prototype.ye=function(t,e){if(e){var n=fd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ic.min()))return n}return rh.newInvalidDocument(t)},t}(),Zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Yd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return bn(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Al((function(t,e){return gc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=dd(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Cd(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=dd(e.Ie.R,rh.newNoDocument(o,Ic.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Yf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Qd);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return sd(t,Ff.store)}function ep(t){return sd(t,jf.store)}function np(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;dc(n<r&&n>=0&&r<=11);var o=new Qf("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(Of.store),function(t){t.createObjectStore(Cf.store,{keyPath:Cf.keyPath}),t.createObjectStore(Pf.store,{keyPath:Pf.keyPath,autoIncrement:!0}).createIndex(Pf.userMutationsIndex,Pf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Rf.store)}(t),ip(t),function(t){t.createObjectStore(jf.store)}(t));var a=Yf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Uf.store),t.deleteObjectStore(Vf.store),t.deleteObjectStore(qf.store)}(t),ip(t)),a=a.next((function(){return function(t){var e=t.store(qf.store),n=new qf(0,0,Ic.min().toTimestamp(),0);return e.put(qf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Pf.store).Nt().next((function(n){t.deleteObjectStore(Pf.store),t.createObjectStore(Pf.store,{keyPath:Pf.keyPath,autoIncrement:!0}).createIndex(Pf.userMutationsIndex,Pf.userMutationsKeyPath,{unique:!0});var r=e.store(Pf.store),i=n.map((function(t){return r.put(t)}));return Yf.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore($f.store,{keyPath:$f.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ff.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jf.store);e.createIndex(jf.readTimeIndex,jf.readTimeIndexPath,{unique:!1}),e.createIndex(jf.collectionReadTimeIndex,jf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath})}(t),function(t){t.createObjectStore(zf.store,{keyPath:zf.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(jf.store).Ot((function(t,n){e+=Cd(n)})).next((function(){var n=new Ff(e);return t.store(Ff.store).put(Ff.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Cf.store),r=t.store(Pf.store);return n.Nt().next((function(n){return Yf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Pf.userMutationsIndex,i).next((function(r){return Yf.forEach(r,(function(r){dc(r.userId===n.userId);var i=md(e.R,r);return Od(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Uf.store),n=t.store(jf.store);return t.store(qf.store).get(qf.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new kc(n),a=[0,kf(o)];r.push(e.get(a).next((function(n){return n?Yf.resolve():(r=o,e.put(new Uf(0,kf(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Yf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Bf.store,{keyPath:Bf.keyPath});var n=e.store(Bf.store),r=new kd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:kf(i)})}};return e.store(jf.store).Ot({kt:!0},(function(t,e){var n=new kc(t);return i(n.popLast())})).next((function(){return e.store(Rf.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Df(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Vf.store);return n.Ot((function(t,r){var i=bd(r),o=wd(e.R,i);return n.put(o)}))},t}();function ip(t){t.createObjectStore(Uf.store,{keyPath:Uf.keyPath}).createIndex(Uf.documentTargetsIndex,Uf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vf.store,{keyPath:Vf.keyPath}).createIndex(Vf.queryTargetsIndexName,Vf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qf.store)}var op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ap=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new oc(ic.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var l,f;this.referenceDelegate=new Hd(this,i),this.Le=n+"main",this.R=new ld(u),this.Be=new Jf(this.Le,11,new rp(this.R)),this.qe=new Vd(this.referenceDelegate,this.R),this.Ut=new Ad,this.Ue=(l=this.R,f=this.Ut,new Jd(l,f)),this.Qe=new Ed,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&cc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new oc(ic.FAILED_PRECONDITION,op);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new rc(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return In(e,void 0,void 0,(function(){return En(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return In(e,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return In(e,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return up(e).put(new $f(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(ed(e))return uc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return uc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return sp(t).get(Of.key).next((function(t){return Yf.resolve(e.tn(t))}))},t.prototype.en=function(t){return up(t).delete(this.clientId)},t.prototype.nn=function(){return In(this,void 0,void 0,(function(){var t,e,n,r,i=this;return En(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=sd(t,$f.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Yf.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Yf.resolve(!0):sp(t).get(Of.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new oc(ic.FAILED_PRECONDITION,op);return!1}}return!(!e.networkEnabled||!e.inForeground)||up(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&uc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return In(this,void 0,void 0,(function(){var t=this;return En(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Of.store,$f.store],(function(e){var n=new ad(e,rc.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return up(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Pd.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;uc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Wf,(function(o){return i=new ad(o,r.Ne?r.Ne.next():rc.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw cc("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new oc(ic.FAILED_PRECONDITION,Gf);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return sp(t).get(Of.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new oc(ic.FAILED_PRECONDITION,op)}))},t.prototype.Ze=function(t){var e=new Of(this.clientId,this.allowTabSynchronization,Date.now());return sp(t).put(Of.key,e)},t.yt=function(){return Jf.yt()},t.prototype.Xe=function(t){var e=this,n=sp(t);return n.get(Of.key).next((function(t){return e.tn(t)?(uc("IndexedDbPersistence","Releasing primary lease."),n.delete(Of.key)):Yf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(cc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return uc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return cc("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){cc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function sp(t){return sd(t,Of.store)}function up(t){return sd(t,$f.store)}function cp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,qc.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Oh(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new qc(e)).next((function(t){var e=Cl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Cl();return this.Ut.getCollectionParents(t,i).next((function(a){return Yf.forEach(a,(function(a){var s,u,c=(s=e,u=a.child(i),new _h(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=rh.newInvalidDocument(c),r=r.insert(c,h)),ul(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Fh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ll(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof dl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),lp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ll(),i=Ll(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),fp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Ic.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var a=o.Cn(e,i);return(Ah(e)||Nh(e))&&o.Nn(e.limitType,a,r,n)?o.Dn(t,e):(sc()<=Yn.DEBUG&&uc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jh(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Al(Vh(t));return e.forEach((function(e,r){Fh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return sc()<=Yn.DEBUG&&uc("QueryEngine","Using full collection scan to execute query:",jh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ic.min())},t}(),dp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new _l(gc),this.kn=new Yd((function(t){return ah(t)}),sh),this.On=Ic.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new hp(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e,n,r){return new dp(t,e,n,r)}function vp(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o;return En(this,(function(a){switch(a.label){case 0:return n=pc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new hp(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Ll(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function yp(t,e){var n=pc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,h=e.batch.keys(),l=n.$n.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,a=l,s=o.batch,u=s.keys(),c=Yf.resolve(),u.forEach((function(t){c=c.next((function(){return a.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);dc(null!==n),e.version.compareTo(n)<0&&(s.applyToRemoteDocument(e,o),e.isValidDocument()&&a.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)}))).next((function(){return l.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,h)}))}))}function gp(t){var e=pc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function mp(t,e){var n=pc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s,u,c,h=i.get(o);if(h){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var l=e.resumeToken;if(l.approximateByteSize()>0){var f=h.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),s=h,c=e,dc((u=f).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.qe.updateTargetData(t,f))}}}));var s=xl();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=Ll();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=xl();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ic.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):uc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Ic.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Yf.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function bp(t,e){var n=pc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function wp(t,e){var n=pc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Yf.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new hd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Ip(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a;return En(this,(function(s){switch(s.label){case 0:r=pc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ed(a=s.sent()))throw a;return uc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Ep(t,e,n){var r=pc(t),i=Ic.min(),o=Ll();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(a=r,s=t,u=Ph(e),c=pc(a),h=c.kn.get(u),void 0!==h?Yf.resolve(c.Fn.get(h)):c.qe.getTargetData(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ic.min(),n?o:Ll())})).next((function(t){return{documents:t,Bn:o}}));var a,s,u,c,h}))}function Tp(t,e){var n=pc(t),r=pc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function _p(t){var e=pc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.$n,r=t,i=e.On,o=pc(n),a=xl(),s=pd(i),u=ep(r),c=IDBKeyRange.lowerBound(s,!0),u.Ot({index:jf.readTimeIndex,range:c},(function(t,e){var n=fd(o.R,e);a=a.insert(n.key,n),s=e.readTime})).next((function(){return{wn:a,readTime:vd(s)}}));var n,r,i,o,a,s,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Sp(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){return[2,(e=pc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=ep(t),n=Ic.min(),e.Ot({index:jf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=vd(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.On=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Yf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Zl(n.createTime)}),Yf.resolve()},t.prototype.getNamedQuery=function(t,e){return Yf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Id(n.bundledQuery),readTime:Zl(n.readTime)}),Yf.resolve();var n},t}(),Ap=function(){function t(){this.Wn=new Al(Np.Gn),this.zn=new Al(Np.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Np(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Np(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new qc(new kc([])),r=new Np(n,t),i=new Np(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new qc(new kc([])),n=new Np(e,t),r=new Np(e,t+1),i=Ll();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Np(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Np=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return qc.comparator(t.key,e.key)||gc(t.ns,e.ns)},t.Hn=function(t,e){return gc(t.ns,e.ns)||qc.comparator(t.key,e.key)},t}(),Dp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Al(Np.Gn)}return t.prototype.checkEmpty=function(t){return Yf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ud(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Np(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Yf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Yf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Yf.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Yf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Yf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Np(e,0),i=new Np(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Yf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Al(gc);return e.forEach((function(t){var e=new Np(t,0),i=new Np(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Yf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;qc.isDocumentKey(i)||(i=i.child(""));var o=new Np(new qc(i),0),a=new Al(gc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Yf.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;dc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Yf.forEach(e.mutations,(function(i){var o=new Np(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Np(e,0),r=this.rs.firstAfterOrEqual(n);return Yf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Yf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new _l(qc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Yf.resolve(n?n.document.clone():rh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=xl();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():rh.newInvalidDocument(t))})),Yf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=xl(),i=new qc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||Fh(e,c)&&(r=r.insert(c.key,c.clone()))}return Yf.resolve(r)},t.prototype.fs=function(t,e){return Yf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Op(this)},t.prototype.getSize=function(t){return Yf.resolve(this.size)},t}(),Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return bn(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Yf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Qd),Cp=function(){function t(t){this.persistence=t,this.ds=new Yd((function(t){return ah(t)}),sh),this.lastRemoteSnapshotVersion=Ic.min(),this.highestTargetId=0,this.ws=0,this._s=new Ap,this.targetCount=0,this.ys=Fd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Yf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Yf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Yf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Yf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Yf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Fd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Yf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Yf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Yf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Yf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Yf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Yf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Yf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Yf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Yf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Yf.resolve(n)},t.prototype.containsKey=function(t,e){return Yf.resolve(this._s.containsKey(e))},t}(),Pp=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new rc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Cp(this),this.Ut=new Sd,this.Ue=(n=this.Ut,new xp(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new ld(e),this.Qe=new kp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Dp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;uc("MemoryPersistence","Starting transaction:",t);var i=new Rp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Yf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return bn(e,t),e}(Hf),Lp=function(){function t(t){this.persistence=t,this.As=new Ap,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw fc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Yf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Yf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Yf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yf.forEach(this.vs,(function(r){var i=qc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Yf.or([function(){return Yf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Mp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){return"firestore_clients_"+t+"_"+e}function Fp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Vp(t,e){return"firestore_targets_"+t+"_"+e}Mp.UNAUTHENTICATED=new Mp(null),Mp.GOOGLE_CREDENTIALS=new Mp("google-credentials-uid"),Mp.FIRST_PARTY=new Mp("first-party-uid");var Up=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new oc(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(cc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new oc(i.error.code,i.error.message)),o?new t(e,i.state,r):(cc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jl(),a=0;i&&a<r.activeTargetIds.length;++a)i=Uc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(cc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$p=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(cc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Kp=function(){function t(){this.activeTargetIds=jl()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new _l(gc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=jp(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Kp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return In(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,h,l=this;return En(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(jp(this.persistenceKey,r)))&&(o=Bp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vp(this.persistenceKey,t));if(n){var r=qp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return uc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){uc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){uc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(uc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void cc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return In(e,void 0,void 0,(function(){var t,e,r,i,o,a;return En(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=rc.o;if(null!=t)try{var n=JSON.parse(t);dc("number"==typeof n),e=n}catch(r){cc("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==rc.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Up(this.currentUser,t,e,n),i=Fp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Fp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Vp(this.persistenceKey,t),i=new qp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Bp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Up.Vs(new Mp(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return qp.Vs(r,e)},t.prototype.js=function(t){return $p.Vs(t)},t.prototype.ii=function(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(uc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=jl();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Wp=function(){function t(){this.li=new Kp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Kp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Gp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Hp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){uc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){uc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return bn(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new nc;a.listenOnce(Qu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Yu.NO_ERROR:var e=a.getResponseJson();uc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Yu.TIMEOUT:uc("Connection",'RPC "'+t+'" timed out'),o(new oc(ic.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:var n=a.getStatus();if(uc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(ic).indexOf(c)>=0?c:ic.UNKNOWN);o(new oc(s,r.message))}else o(new oc(ic.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new oc(ic.UNAVAILABLE,"Connection failed."));break;default:fc()}}finally{uc("Connection",'RPC "'+t+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new zu,o=Ga(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())||"object"==typeof navigator&&"ReactNative"===navigator.product||Dn().indexOf("Electron/")>=0||((n=Dn()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Dn().indexOf("MSAppHost/")>=0||On()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");uc("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,h=!1,l=new Yp({Ei:function(t){h?uc("Connection","Not sending because WebChannel is closed:",t):(c||(uc("Connection","Opening WebChannel transport."),u.open(),c=!0),uc("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,ec.EventType.OPEN,(function(){h||uc("Connection","WebChannel transport opened.")})),f(u,ec.EventType.CLOSE,(function(){h||(h=!0,uc("Connection","WebChannel transport closed"),l.Vi())})),f(u,ec.EventType.ERROR,(function(t){h||(h=!0,hc("Connection","WebChannel transport errored:",t),l.Vi(new oc(ic.UNAVAILABLE,"The operation could not be completed")))})),f(u,ec.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];dc(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){uc("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=gl[t];if(void 0!==e)return Tl(e)}(o),s=i.message;void 0===a&&(a=ic.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new oc(a,s)),u.close()}else uc("Connection","WebChannel received:",n),l.Si(n)}})),f(o,Ju.STAT_EVENT,(function(t){t.stat===Zu?uc("Connection","Detected buffering proxy"):t.stat===tc&&uc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);uc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return uc("RestConnection","Received: ",t),t}),(function(e){throw hc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Xp[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){return"undefined"!=typeof window?window:null}function Zp(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){return new Xl(t,!0)}var ev=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&uc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),nv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ev(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return In(this,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return In(this,void 0,void 0,(function(){return En(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return In(this,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ic.RESOURCE_EXHAUSTED?(cc(e.toString()),cc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ic.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new oc(ic.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return In(t,void 0,void 0,(function(){return En(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return uc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(uc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),rv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return bn(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:fc(),o=e.targetChange.targetIds||[],a=function(t,e){return t.I?(dc(void 0===e||"string"==typeof e),xc.fromBase64String(e||"")):(dc(void 0===e||e instanceof Uint8Array),xc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?ic.UNKNOWN:Tl(t.code);return new oc(e,t.message||"")}(u);n=new Bl(i,o,a,s||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=rf(t,i.document.name),a=Zl(i.document.updateTime);var u=new eh({mapValue:{fields:i.document.fields}}),c=(s=rh.newFoundDocument(o,a,u),i.targetIds||[]),h=i.removedTargetIds||[];n=new Ul(c,h,s.key,s)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=rf(t,i.document),a=i.readTime?Zl(i.readTime):Ic.min(),u=rh.newNoDocument(o,a),s=i.removedTargetIds||[],n=new Ul([],s,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=rf(t,i.document),a=i.removedTargetIds||[],n=new Ul([],a,o,null);else{if(!("filter"in e))return fc();e.filter;var l=e.filter;l.targetId,i=l.count||0,o=new Il(i),a=l.targetId,n=new ql(a,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ic.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ic.min():e.readTime?Zl(e.readTime):Ic.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=sf(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=uh(i)?{documents:ff(e,i)}:{query:df(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=Ql(e,n.resumeToken):n.snapshotVersion.compareTo(Ic.min())>0&&(r.readTime=Yl(e,n.snapshotVersion.toTimestamp())),r);var a=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);a&&(o.labels=a),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=sf(this.R),e.removeTarget=t,this.cr(e)},e}(nv),iv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return bn(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(dc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(dc(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?Zl(e.updateTime):Zl(n)).isEqual(Ic.min())&&(r=Zl(n)),new rl(r,e.transformResults||[]);var e,n,r}))):[]),n=Zl(t.commitTime);return this.listener.Tr(n,e)}var r,i;return dc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=sf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return hf(e.R,t)}))};this.cr(n)},e}(nv),ov=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return bn(e,t),e.prototype.br=function(){if(this.Rr)throw new oc(ic.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ic.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new oc(ic.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ic.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new oc(ic.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),av=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(cc(e),this.Vr=!1):uc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return In(o,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return yv(this)?(uc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return(e=pc(t)).$r.add(4),[4,cv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,uv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new av(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return In(this,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:if(!yv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function cv(t){return In(this,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function hv(t,e){var n=pc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),vv(n)?pv(n):Ov(n).er()&&fv(n,e))}function lv(t,e){var n=pc(t),r=Ov(n);n.Or.delete(e),r.er()&&dv(n,e),0===n.Or.size&&(r.er()?r.ir():yv(n)&&n.Br.set("Unknown"))}function fv(t,e){t.qr.U(e.targetId),Ov(t).mr(e)}function dv(t,e){t.qr.U(e),Ov(t).yr(e)}function pv(t){t.qr=new Kl({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Ov(t).start(),t.Br.Sr()}function vv(t){return yv(t)&&!Ov(t).tr()&&t.Or.size>0}function yv(t){return 0===pc(t).$r.size}function gv(t){t.qr=void 0}function mv(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){return t.Or.forEach((function(e,n){fv(t,e)})),[2]}))}))}function bv(t,e){return In(this,void 0,void 0,(function(){return En(this,(function(n){return gv(t),vv(t)?(t.Br.Nr(e),pv(t)):t.Br.set("Unknown"),[2]}))}))}function wv(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o;return En(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Bl&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o;return En(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),uc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Iv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ul?t.qr.X(e):e instanceof ql?t.qr.rt(e):t.qr.et(e),n.isEqual(Ic.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gp(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=t,u=n,c=s.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=s.Or.get(e);n&&s.Or.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=s.Or.get(t);if(e){s.Or.set(t,e.withResumeToken(xc.EMPTY_BYTE_STRING,e.snapshotVersion)),dv(s,t);var n=new hd(e.target,t,1,e.sequenceNumber);fv(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return uc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Iv(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function Iv(t,e,n){return In(this,void 0,void 0,(function(){var r=this;return En(this,(function(i){switch(i.label){case 0:if(!ed(e))throw e;return t.$r.add(1),[4,cv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return gp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return In(r,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return uc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,uv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ev(t,e){return e().catch((function(n){return Iv(t,n,e)}))}function Tv(t){return In(this,void 0,void 0,(function(){var e,n,r,i,o;return En(this,(function(a){switch(a.label){case 0:e=pc(t),n=Cv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!(yv(s=e)&&s.kr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,bp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Cv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Iv(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return _v(e)&&Sv(e),[2]}var s}))}))}function _v(t){return yv(t)&&!Cv(t).tr()&&t.kr.length>0}function Sv(t){Cv(t).start()}function kv(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){return Cv(t).Ar(),[2]}))}))}function Av(t){return In(this,void 0,void 0,(function(){var e,n,r,i;return En(this,(function(o){for(e=Cv(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Nv(t,e,n){return In(this,void 0,void 0,(function(){var r,i;return En(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=cd.from(r,e,n),[4,Ev(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Tv(t)];case 2:return o.sent(),[2]}}))}))}function Dv(t,e){return In(this,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return e&&Cv(t).pr?[4,function(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return El(r=e.code)&&r!==ic.ABORTED?(n=t.kr.shift(),Cv(t).sr(),[4,Ev(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Tv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _v(t)&&Sv(t),[2]}}))}))}function xv(t,e){return In(this,void 0,void 0,(function(){var n;return En(this,(function(r){switch(r.label){case 0:return n=pc(t),e?(n.$r.delete(2),[4,uv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,cv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ov(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:mv.bind(null,t),Ri:bv.bind(null,t),_r:wv.bind(null,t)},(i=pc(e)).br(),new rv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return In(o,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),vv(t)?pv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),gv(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Cv(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:kv.bind(null,t),Ri:Dv.bind(null,t),Ir:Av.bind(null,t),Tr:Nv.bind(null,t)},(i=pc(e)).br(),new iv(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return In(o,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Tv(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(uc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var Pv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oc(ic.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Rv(t,e){if(cc("AsyncQueue",e+": "+t),ed(t))return new oc(ic.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||qc.comparator(e.key,n.key)}:function(t,e){return qc.comparator(t.key,e.key)},this.keyedMap=Cl(),this.sortedSet=new _l(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Mv=function(){function t(){this.Kr=new _l(qc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):fc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),jv=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Lv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fv=function(){this.Wr=void 0,this.listeners=[]},Vv=function(){this.queries=new Yd((function(t){return Mh(t)}),Lh),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return En(this,(function(c){switch(c.label){case 0:if(n=pc(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Fv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Rv(s,"Initialization of query '"+jh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Kv(n),[2]}}))}))}function qv(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a;return En(this,(function(s){return n=pc(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Bv(t,e){for(var n=pc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Kv(n)}function $v(t,e,n){var r=pc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Kv(t){t.Gr.forEach((function(t){t.next()}))}var zv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=jv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Wv=function(t){this.key=t},Gv=function(t){this.key=t},Hv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ll(),this.mutatedKeys=Ll(),this.lo=Vh(t),this.fo=new Lv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Mv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ah(this.query)&&i.size===this.query.limit?i.last():null,c=Nh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Fh(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ah(this.query)||Nh(this.query))for(;a.size>this.query.limit;){var h=Ah(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fc()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new jv(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Mv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ll(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Gv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Wv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ll();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return jv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Xv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yv=function(t){this.key=t,this.bo=!1},Qv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Yd((function(t){return Mh(t)}),Lh),this.Vo=new Map,this.So=new Set,this.Do=new _l(qc.comparator),this.Co=new Map,this.No=new Ap,this.xo={},this.Fo=new Map,this.ko=Fd.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s;return En(this,(function(u){switch(u.label){case 0:return n=Ay(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,wp(n.localStore,Ph(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Zv(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&hv(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Zv(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o,a,s,u,c;return En(this,(function(h){switch(h.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o,a;return En(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Ep(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(fy(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Ep(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Hv(e,i.Bn),a=o._o(i.documents),s=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),fy(t,n,u.To),c=new Xv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function ty(t,e){return In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:return n=pc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Lh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ip(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),lv(n.remoteStore,r.targetId),hy(n,r.targetId)})).catch($d)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hy(n,r.targetId),[4,Ip(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ey(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a;return En(this,(function(s){switch(s.label){case 0:r=Ny(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,l=pc(u),f=wc.now(),d=c.reduce((function(t,e){return t.add(e.key)}),Ll()),l.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return l.Mn.pn(t,d).next((function(e){h=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=cl(o,h.get(o.key));null!=a&&n.push(new dl(o.key,a,nh(a.toProto().mapValue),il.exists(!0)))}return l._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(h),{batchId:t.batchId,changes:h}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new _l(gc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,vy(r,i.changes)];case 3:return s.sent(),[4,Tv(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Rv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,h,l,f,d}))}))}function ny(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:n=pc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,mp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(dc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?dc(r.bo):t.removedDocuments.size>0&&(dc(r.bo),r.bo=!1))})),[4,vy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$d(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ry(t,e,n){var r=pc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=pc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Kv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iy(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a,s,u;return En(this,(function(c){switch(c.label){case 0:return(r=pc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new _l(qc.comparator)).insert(o,rh.newNoDocument(o,Ic.min())),s=Ll().add(o),u=new Fl(Ic.min(),new Map,new Al(gc),a,s),[4,ny(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),py(r),[3,4];case 2:return[4,Ip(r.localStore,e,!1).then((function(){return hy(r,e,n)})).catch($d)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function oy(t,e){return In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:n=pc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yp(n.localStore,e)];case 2:return i=o.sent(),cy(n,r,null),uy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,vy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$d(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ay(t,e,n){return In(this,void 0,void 0,(function(){var r,i;return En(this,(function(o){switch(o.label){case 0:r=pc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=e,u=pc(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,s).next((function(n){return dc(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),cy(r,e,n),uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,vy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$d(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function sy(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a;return En(this,(function(s){switch(s.label){case 0:yv((n=pc(t)).remoteStore)||uc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=pc(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Rv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function uy(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function cy(t,e,n){var r=pc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function hy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||ly(t,e)}))}function ly(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(lv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),py(t))}function fy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wv?(t.No.addReference(o.key,e),dy(t,o)):o instanceof Gv?(uc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ly(t,o.key)):fc()}}function dy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(uc("SyncEngine","New document in limbo: "+n),t.So.add(r),py(t))}function py(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new qc(kc.fromString(e)),r=t.ko.next();t.Co.set(r,new Yv(n)),t.Do=t.Do.insert(n,r),hv(t.remoteStore,new hd(Ph(kh(n.path)),r,2,rc.o))}}function vy(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a;return En(this,(function(s){switch(s.label){case 0:return r=pc(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=lp.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h;return En(this,(function(l){switch(l.label){case 0:n=pc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Yf.forEach(e,(function(e){return Yf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Yf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ed(r=l.sent()))throw r;return uc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,h));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function yy(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return(n=pc(t)).currentUser.isEqual(e)?[3,3]:(uc("SyncEngine","User change. New user:",e.toKey()),[4,vp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new oc(ic.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,vy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function gy(t,e){var n=pc(t),r=n.Co.get(e);if(r&&r.bo)return Ll().add(r.key);var i=Ll(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function my(t,e){return In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:return[4,Ep((n=pc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&fy(n,e.targetId,i.To),i)]}}))}))}function by(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){return[2,_p((e=pc(t)).localStore).then((function(t){return vy(e,t)}))]}))}))}function wy(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o;return En(this,(function(a){switch(a.label){case 0:return[4,(s=(i=pc(t)).localStore,u=e,c=pc(s),h=pc(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return h.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):Yf.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Tv(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cy(i,e,r||null),uy(i,e),function(t,e){pc(pc(t)._n).Gt(e)}(i.localStore,e)):fc(),a.label=4;case 4:return[4,vy(i,o)];case 5:return a.sent(),[3,7];case 6:uc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,h}))}))}function Iy(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return En(this,(function(h){switch(h.label){case 0:return Ay(n=pc(t)),Ny(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ey(n,r.toArray())]);case 1:return i=h.sent(),n.Oo=!0,[4,xv(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],hv(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return hy(n,e),Ip(n.localStore,e,!0)})),lv(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Ey(n,u)];case 5:return h.sent(),(l=pc(n)).Co.forEach((function(t,e){lv(l.remoteStore,e)})),l.No.ts(),l.Co=new Map,l.Do=new _l(qc.comparator),n.Oo=!1,[4,xv(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var l}))}))}function Ey(t,e,n){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,l,f,d,p,v;return En(this,(function(y){switch(y.label){case 0:n=pc(t),r=[],i=[],o=0,a=e,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,wp(n.localStore,Ph(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,l=c,y.label=3;case 3:return h<l.length?(f=l[h],d=n.Po.get(f),[4,my(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Tp(n.localStore,s)];case 8:return v=y.sent(),[4,wp(n.localStore,v)];case 9:return u=y.sent(),[4,Zv(n,Ty(v),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Ty(t){return Sh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _y(t){var e=pc(t);return pc(pc(e.localStore).persistence).fn()}function Sy(t,e,n,r){return In(this,void 0,void 0,(function(){var i,o,a;return En(this,(function(s){switch(s.label){case 0:return(i=pc(t)).Oo?(uc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_p(i.localStore)];case 3:return o=s.sent(),a=Fl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,vy(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ip(i.localStore,e,!0)];case 6:return s.sent(),hy(i,e,r),[3,8];case 7:fc(),s.label=8;case 8:return[2]}}))}))}function ky(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f;return En(this,(function(d){switch(d.label){case 0:if(!(r=Ay(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(uc("SyncEngine","Adding an already active target "+a),[3,5]):[4,Tp(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,wp(r.localStore,s)];case 3:return u=d.sent(),[4,Zv(r,Ty(s),u.targetId,!1)];case 4:d.sent(),hv(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return En(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ip(r.localStore,t,!1).then((function(){lv(r.remoteStore,t),hy(r,t)})).catch($d)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,d.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ay(t){var e=pc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ny.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iy.bind(null,e),e.vo._r=Bv.bind(null,e.eventManager),e.vo.Mo=$v.bind(null,e.eventManager),e}function Ny(t){var e=pc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ay.bind(null,e),e}var Dy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return this.R=tv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return pp(this.persistence,new fp,t.initialUser,this.R)},t.prototype.qo=function(t){return new Pp(Lp.bs,this.R)},t.prototype.Bo=function(t){return new Wp},t.prototype.terminate=function(){return In(this,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return bn(e,t),e.prototype.initialize=function(e){return In(this,void 0,void 0,(function(){return En(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Ny(this.Ko.syncEngine)];case 4:return n.sent(),[4,Tv(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return pp(this.persistence,new fp,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Wd(e,t.asyncQueue)},e.prototype.qo=function(t){var e=cp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xd.withCacheSize(this.cacheSizeBytes):xd.DEFAULT;return new ap(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Jp(),Zp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Wp},e}(Dy),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return bn(e,t),e.prototype.initialize=function(e){return In(this,void 0,void 0,(function(){var n,r=this;return En(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof zp?(this.sharedClientState.syncEngine={ui:wy.bind(null,n),ai:Sy.bind(null,n),hi:ky.bind(null,n),fn:_y.bind(null,n),ci:by.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return In(r,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return[4,Iy(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Jp();if(!zp.yt(e))throw new oc(ic.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(xy),Cy=function(){function t(){}return t.prototype.initialize=function(t,e){return In(this,void 0,void 0,(function(){var n=this;return En(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ry(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yy.bind(null,this.syncEngine),[4,xv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Vv},t.prototype.createDatastore=function(t){var e,n,r=tv(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Qp(e));return n=t.credentials,new ov(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ry(a.syncEngine,t,0)},o=Hp.yt()?new Hp:new Gp,new sv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=t.initialUser,s=t.maxConcurrentLimboResolutions,u=e,c=new Qv(n,r,i,o,a,s),u&&(c.Oo=!0),c;var n,r,i,o,a,s,u,c},t.prototype.terminate=function(){return function(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return e=pc(t),uc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,cv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Py=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ry=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return In(this,void 0,void 0,(function(){var e,n=this;return En(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new oc(ic.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return In(this,void 0,void 0,(function(){var n,r,i,o,a,s;return En(this,(function(u){switch(u.label){case 0:return n=pc(t),r=sf(n.R)+"/documents",i={documents:e.map((function(t){return nf(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){dc(!!e.found),e.found.name,e.found.updateTime;var n=rf(t,e.found.name),r=Zl(e.found.updateTime),i=new eh({mapValue:{fields:e.found.fields}});return rh.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){dc(!!e.missing),dc(!!e.readTime);var n=rf(t,e.missing),r=Zl(e.readTime);return rh.newNoDocument(n,r)}(e,r):fc());a.set(i.key.toString(),i)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());dc(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new bl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return In(this,void 0,void 0,(function(){var t,e=this;return En(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=qc.fromPath(n);e.mutations.push(new wl(r,e.precondition(r)))})),[4,function(t,e){return In(this,void 0,void 0,(function(){var n,r,i;return En(this,(function(o){switch(o.label){case 0:return n=pc(t),r=sf(n.R)+"/documents",i={writes:e.map((function(t){return hf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw fc();e=Ic.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new oc(ic.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?il.updateTime(e):il.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ic.min()))throw new oc(ic.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return il.updateTime(e)}return il.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Ly=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ev(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return In(t,void 0,void 0,(function(){var t,e,n=this;return En(this,(function(r){return t=new Ry(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Fc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!El(e)}return!1},t}(),My=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Mp.UNAUTHENTICATED,this.clientId=yc.u(),this.credentialListener=function(){},this.receivedInitialUser=new Xf,this.credentials.setChangeListener((function(t){uc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return In(this,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new oc(ic.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Xf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return In(t,void 0,void 0,(function(){var t,n;return En(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Rv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jy(t,e){return In(this,void 0,void 0,(function(){var n,r,i=this;return En(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),uc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return In(i,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return[4,vp(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Fy(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vy(t)];case 1:return n=i.sent(),uc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return In(this,void 0,void 0,(function(){var n,r;return En(this,(function(i){switch(i.label){case 0:return(n=pc(t)).asyncQueue.verifyOperationInProgress(),uc("RemoteStore","RemoteStore received new credentials"),r=yv(n),n.$r.add(3),[4,cv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,uv(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Vy(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(uc("FirestoreClient","Using default OfflineComponentProvider"),[4,jy(t,new Dy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Uy(t){return In(this,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(uc("FirestoreClient","Using default OnlineComponentProvider"),[4,Fy(t,new Cy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function qy(t){return Vy(t).then((function(t){return t.persistence}))}function By(t){return Vy(t).then((function(t){return t.localStore}))}function $y(t){return Uy(t).then((function(t){return t.remoteStore}))}function Ky(t){return Uy(t).then((function(t){return t.syncEngine}))}function zy(t){return In(this,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:return[4,Uy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Jv.bind(null,e.syncEngine),n.onUnlisten=ty.bind(null,e.syncEngine),n)]}}))}))}function Wy(t,e,n){var r=this;void 0===n&&(n={});var i=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(r,void 0,void 0,(function(){var r;return En(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Py({next:function(o){e.enqueueAndForget((function(){return qv(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new oc(ic.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new oc(ic.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new zv(kh(n.path),o,{includeMetadataChanges:!0,so:!0});return Uv(t,a)},[4,zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Gy(t,e,n){var r=this;void 0===n&&(n={});var i=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(r,void 0,void 0,(function(){var r;return En(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Py({next:function(n){e.enqueueAndForget((function(){return qv(t,a)})),n.fromCache&&"server"===r.source?i.reject(new oc(ic.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new zv(n,o,{includeMetadataChanges:!0,so:!0});return Uv(t,a)},[4,zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Hy=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Xy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Yy=new Map,Qy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Jy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Mp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tg=function(){function t(t){var e=this;this.oc=null,this.currentUser=Mp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(uc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(dc("string"==typeof n.accessToken),new Qy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return dc(null===t||"string"==typeof t),new Mp(t)},t}(),eg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Mp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),ng=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new eg(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Mp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t,e,n){if(!n)throw new oc(ic.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ig(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new oc(ic.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function og(t,e,n,r){if(!0===e&&!0===r)throw new oc(ic.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ag(t){if(!qc.isDocumentKey(t))throw new oc(ic.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sg(t){if(qc.isDocumentKey(t))throw new oc(ic.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ug(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":fc()}function cg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oc(ic.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ug(t);throw new oc(ic.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hg(t,e){if(e<=0)throw new oc(ic.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new oc(ic.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new oc(ic.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,og("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),fg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lg({}),this._settingsFrozen=!1,t instanceof Xy?(this._databaseId=t,this._credentials=new Jy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new oc(ic.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xy(t.options.projectId)}(t),this._credentials=new tg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new oc(ic.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new oc(ic.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Jy;switch(t.type){case"gapi":var e=t.client;return dc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ng(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new oc(ic.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Yy.get(this))&&(uc("ComponentProvider","Removing Datastore"),Yy.delete(this),t.terminate()),Promise.resolve();var t},t}(),dg=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),pg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,kh(r))||this)._path=r,i.type="collection",i}return bn(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new dg(this.firestore,null,new qc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(pg);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Kn(t),rg("collection","path",e),t instanceof fg)return sg(n=kc.fromString.apply(kc,Sn([e],r))),new vg(t,null,n);if(!(t instanceof dg||t instanceof vg))throw new oc(ic.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sg(n=kc.fromString.apply(kc,Sn([t.path],r)).child(kc.fromString(e))),new vg(t.firestore,null,n)}function gg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Kn(t),1===arguments.length&&(e=yc.u()),rg("doc","path",e),t instanceof fg)return ag(n=kc.fromString.apply(kc,Sn([e],r))),new dg(t,null,new qc(n));if(!(t instanceof dg||t instanceof vg))throw new oc(ic.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ag(n=t._path.child(kc.fromString.apply(kc,Sn([e],r)))),new dg(t.firestore,t instanceof vg?t.converter:null,new qc(n))}function mg(t,e){return t=Kn(t),e=Kn(e),(t instanceof dg||t instanceof vg)&&(e instanceof dg||e instanceof vg)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function bg(t,e){return t=Kn(t),e=Kn(e),t instanceof pg&&e instanceof pg&&t.firestore===e.firestore&&Lh(t._query,e._query)&&t.converter===e.converter}var wg=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ev(this,"async_queue_retry"),this.Ec=function(){var e=Zp();e&&uc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return In(this,void 0,void 0,(function(){var t,e=this;return En(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ed(t=n.sent()))throw t;return uc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,cc("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Pv.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&fc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return In(this,void 0,void 0,(function(){var t;return En(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Ig(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new wg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return bn(e,t),e.prototype._terminate=function(){return this._firestoreClient||_g(this),this._firestoreClient.terminate()},e}(fg);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){return t._firestoreClient||_g(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _g(t){var e,n,r,i,o,a=t._freezeSettings(),s=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new Hy(n,r,i,(o=a).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new My(t._credentials,t._queue,s)}function Sg(t,e,n){var r=this,i=new Xf;return t.asyncQueue.enqueue((function(){return In(r,void 0,void 0,(function(){var r;return En(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jy(t,n)];case 1:return o.sent(),[4,Fy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===ic.FAILED_PRECONDITION||a.code===ic.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function kg(t){if(t._initialized||t._terminated)throw new oc(ic.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ag=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new oc(ic.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ng=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(xc.fromBase64String(e))}catch(n){throw new oc(ic.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(xc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Dg=function(t){this._methodName=t},xg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new oc(ic.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new oc(ic.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return gc(this._lat,t._lat)||gc(this._long,t._long)},t}(),Og=/^__.*__$/,Cg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new dl(t,this.data,this.fieldMask,e,this.fieldTransforms):new fl(t,this.data,e,this.fieldTransforms)},t}(),Pg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new dl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fc()}}var Lg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return em(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Rg(this.Dc)&&Og.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Mg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||tv(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Lg({Dc:t,methodName:e,Lc:n,path:Nc.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jg(t){var e=t._freezeSettings(),n=tv(t._databaseId);return new Mg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Qg("Data must be an object, but it was:",a,r);var s,u,c=Xg(r,a);if(o.merge)s=new Dc(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var d=Jg(e,f[l],n);if(!a.contains(d))throw new oc(ic.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");nm(h,d)||h.push(d)}s=new Dc(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Cg(new eh(c),s,u)}var Vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Dg);function Ug(t,e,n){return new Lg({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype._toFieldTransform=function(t){return new nl(t.path,new Hh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Dg),Bg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bn(e,t),e.prototype._toFieldTransform=function(t){var e=Ug(this,t,!0),n=this.qc.map((function(t){return Hg(t,e)})),r=new Xh(n);return new nl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dg),$g=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bn(e,t),e.prototype._toFieldTransform=function(t){var e=Ug(this,t,!0),n=this.qc.map((function(t){return Hg(t,e)})),r=new Qh(n);return new nl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dg),Kg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return bn(e,t),e.prototype._toFieldTransform=function(t){var e=new Zh(t.R,$h(t.R,this.Uc));return new nl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Dg);function zg(t,e,n,r){var i=t.Bc(1,e,n);Qg("Data must be an object, but it was:",i,r);var o=[],a=eh.empty();Tc(r,(function(t,r){var s=tm(e,t,n);r=Kn(r);var u=i.kc(s);if(r instanceof Vg)o.push(s);else{var c=Hg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Dc(o);return new Pg(a,s,i.fieldTransforms)}function Wg(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Jg(e,r,n)],u=[i];if(o.length%2!=0)throw new oc(ic.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Jg(e,o[c])),u.push(o[c+1]);for(var h=[],l=eh.empty(),f=s.length-1;f>=0;--f)if(!nm(h,s[f])){var d=s[f],p=u[f];p=Kn(p);var v=a.kc(d);if(p instanceof Vg)h.push(d);else{var y=Hg(p,v);null!=y&&(h.push(d),l.set(d,y))}}var g=new Dc(h);return new Pg(l,g,a.fieldTransforms)}function Gg(t,e,n,r){return void 0===r&&(r=!1),Hg(n,t.Bc(r?4:3,e))}function Hg(t,e){if(Yg(t=Kn(t)))return Qg("Unsupported field value:",e,t),Xg(t,e);if(t instanceof Dg)return function(t,e){if(!Rg(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Hg(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Kn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $h(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=wc.fromDate(t);return{timestampValue:Yl(e.R,n)}}if(t instanceof wc)return n=new wc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Yl(e.R,n)};if(t instanceof xg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ng)return{bytesValue:Ql(e.R,t._byteString)};if(t instanceof dg){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+ug(t))}(t,e)}function Xg(t,e){var n={};return _c(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(function(t,r){var i=Hg(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Yg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wc||t instanceof xg||t instanceof Ng||t instanceof dg||t instanceof Dg)}function Qg(t,e,n){if(!Yg(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=ug(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}var i}function Jg(t,e,n){if((e=Kn(e))instanceof Ag)return e._internalPath;if("string"==typeof e)return tm(t,e);throw em("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Zg=new RegExp("[~\\*/\\[\\]]");function tm(t,e,n){if(e.search(Zg)>=0)throw em("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ag.bind.apply(Ag,Sn([void 0],e.split(".")))))._internalPath}catch(r){throw em("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function em(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new oc(ic.INVALID_ARGUMENT,(s+=". ")+t+u)}function nm(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(om("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rm);function om(t,e){return"string"==typeof e?tm(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),sm=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return bn(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(om("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(rm),um=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(sm),cm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new am(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new um(n._firestore,n._userDataWriter,r.key,r,new am(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new oc(ic.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new um(t._firestore,t._userDataWriter,e.doc.key,e.doc,new am(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new um(t._firestore,t._userDataWriter,e.doc.key,e.doc,new am(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hm(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function hm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fc()}}function lm(t,e){return t instanceof sm&&e instanceof sm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cm&&e instanceof cm&&t._firestore===e._firestore&&bg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){if(Nh(t)&&0===t.explicitOrderBy.length)throw new oc(ic.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dm=function(){};function pm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return bn(e,t),e.prototype._apply=function(t){var e,n,r,i=jg(t.firestore),o=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new oc(ic.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Em(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var l=h[c];u.push(Im(r,t,l))}s={arrayValue:{values:u}}}else s=Im(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Em(a,o),s=Gg(n,"where",a,"in"===o||"not-in"===o);var f=ch.create(i,o,s);return function(t,e){if(e.g()){var n=xh(t);if(null!==n&&!n.isEqual(e.field))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Dh(t);null!==r&&Tm(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new oc(ic.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new oc(ic.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new pg(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new _h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(dm),ym=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return bn(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new oc(ic.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new oc(ic.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wh(e,n);return function(t,e){if(null===Dh(t)){var n=xh(t);null!==n&&Tm(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new pg(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new _h(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(dm),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return bn(e,t),e.prototype._apply=function(t){return new pg(t.firestore,t.converter,Rh(t._query,this.Gc,this.zc))},e}(dm),mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bn(e,t),e.prototype._apply=function(t){var e,n,r=wm(t,this.type,this.Hc,this.Jc);return new pg(t.firestore,t.converter,(e=t._query,n=r,new _h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(dm),bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bn(e,t),e.prototype._apply=function(t){var e,n,r=wm(t,this.type,this.Hc,this.Jc);return new pg(t.firestore,t.converter,(e=t._query,n=r,new _h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(dm);function wm(t,e,n,r){if(n[0]=Kn(n[0]),n[0]instanceof rm)return function(t,e,n,r,i){if(!r)throw new oc(ic.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ch(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Xc(e,r.key));else{var c=r.data.field(u.field);if(Lc(c))throw new oc(ic.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new oc(ic.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new mh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new oc(ic.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new oc(ic.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Oh(t)&&-1!==c.indexOf("/"))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(kc.fromString(c));if(!qc.isDocumentKey(h))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new qc(h);s.push(Xc(e,l))}else{var f=Gg(n,r,c);s.push(f)}}return new mh(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Im(t,e,n){if("string"==typeof(n=Kn(n))){if(""===n)throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oh(e)&&-1!==n.indexOf("/"))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(kc.fromString(n));if(!qc.isDocumentKey(r))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xc(t,new qc(r))}if(n instanceof dg)return Xc(t,n._key);throw new oc(ic.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ug(n)+".")}function Em(t,e){if(!Array.isArray(t)||0===t.length)throw new oc(ic.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new oc(ic.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Tm(t,e,n){if(!n.isEqual(e))throw new oc(ic.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _m=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Bc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Rc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Tc(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new xg(Pc(t.latitude),Pc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Mc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(jc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Cc(t);return new wc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=kc.fromString(t);dc(Sf(n));var r=new Xy(n.get(1),n.get(3)),i=new qc(n.popFirst(5));return r.isEqual(e)||cc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var km=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bn(e,t),e.prototype.convertBytes=function(t){return new Ng(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dg(this.firestore,null,e)},e}(_m),Am=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Nm(t,this._firestore),i=Sm(r.converter,e,n),o=Fg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,il.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Nm(t,this._firestore);return o="string"==typeof(e=Kn(e))||e instanceof Ag?Wg(this._dataReader,"WriteBatch.update",a._key,e,n,r):zg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,il.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Nm(t,this._firestore);return this._mutations=this._mutations.concat(new bl(e._key,il.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new oc(ic.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e){if((t=Kn(t)).firestore!==e)throw new oc(ic.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bn(e,t),e.prototype.convertBytes=function(t){return new Ng(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dg(this.firestore,null,e)},e}(_m);function xm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cg(t,dg);var o=cg(t.firestore,Eg),a=jg(o);return Cm(o,[("string"==typeof(e=Kn(e))||e instanceof Ag?Wg(a,"updateDoc",t._key,e,n,r):zg(a,"updateDoc",t._key,e)).toMutation(t._key,il.exists(!0))])}function Om(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Kn(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ig(i[s])||(a=i[s],s++);var u,c,h,l={includeMetadataChanges:a.includeMetadataChanges};if(Ig(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof dg)c=cg(t.firestore,Eg),h=kh(t._key.path),u={next:function(e){i[s]&&i[s](Pm(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=cg(t,pg);c=cg(d.firestore,Eg),h=d._query;var p=new Dm(c);u={next:function(t){i[s]&&i[s](new cm(c,p,d,t))},error:i[s+1],complete:i[s+2]},fm(t._query)}return function(t,e,n,r){var i=this,o=new Py(r),a=new zv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return In(i,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return e=Uv,[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return In(i,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return e=qv,[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Tg(c),h,l,u)}function Cm(t,e){return function(t,e){var n=this,r=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var n;return En(this,(function(i){switch(i.label){case 0:return n=ey,[4,Ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Tg(t),e)}function Pm(t,e,n){var r=n.docs.get(e._key),i=new Dm(t);return new sm(t,i,e._key,r,new am(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return bn(e,t),e.prototype.get=function(e){var n=this,r=Nm(e,this._firestore),i=new Dm(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new sm(n._firestore,i,r._key,t._document,new am(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jg(t)}return t.prototype.get=function(t){var e=this,n=Nm(t,this._firestore),r=new km(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return fc();var i=t[0];if(i.isFoundDocument())return new rm(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rm(e._firestore,r,n._key,null,n.converter);throw fc()}))},t.prototype.set=function(t,e,n){var r=Nm(t,this._firestore),i=Sm(r.converter,e,n),o=Fg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Nm(t,this._firestore);return o="string"==typeof(e=Kn(e))||e instanceof Ag?Wg(this._dataReader,"Transaction.update",a._key,e,n,r):zg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Nm(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){if("undefined"==typeof Uint8Array)throw new oc(ic.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Mm(){if("undefined"==typeof atob)throw new oc(ic.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Mm(),new t(Ng.fromBase64String(e))},t.fromUint8Array=function(e){return Lm(),new t(Ng.fromUint8Array(e))},t.prototype.toBase64=function(){return Mm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Lm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Fm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kg(t=cg(t,Eg));var n=Tg(t),r=t._freezeSettings(),i=new Cy;return Sg(n,i,new xy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kg(t=cg(t,Eg));var e=Tg(t),n=t._freezeSettings(),r=new Cy;return Sg(e,r,new Oy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new oc(ic.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Xf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return In(e,void 0,void 0,(function(){var e;return En(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return Jf.yt()?(e=t+"main",[4,Jf.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(cp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Vm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Xy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=cg(t,fg))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=wn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kn.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),kn.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new oc(ic.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Zy(new Qy(o,new Mp(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return In(e,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:return[4,qy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=pc(i),o.$r.delete(0),uv(o))]}var i,o}))}))}))}(Tg(cg(this._delegate,Eg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return In(e,void 0,void 0,(function(){var e,n;return En(this,(function(r){switch(r.label){case 0:return[4,qy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return In(this,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return(e=pc(t)).$r.add(0),[4,cv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Tg(cg(this._delegate,Eg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&og("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(e,void 0,void 0,(function(){var e;return En(this,(function(r){switch(r.label){case 0:return e=sy,[4,Ky(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Tg(cg(this._delegate,Eg)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new Py(e);return t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return e=function(t,e){pc(t).Gr.add(e),e.next()},[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var e;return En(this,(function(n){switch(n.label){case 0:return e=function(t,e){pc(t).Gr.delete(e)},[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Tg(e=cg(e,Eg)),Ig(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new oc(ic.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Zm(this,yg(this._delegate,t))}catch(e){throw zm(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Km(this,gg(this._delegate,t))}catch(e){throw zm(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ym(this,function(t,e){if(t=cg(t,fg),rg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oc(ic.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pg(t,null,(n=e,new _h(kc.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw zm(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var n;return En(this,(function(i){switch(i.label){case 0:return[4,(o=t,Uy(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new Ly(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(Tg(e=this._delegate),(function(r){return function(e){return t(new qm(n,e))}(new Rm(e,r))}))},t.prototype.batch=function(){var t=this;return Tg(this._delegate),new Bm(new Am(this._delegate,(function(e){return Cm(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new oc(ic.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new oc(ic.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Um=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bn(e,t),e.prototype.convertBytes=function(t){return new jm(new Ng(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Km.Zc(e,this.firestore,null)},e}(_m);var qm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Um(t)}return t.prototype.get=function(t){var e=this,n=tb(t);return this._delegate.get(n).then((function(t){return new Hm(e._firestore,new sm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=tb(t);return n?(ig("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tb(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Sn([a,e,n],i)),this},t.prototype.delete=function(t){var e=tb(t);return this._delegate.delete(e),this},t}(),Bm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=tb(t);return n?(ig("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tb(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Sn([a,e,n],i)),this},t.prototype.delete=function(t){var e=tb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$m=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new um(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Um(e),n),i.set(n,o)),o},t}();$m.eu=new WeakMap;var Km=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Um(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new oc(ic.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new dg(n._delegate,r,new qc(e)))},t.Zc=function(e,n,r){return new t(n,new dg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Zm(this.firestore,yg(this._delegate,t))}catch(e){throw zm(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Kn(t))instanceof dg&&mg(this._delegate,t)},t.prototype.set=function(t,e){e=ig("DocumentReference.set",e);try{return function(t,e,n){t=cg(t,dg);var r=cg(t.firestore,Eg),i=Sm(t.converter,e,n);return Cm(r,[Fg(jg(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,il.none())])}(this._delegate,t,e)}catch(n){throw zm(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xm(this._delegate,t):xm.apply(void 0,Sn([this._delegate,t,e],n))}catch(i){throw zm(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Cm(cg((t=this._delegate).firestore,Eg),[new bl(t._key,il.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wm(e),i=Gm(e,(function(e){return new Hm(t.firestore,new sm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Om(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cg(t,dg);var e=cg(t.firestore,Eg),n=Tg(e),r=new Dm(e);return function(t,e){var n=this,r=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var n;return En(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return In(this,void 0,void 0,(function(){var r,i;return En(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,s=e,u=pc(a),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,s)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new oc(ic.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Rv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,By(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new sm(e,r,t._key,n,new am(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cg(t,dg);var e=cg(t.firestore,Eg);return Wy(Tg(e),t._key,{source:"server"}).then((function(n){return Pm(e,t,n)}))}(this._delegate):function(t){t=cg(t,dg);var e=cg(t.firestore,Eg);return Wy(Tg(e),t._key).then((function(n){return Pm(e,t,n)}))}(this._delegate)).then((function(t){return new Hm(e.firestore,new sm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($m.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function zm(t,e,n){return t.message=t.message.replace(e,n),t}function Wm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ig(r))return r}return{}}function Gm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ig(t[0])?t[0]:Ig(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Km(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lm(this._delegate,t._delegate)},t}(),Xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Hm),Ym=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Um(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,pm(this._delegate,(o=r,a=i=n,s=om("where",e),new vm(s,a,o))))}catch(i){throw zm(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,pm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=om("orderBy",t);return new ym(r,n)}(e,n)))}catch(r){throw zm(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,pm(this._delegate,(hg("limit",n=e),new gm("limit",n,"F"))))}catch(r){throw zm(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,pm(this._delegate,(hg("limitToLast",n=e),new gm("limitToLast",n,"L"))))}catch(r){throw zm(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mm("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw zm(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mm("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw zm(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bm("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw zm(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bm("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw zm(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return bg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cg(t,pg);var e=cg(t.firestore,Eg),n=Tg(e),r=new Dm(e);return function(t,e){var n=this,r=new Xf;return t.asyncQueue.enqueueAndForget((function(){return In(n,void 0,void 0,(function(){var n;return En(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a,s;return En(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ep(t,e,!0)];case 1:return s=u.sent(),r=new Hv(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Rv(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,By(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new cm(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cg(t,pg);var e=cg(t.firestore,Eg),n=Tg(e),r=new Dm(e);return Gy(n,t._query,{source:"server"}).then((function(n){return new cm(e,r,t,n)}))}(this._delegate):function(t){t=cg(t,pg);var e=cg(t.firestore,Eg),n=Tg(e),r=new Dm(e);return fm(t._query),Gy(n,t._query).then((function(n){return new cm(e,r,t,n)}))}(this._delegate)).then((function(t){return new Jm(e.firestore,new cm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wm(e),i=Gm(e,(function(e){return new Jm(t.firestore,new cm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Om(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($m.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Qm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Xm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Jm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ym(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Xm(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Qm(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Xm(n._firestore,r))}))},t.prototype.isEqual=function(t){return lm(this._delegate,t._delegate)},t}(),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return bn(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Km(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Km(this.firestore,void 0===t?gg(this._delegate):gg(this._delegate,t))}catch(e){throw zm(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,a=this;return(e=this._delegate,n=t,r=cg(e.firestore,Eg),i=gg(e),o=Sm(e.converter,n),Cm(r,[Fg(jg(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,il.exists(!1))]).then((function(){return i}))).then((function(t){return new Km(a.firestore,t)}))},e.prototype.isEqual=function(t){return mg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter($m.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(Ym);function tb(t){return cg(t,dg)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eb,nb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ag.bind.apply(Ag,Sn([void 0],t)))}return t.documentId=function(){return new t(Nc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Kn(t))instanceof Ag&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),rb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new qg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Vg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bg("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $g("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Kg("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ib={Firestore:Vm,GeoPoint:xg,Timestamp:wc,Blob:jm,Transaction:qm,WriteBatch:Bm,DocumentReference:Km,DocumentSnapshot:Hm,Query:Ym,QueryDocumentSnapshot:Xm,QuerySnapshot:Jm,CollectionReference:Zm,FieldPath:nb,FieldValue:rb,setLogLevel:function(t){var e;e=t,ac.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(eb=br).INTERNAL.registerComponent(new zn("firestore",(function(t){return function(t,e){return new Vm(t,new Eg(t,e),new Fm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ib))),eb.registerVersion("@firebase/firestore","2.3.0");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ob={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ab=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return bn(e,t),e}(Error);var sb=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return In(this,void 0,void 0,(function(){var t;return En(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return In(this,void 0,void 0,(function(){return En(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(eb){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return In(this,void 0,void 0,(function(){var t,e;return En(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var cb=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return ub(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?ub(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hb=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new cb,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new sb(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(eb){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o;return En(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return In(this,void 0,void 0,(function(){var t;return En(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return In(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f,d;return En(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new ab("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,h=u.promise,[4,Promise.race([lb(c,this.postJSON(r,i,o)),h,lb(c,this.cancelAllRequests)])];case 2:if(!(l=p.sent()))throw new ab("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!ob[s])return new ab("internal","internal");r=ob[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(eb){}return"ok"===r?null:new ab(r,i,o)}(l.status,l.json,this.serializer))throw f;if(!l.json)throw new ab("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new ab("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function lb(t,e){return In(this,void 0,void 0,(function(){var n;return En(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){var n={Functions:hb};t.INTERNAL.registerComponent(new zn("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new hb(i,o,s,a,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(br,fetch.bind(self)),br.registerVersion("@firebase/functions","0.6.8");var fb="object"==typeof global&&global&&global.Object===Object&&global,db="object"==typeof self&&self&&self.Object===Object&&self,pb=fb||db||Function("return this")(),vb=pb.Symbol,yb=Object.prototype,gb=yb.hasOwnProperty,mb=yb.toString,bb=vb?vb.toStringTag:void 0;var wb=Object.prototype.toString;var Ib=vb?vb.toStringTag:void 0;function Eb(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ib&&Ib in Object(t)?function(t){var e=gb.call(t,bb),n=t[bb];try{t[bb]=void 0;var r=!0}catch(eb){}var i=mb.call(t);return r&&(e?t[bb]=n:delete t[bb]),i}(t):function(t){return wb.call(t)}(t)}function Tb(t){return null!=t&&"object"==typeof t}function _b(t){return"symbol"==typeof t||Tb(t)&&"[object Symbol]"==Eb(t)}function Sb(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kb=Array.isArray,Ab=vb?vb.prototype:void 0,Nb=Ab?Ab.toString:void 0;function Db(t){if("string"==typeof t)return t;if(kb(t))return Sb(t,Db)+"";if(_b(t))return Nb?Nb.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function xb(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ob(t){return t}function Cb(t){if(!xb(t))return!1;var e=Eb(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Pb,Rb=pb["__core-js_shared__"],Lb=(Pb=/[^.]+$/.exec(Rb&&Rb.keys&&Rb.keys.IE_PROTO||""))?"Symbol(src)_1."+Pb:"";var Mb=Function.prototype.toString;function jb(t){if(null!=t){try{return Mb.call(t)}catch(eb){}try{return t+""}catch(eb){}}return""}var Fb=/^\[object .+?Constructor\]$/,Vb=Function.prototype,Ub=Object.prototype,qb=Vb.toString,Bb=Ub.hasOwnProperty,$b=RegExp("^"+qb.call(Bb).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kb(t){return!(!xb(t)||(e=t,Lb&&Lb in e))&&(Cb(t)?$b:Fb).test(jb(t));var e}function zb(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Kb(n)?n:void 0}var Wb=zb(pb,"WeakMap"),Gb=Object.create,Hb=function(){function t(){}return function(e){if(!xb(e))return{};if(Gb)return Gb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Xb(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Yb=Date.now;var Qb,Jb,Zb,tw=function(){try{var t=zb(Object,"defineProperty");return t({},"",{}),t}catch(eb){}}(),ew=(Qb=tw?function(t,e){return tw(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ob,Jb=0,Zb=0,function(){var t=Yb(),e=16-(t-Zb);if(Zb=t,e>0){if(++Jb>=800)return arguments[0]}else Jb=0;return Qb.apply(void 0,arguments)});function nw(t){return t!=t}function rw(t,e){return!!(null==t?0:t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,nw,n)}(t,e,0)>-1}var iw=/^(?:0|[1-9]\d*)$/;function ow(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&iw.test(t))&&t>-1&&t%1==0&&t<e}function aw(t,e,n){"__proto__"==e&&tw?tw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sw(t,e){return t===e||t!=t&&e!=e}var uw=Object.prototype.hasOwnProperty;function cw(t,e,n){var r=t[e];uw.call(t,e)&&sw(r,n)&&(void 0!==n||e in t)||aw(t,e,n)}function hw(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?aw(n,s,u):cw(n,s,u)}return n}var lw=Math.max;function fw(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function dw(t){return null!=t&&fw(t.length)&&!Cb(t)}var pw=Object.prototype;function vw(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pw)}function yw(t){return Tb(t)&&"[object Arguments]"==Eb(t)}var gw=Object.prototype,mw=gw.hasOwnProperty,bw=gw.propertyIsEnumerable,ww=yw(function(){return arguments}())?yw:function(t){return Tb(t)&&mw.call(t,"callee")&&!bw.call(t,"callee")};var Iw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ew=Iw&&"object"==typeof module&&module&&!module.nodeType&&module,Tw=Ew&&Ew.exports===Iw?pb.Buffer:void 0,_w=(Tw?Tw.isBuffer:void 0)||function(){return!1},Sw={};function kw(t){return function(e){return t(e)}}Sw["[object Float32Array]"]=Sw["[object Float64Array]"]=Sw["[object Int8Array]"]=Sw["[object Int16Array]"]=Sw["[object Int32Array]"]=Sw["[object Uint8Array]"]=Sw["[object Uint8ClampedArray]"]=Sw["[object Uint16Array]"]=Sw["[object Uint32Array]"]=!0,Sw["[object Arguments]"]=Sw["[object Array]"]=Sw["[object ArrayBuffer]"]=Sw["[object Boolean]"]=Sw["[object DataView]"]=Sw["[object Date]"]=Sw["[object Error]"]=Sw["[object Function]"]=Sw["[object Map]"]=Sw["[object Number]"]=Sw["[object Object]"]=Sw["[object RegExp]"]=Sw["[object Set]"]=Sw["[object String]"]=Sw["[object WeakMap]"]=!1;var Aw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nw=Aw&&"object"==typeof module&&module&&!module.nodeType&&module,Dw=Nw&&Nw.exports===Aw&&fb.process,xw=function(){try{var t=Nw&&Nw.require&&Nw.require("util").types;return t||Dw&&Dw.binding&&Dw.binding("util")}catch(eb){}}(),Ow=xw&&xw.isTypedArray,Cw=Ow?kw(Ow):function(t){return Tb(t)&&fw(t.length)&&!!Sw[Eb(t)]},Pw=Object.prototype.hasOwnProperty;function Rw(t,e){var n=kb(t),r=!n&&ww(t),i=!n&&!r&&_w(t),o=!n&&!r&&!i&&Cw(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!Pw.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ow(c,u))||s.push(c);return s}function Lw(t,e){return function(n){return t(e(n))}}var Mw=Lw(Object.keys,Object),jw=Object.prototype.hasOwnProperty;function Fw(t){return dw(t)?Rw(t):function(t){if(!vw(t))return Mw(t);var e=[];for(var n in Object(t))jw.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var Vw=Object.prototype.hasOwnProperty;function Uw(t){if(!xb(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vw(t),n=[];for(var r in t)("constructor"!=r||!e&&Vw.call(t,r))&&n.push(r);return n}function qw(t){return dw(t)?Rw(t,!0):Uw(t)}var Bw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$w=/^\w*$/;function Kw(t,e){if(kb(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_b(t))||($w.test(t)||!Bw.test(t)||null!=e&&t in Object(e))}var zw=zb(Object,"create");var Ww=Object.prototype.hasOwnProperty;var Gw=Object.prototype.hasOwnProperty;function Hw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xw(t,e){for(var n=t.length;n--;)if(sw(t[n][0],e))return n;return-1}Hw.prototype.clear=function(){this.__data__=zw?zw(null):{},this.size=0},Hw.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hw.prototype.get=function(t){var e=this.__data__;if(zw){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ww.call(e,t)?e[t]:void 0},Hw.prototype.has=function(t){var e=this.__data__;return zw?void 0!==e[t]:Gw.call(e,t)},Hw.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zw&&void 0===e?"__lodash_hash_undefined__":e,this};var Yw=Array.prototype.splice;function Qw(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qw.prototype.clear=function(){this.__data__=[],this.size=0},Qw.prototype.delete=function(t){var e=this.__data__,n=Xw(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yw.call(e,n,1),--this.size,!0)},Qw.prototype.get=function(t){var e=this.__data__,n=Xw(e,t);return n<0?void 0:e[n][1]},Qw.prototype.has=function(t){return Xw(this.__data__,t)>-1},Qw.prototype.set=function(t,e){var n=this.__data__,r=Xw(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Jw=zb(pb,"Map");function Zw(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function tI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tI.prototype.clear=function(){this.size=0,this.__data__={hash:new Hw,map:new(Jw||Qw),string:new Hw}},tI.prototype.delete=function(t){var e=Zw(this,t).delete(t);return this.size-=e?1:0,e},tI.prototype.get=function(t){return Zw(this,t).get(t)},tI.prototype.has=function(t){return Zw(this,t).has(t)},tI.prototype.set=function(t,e){var n=Zw(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function eI(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(eI.Cache||tI),n}eI.Cache=tI;var nI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rI=/\\(\\)?/g,iI=function(t){var e=eI(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nI,(function(t,n,r,i){e.push(r?i.replace(rI,"$1"):n||t)})),e}));function oI(t,e){return kb(t)?t:Kw(t,e)?[t]:iI(function(t){return null==t?"":Db(t)}(t))}function aI(t){if("string"==typeof t||_b(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function sI(t,e){for(var n=0,r=(e=oI(e,t)).length;null!=t&&n<r;)t=t[aI(e[n++])];return n&&n==r?t:void 0}function uI(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var cI=vb?vb.isConcatSpreadable:void 0;function hI(t){return kb(t)||ww(t)||!!(cI&&t&&t[cI])}function lI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=hI),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?lI(s,e-1,n,r,i):uI(i,s):r||(i[i.length]=s)}return i}function fI(t){return(null==t?0:t.length)?lI(t,1):[]}var dI=Lw(Object.getPrototypeOf,Object),pI=Function.prototype,vI=Object.prototype,yI=pI.toString,gI=vI.hasOwnProperty,mI=yI.call(Object);function bI(t){var e=this.__data__=new Qw(t);this.size=e.size}bI.prototype.clear=function(){this.__data__=new Qw,this.size=0},bI.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bI.prototype.get=function(t){return this.__data__.get(t)},bI.prototype.has=function(t){return this.__data__.has(t)},bI.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Qw){var r=n.__data__;if(!Jw||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tI(r)}return n.set(t,e),this.size=n.size,this};var wI="object"==typeof exports&&exports&&!exports.nodeType&&exports,II=wI&&"object"==typeof module&&module&&!module.nodeType&&module,EI=II&&II.exports===wI?pb.Buffer:void 0,TI=EI?EI.allocUnsafe:void 0;function _I(){return[]}var SI=Object.prototype.propertyIsEnumerable,kI=Object.getOwnPropertySymbols,AI=kI?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(kI(t),(function(e){return SI.call(t,e)})))}:_I;var NI=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)uI(e,AI(t)),t=dI(t);return e}:_I;function DI(t,e,n){var r=e(t);return kb(t)?r:uI(r,n(t))}function xI(t){return DI(t,Fw,AI)}function OI(t){return DI(t,qw,NI)}var CI=zb(pb,"DataView"),PI=zb(pb,"Promise"),RI=zb(pb,"Set"),LI=jb(CI),MI=jb(Jw),jI=jb(PI),FI=jb(RI),VI=jb(Wb),UI=Eb;(CI&&"[object DataView]"!=UI(new CI(new ArrayBuffer(1)))||Jw&&"[object Map]"!=UI(new Jw)||PI&&"[object Promise]"!=UI(PI.resolve())||RI&&"[object Set]"!=UI(new RI)||Wb&&"[object WeakMap]"!=UI(new Wb))&&(UI=function(t){var e=Eb(t),n="[object Object]"==e?t.constructor:void 0,r=n?jb(n):"";if(r)switch(r){case LI:return"[object DataView]";case MI:return"[object Map]";case jI:return"[object Promise]";case FI:return"[object Set]";case VI:return"[object WeakMap]"}return e});var qI=UI,BI=Object.prototype.hasOwnProperty;var $I=pb.Uint8Array;function KI(t){var e=new t.constructor(t.byteLength);return new $I(e).set(new $I(t)),e}var zI=/\w*$/;var WI=vb?vb.prototype:void 0,GI=WI?WI.valueOf:void 0;function HI(t,e,n){var r,i,o,a=t.constructor;switch(e){case"[object ArrayBuffer]":return KI(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var n=e?KI(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?KI(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,zI.exec(i))).lastIndex=i.lastIndex,o;case"[object Set]":return new a;case"[object Symbol]":return r=t,GI?Object(GI.call(r)):{}}}var XI=xw&&xw.isMap,YI=XI?kw(XI):function(t){return Tb(t)&&"[object Map]"==qI(t)};var QI=xw&&xw.isSet,JI=QI?kw(QI):function(t){return Tb(t)&&"[object Set]"==qI(t)},ZI={};function tE(t,e,n,r,i,o){var a,s=1&e,u=2&e,c=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!xb(t))return t;var h=kb(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&BI.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,a)}else{var l=qI(t),f="[object Function]"==l||"[object GeneratorFunction]"==l;if(_w(t))return function(t,e){if(e)return t.slice();var n=t.length,r=TI?TI(n):new t.constructor(n);return t.copy(r),r}(t,s);if("[object Object]"==l||"[object Arguments]"==l||f&&!i){if(a=u||f?{}:function(t){return"function"!=typeof t.constructor||vw(t)?{}:Hb(dI(t))}(t),!s)return u?function(t,e){return hw(t,NI(t),e)}(t,function(t,e){return t&&hw(e,qw(e),t)}(a,t)):function(t,e){return hw(t,AI(t),e)}(t,function(t,e){return t&&hw(e,Fw(e),t)}(a,t))}else{if(!ZI[l])return i?t:{};a=HI(t,l,s)}}o||(o=new bI);var d=o.get(t);if(d)return d;o.set(t,a),JI(t)?t.forEach((function(r){a.add(tE(r,e,n,r,t,o))})):YI(t)&&t.forEach((function(r,i){a.set(i,tE(r,e,n,i,t,o))}));var p=h?void 0:(c?u?OI:xI:u?qw:Fw)(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(p||t,(function(r,i){p&&(r=t[i=r]),cw(a,i,tE(r,e,n,i,t,o))})),a}ZI["[object Arguments]"]=ZI["[object Array]"]=ZI["[object ArrayBuffer]"]=ZI["[object DataView]"]=ZI["[object Boolean]"]=ZI["[object Date]"]=ZI["[object Float32Array]"]=ZI["[object Float64Array]"]=ZI["[object Int8Array]"]=ZI["[object Int16Array]"]=ZI["[object Int32Array]"]=ZI["[object Map]"]=ZI["[object Number]"]=ZI["[object Object]"]=ZI["[object RegExp]"]=ZI["[object Set]"]=ZI["[object String]"]=ZI["[object Symbol]"]=ZI["[object Uint8Array]"]=ZI["[object Uint8ClampedArray]"]=ZI["[object Uint16Array]"]=ZI["[object Uint32Array]"]=!0,ZI["[object Error]"]=ZI["[object Function]"]=ZI["[object WeakMap]"]=!1;function eE(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new tI;++e<n;)this.add(t[e])}function nE(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function rE(t,e){return t.has(e)}eE.prototype.add=eE.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},eE.prototype.has=function(t){return this.__data__.has(t)};function iE(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var l=-1,f=!0,d=2&n?new eE:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],v=e[l];if(r)var y=a?r(v,p,l,e,t,o):r(p,v,l,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!nE(e,(function(t,e){if(!rE(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function oE(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function aE(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var sE=vb?vb.prototype:void 0,uE=sE?sE.valueOf:void 0;var cE=Object.prototype.hasOwnProperty;var hE="[object Object]",lE=Object.prototype.hasOwnProperty;function fE(t,e,n,r,i,o){var a=kb(t),s=kb(e),u=a?"[object Array]":qI(t),c=s?"[object Array]":qI(e),h=(u="[object Arguments]"==u?hE:u)==hE,l=(c="[object Arguments]"==c?hE:c)==hE,f=u==c;if(f&&_w(t)){if(!_w(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new bI),a||Cw(t)?iE(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new $I(t),new $I(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sw(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=oE;case"[object Set]":var u=1&r;if(s||(s=aE),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var h=iE(s(t),s(e),r,i,o,a);return a.delete(t),h;case"[object Symbol]":if(uE)return uE.call(t)==uE.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var d=h&&lE.call(t,"__wrapped__"),p=l&&lE.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new bI),i(v,y,n,r,o)}}return!!f&&(o||(o=new bI),function(t,e,n,r,i,o){var a=1&n,s=xI(t),u=s.length;if(u!=xI(e).length&&!a)return!1;for(var c=u;c--;){var h=s[c];if(!(a?h in e:cE.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){var v=t[h=s[c]],y=e[h];if(r)var g=a?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(void 0===g?v===y||i(v,y,n,r,o):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}function dE(t,e,n,r,i){return t===e||(null==t||null==e||!Tb(t)&&!Tb(e)?t!=t&&e!=e:fE(t,e,n,r,dE,i))}function pE(t){return t==t&&!xb(t)}function vE(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function yE(t){var e=function(t){for(var e=Fw(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,pE(i)]}return e}(t);return 1==e.length&&e[0][2]?vE(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],h=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var l=new bI;if(r)var f=r(c,h,u,t,e,l);if(!(void 0===f?dE(h,c,3,r,l):f))return!1}}return!0}(n,t,e)}}function gE(t,e){return null!=t&&e in Object(t)}function mE(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=oI(e,t)).length,o=!1;++r<i;){var a=aI(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&fw(i)&&ow(a,i)&&(kb(t)||ww(t))}(t,e,gE)}function bE(t,e){return Kw(t)&&pE(e)?vE(aI(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:sI(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?mE(n,t):dE(e,r,3)}}function wE(t){return Kw(t)?(e=aI(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return sI(e,t)}}(t);var e}function IE(t){return"function"==typeof t?t:null==t?Ob:"object"==typeof t?kb(t)?bE(t[0],t[1]):yE(t):wE(t)}var EE,TE=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[EE?a:++r];if(!1===e(i[s],s,i))break}return t};var _E=function(t,e){return function(n,r){if(null==n)return n;if(!dw(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(t,e){return t&&TE(t,e,Fw)}));function SE(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function kE(t,e){return e.length<2?t:sI(t,function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(e,0,-1))}function AE(t,e){return null==(t=kE(t,e=oI(e,t)))||delete t[aI((n=e,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r}function NE(t){return function(t){if(!Tb(t)||"[object Object]"!=Eb(t))return!1;var e=dI(t);if(null===e)return!0;var n=gI.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yI.call(n)==mI}(t)?void 0:t}var DE=function(t){return ew(function(t,e,n){return e=lw(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=lw(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Xb(t,this,s)}}(t,void 0,fI),t+"")}((function(t,e){var n={};if(null==t)return n;var r=!1;e=Sb(e,(function(e){return e=oI(e,t),r||(r=e.length>1),e})),hw(t,OI(t),n),r&&(n=tE(n,7,NE));for(var i=e.length;i--;)AE(n,e[i]);return n}));function xE(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=_b(t),a=void 0!==e,s=null===e,u=e==e,c=_b(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function OE(t,e,n){e=e.length?Sb(e,(function(t){return kb(t)?function(e){return sI(e,1===t.length?t[0]:t)}:t})):[Ob];var r=-1;return e=Sb(e,kw(IE)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,r=dw(t)?Array(t.length):[];return _E(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}(t,(function(t,n,i){return{criteria:Sb(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=xE(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function CE(t,e,n,r){return null==t?[]:(kb(e)||(e=null==e?[]:[e]),kb(n=r?void 0:n)||(n=null==n?[]:[n]),OE(t,e,n))}var PE=RI&&1/aE(new RI([,-0]))[1]==1/0?function(t){return new RI(t)}:function(){};function RE(t,e){return t&&t.length?function(t,e,n){var r=-1,i=rw,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=SE;else if(o>=200){var c=e?null:PE(t);if(c)return aE(c);a=!1,i=rE,u=new eE}else u=e?[]:s;t:for(;++r<o;){var h=t[r],l=e?e(h):h;if(h=n||0!==h?h:0,a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue t;e&&u.push(l),s.push(h)}else i(u,l,n)||(u!==s&&u.push(l),s.push(h))}return s}(t,IE(e)):[]}function LE(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function ME(t){const e=t-1;return e*e*e+1}function jE(t,{delay:e=0,duration:n=400,easing:r=s}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function FE(t,{delay:e=0,duration:n=400,easing:r=ME,start:i=0,opacity:o=0}={}){const a=getComputedStyle(t),s=+a.opacity,u="none"===a.transform?"":a.transform,c=1-i,h=s*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} scale(${1-c*e});\n\t\t\topacity: ${s-h*e}\n\t\t`}}function VE(t,{delay:e=0,speed:n,duration:r,easing:i=LE}={}){const o=t.getTotalLength();return void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function UE(t){let e,n,r,i;return{c(){e=M("svg"),n=M("line"),r=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(n).forEach(P),r=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"x1","18"),q(n,"y1","6"),q(n,"x2","6"),q(n,"y2","18"),q(r,"x1","6"),q(r,"y1","6"),q(r,"x2","18"),q(r,"y2","18"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-x "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-x "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function qE(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class BE extends Ht{constructor(t){super(),Gt(this,t,qE,UE,d,{size:0,strokeWidth:1,class:2})}}function $E(t){let e,n,r,i;return{c(){e=M("svg"),n=M("path"),r=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"path",{d:!0},1),K(n).forEach(P),r=z(i,"path",{d:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),q(r,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-book-open "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-book-open "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function KE(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class zE extends Ht{constructor(t){super(),Gt(this,t,KE,$E,d,{size:0,strokeWidth:1,class:2})}}function WE(t){let e,n,r,i,o,s;return{c(){e=M("svg"),n=M("rect"),r=M("line"),i=M("line"),o=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var a=K(e);n=z(a,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0},1),K(n).forEach(P),r=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(i).forEach(P),o=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(o).forEach(P),a.forEach(P),this.h()},h(){q(n,"x","3"),q(n,"y","4"),q(n,"width","18"),q(n,"height","18"),q(n,"rx","2"),q(n,"ry","2"),q(r,"x1","16"),q(r,"y1","2"),q(r,"x2","16"),q(r,"y2","6"),q(i,"x1","8"),q(i,"y1","2"),q(i,"x2","8"),q(i,"y2","6"),q(o,"x1","3"),q(o,"y1","10"),q(o,"x2","21"),q(o,"y2","10"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",s="feather feather-calendar "+t[2])},m(t,a){C(t,e,a),O(e,n),O(e,r),O(e,i),O(e,o)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&s!==(s="feather feather-calendar "+t[2])&&q(e,"class",s)},i:a,o:a,d(t){t&&P(e)}}}function GE(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class HE extends Ht{constructor(t){super(),Gt(this,t,GE,WE,d,{size:0,strokeWidth:1,class:2})}}function XE(t){let e,n,r,i,o,s,u,c;return{c(){e=M("svg"),n=M("line"),r=M("line"),i=M("line"),o=M("line"),s=M("line"),u=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var a=K(e);n=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(n).forEach(P),r=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(i).forEach(P),o=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(o).forEach(P),s=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(s).forEach(P),u=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(u).forEach(P),a.forEach(P),this.h()},h(){q(n,"x1","8"),q(n,"y1","6"),q(n,"x2","21"),q(n,"y2","6"),q(r,"x1","8"),q(r,"y1","12"),q(r,"x2","21"),q(r,"y2","12"),q(i,"x1","8"),q(i,"y1","18"),q(i,"x2","21"),q(i,"y2","18"),q(o,"x1","3"),q(o,"y1","6"),q(o,"x2","3.01"),q(o,"y2","6"),q(s,"x1","3"),q(s,"y1","12"),q(s,"x2","3.01"),q(s,"y2","12"),q(u,"x1","3"),q(u,"y1","18"),q(u,"x2","3.01"),q(u,"y2","18"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",c="feather feather-list "+t[2])},m(t,a){C(t,e,a),O(e,n),O(e,r),O(e,i),O(e,o),O(e,s),O(e,u)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&c!==(c="feather feather-list "+t[2])&&q(e,"class",c)},i:a,o:a,d(t){t&&P(e)}}}function YE(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class QE extends Ht{constructor(t){super(),Gt(this,t,YE,XE,d,{size:0,strokeWidth:1,class:2})}}function JE(t){let e,n,r,i;return{c(){e=M("svg"),n=M("circle"),r=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"circle",{cx:!0,cy:!0,r:!0},1),K(n).forEach(P),r=z(i,"path",{d:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"cx","12"),q(n,"cy","12"),q(n,"r","3"),q(r,"d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-settings "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-settings "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function ZE(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class tT extends Ht{constructor(t){super(),Gt(this,t,ZE,JE,d,{size:0,strokeWidth:1,class:2})}}function eT(t){let e,n,r,i,o;return{c(){e=M("svg"),n=M("circle"),r=M("circle"),i=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var o=K(e);n=z(o,"circle",{cx:!0,cy:!0,r:!0},1),K(n).forEach(P),r=z(o,"circle",{cx:!0,cy:!0,r:!0},1),K(r).forEach(P),i=z(o,"path",{d:!0},1),K(i).forEach(P),o.forEach(P),this.h()},h(){q(n,"cx","9"),q(n,"cy","21"),q(n,"r","1"),q(r,"cx","20"),q(r,"cy","21"),q(r,"r","1"),q(i,"d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",o="feather feather-shopping-cart "+t[2])},m(t,o){C(t,e,o),O(e,n),O(e,r),O(e,i)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&o!==(o="feather feather-shopping-cart "+t[2])&&q(e,"class",o)},i:a,o:a,d(t){t&&P(e)}}}function nT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class rT extends Ht{constructor(t){super(),Gt(this,t,nT,eT,d,{size:0,strokeWidth:1,class:2})}}function iT(t){let e,n,r,i,o,s;return{c(){e=M("svg"),n=M("path"),r=M("circle"),i=M("path"),o=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var a=K(e);n=z(a,"path",{d:!0},1),K(n).forEach(P),r=z(a,"circle",{cx:!0,cy:!0,r:!0},1),K(r).forEach(P),i=z(a,"path",{d:!0},1),K(i).forEach(P),o=z(a,"path",{d:!0},1),K(o).forEach(P),a.forEach(P),this.h()},h(){q(n,"d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"),q(r,"cx","9"),q(r,"cy","7"),q(r,"r","4"),q(i,"d","M23 21v-2a4 4 0 0 0-3-3.87"),q(o,"d","M16 3.13a4 4 0 0 1 0 7.75"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",s="feather feather-users "+t[2])},m(t,a){C(t,e,a),O(e,n),O(e,r),O(e,i),O(e,o)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&s!==(s="feather feather-users "+t[2])&&q(e,"class",s)},i:a,o:a,d(t){t&&P(e)}}}function oT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class aT extends Ht{constructor(t){super(),Gt(this,t,oT,iT,d,{size:0,strokeWidth:1,class:2})}}function sT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("path"),r=M("circle"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"path",{d:!0},1),K(n).forEach(P),r=z(i,"circle",{cx:!0,cy:!0,r:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),q(r,"cx","12"),q(r,"cy","7"),q(r,"r","4"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-user "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-user "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function uT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class cT extends Ht{constructor(t){super(),Gt(this,t,uT,sT,d,{size:0,strokeWidth:1,class:2})}}function hT(t){let e,n,r;return{c(){e=M("svg"),n=M("polyline"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var r=K(e);n=z(r,"polyline",{points:!0},1),K(n).forEach(P),r.forEach(P),this.h()},h(){q(n,"points","15 18 9 12 15 6"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",r="feather feather-chevron-left "+t[2])},m(t,r){C(t,e,r),O(e,n)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&r!==(r="feather feather-chevron-left "+t[2])&&q(e,"class",r)},i:a,o:a,d(t){t&&P(e)}}}function lT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class fT extends Ht{constructor(t){super(),Gt(this,t,lT,hT,d,{size:0,strokeWidth:1,class:2})}}function dT(t){let e,n,r;return{c(){e=M("svg"),n=M("polyline"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var r=K(e);n=z(r,"polyline",{points:!0},1),K(n).forEach(P),r.forEach(P),this.h()},h(){q(n,"points","9 18 15 12 9 6"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",r="feather feather-chevron-right "+t[2])},m(t,r){C(t,e,r),O(e,n)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&r!==(r="feather feather-chevron-right "+t[2])&&q(e,"class",r)},i:a,o:a,d(t){t&&P(e)}}}function pT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class vT extends Ht{constructor(t){super(),Gt(this,t,pT,dT,d,{size:0,strokeWidth:1,class:2})}}function yT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("line"),r=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(n).forEach(P),r=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"x1","12"),q(n,"y1","5"),q(n,"x2","12"),q(n,"y2","19"),q(r,"x1","5"),q(r,"y1","12"),q(r,"x2","19"),q(r,"y2","12"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-plus "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-plus "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function gT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class mT extends Ht{constructor(t){super(),Gt(this,t,gT,yT,d,{size:0,strokeWidth:1,class:2})}}function bT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("polyline"),r=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"polyline",{points:!0},1),K(n).forEach(P),r=z(i,"path",{d:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"points","3 6 5 6 21 6"),q(r,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-trash "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-trash "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function wT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class IT extends Ht{constructor(t){super(),Gt(this,t,wT,bT,d,{size:0,strokeWidth:1,class:2})}}function ET(t){let e,n,r,i;return{c(){e=M("svg"),n=M("circle"),r=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"circle",{cx:!0,cy:!0,r:!0},1),K(n).forEach(P),r=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"cx","12"),q(n,"cy","12"),q(n,"r","10"),q(r,"x1","8"),q(r,"y1","12"),q(r,"x2","16"),q(r,"y2","12"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-minus-circle "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-minus-circle "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function TT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class _T extends Ht{constructor(t){super(),Gt(this,t,TT,ET,d,{size:0,strokeWidth:1,class:2})}}function ST(t){let e,n,r,i,o,s,u,c,h,l,f;return{c(){e=M("svg"),n=M("line"),r=M("line"),i=M("line"),o=M("line"),s=M("line"),u=M("line"),c=M("line"),h=M("line"),l=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var a=K(e);n=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(n).forEach(P),r=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(i).forEach(P),o=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(o).forEach(P),s=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(s).forEach(P),u=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(u).forEach(P),c=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(c).forEach(P),h=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(h).forEach(P),l=z(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(l).forEach(P),a.forEach(P),this.h()},h(){q(n,"x1","4"),q(n,"y1","21"),q(n,"x2","4"),q(n,"y2","14"),q(r,"x1","4"),q(r,"y1","10"),q(r,"x2","4"),q(r,"y2","3"),q(i,"x1","12"),q(i,"y1","21"),q(i,"x2","12"),q(i,"y2","12"),q(o,"x1","12"),q(o,"y1","8"),q(o,"x2","12"),q(o,"y2","3"),q(s,"x1","20"),q(s,"y1","21"),q(s,"x2","20"),q(s,"y2","16"),q(u,"x1","20"),q(u,"y1","12"),q(u,"x2","20"),q(u,"y2","3"),q(c,"x1","1"),q(c,"y1","14"),q(c,"x2","7"),q(c,"y2","14"),q(h,"x1","9"),q(h,"y1","8"),q(h,"x2","15"),q(h,"y2","8"),q(l,"x1","17"),q(l,"y1","16"),q(l,"x2","23"),q(l,"y2","16"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",f="feather feather-sliders "+t[2])},m(t,a){C(t,e,a),O(e,n),O(e,r),O(e,i),O(e,o),O(e,s),O(e,u),O(e,c),O(e,h),O(e,l)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&f!==(f="feather feather-sliders "+t[2])&&q(e,"class",f)},i:a,o:a,d(t){t&&P(e)}}}function kT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class AT extends Ht{constructor(t){super(),Gt(this,t,kT,ST,d,{size:0,strokeWidth:1,class:2})}}function NT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("circle"),r=M("line"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"circle",{cx:!0,cy:!0,r:!0},1),K(n).forEach(P),r=z(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"cx","11"),q(n,"cy","11"),q(n,"r","8"),q(r,"x1","21"),q(r,"y1","21"),q(r,"x2","16.65"),q(r,"y2","16.65"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-search "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-search "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function DT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class xT extends Ht{constructor(t){super(),Gt(this,t,DT,NT,d,{size:0,strokeWidth:1,class:2})}}function OT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("path"),r=M("path"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"path",{d:!0},1),K(n).forEach(P),r=z(i,"path",{d:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),q(r,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-edit "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-edit "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function CT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class PT extends Ht{constructor(t){super(),Gt(this,t,CT,OT,d,{size:0,strokeWidth:1,class:2})}}function RT(t){let e,n,r,i;return{c(){e=M("svg"),n=M("path"),r=M("polyline"),this.h()},l(t){e=z(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var i=K(e);n=z(i,"path",{d:!0},1),K(n).forEach(P),r=z(i,"polyline",{points:!0},1),K(r).forEach(P),i.forEach(P),this.h()},h(){q(n,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),q(r,"points","22 4 12 14.01 9 11.01"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width",t[0]),q(e,"height",t[0]),q(e,"fill","none"),q(e,"viewBox","0 0 24 24"),q(e,"stroke","currentColor"),q(e,"stroke-width",t[1]),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class",i="feather feather-check-circle "+t[2])},m(t,i){C(t,e,i),O(e,n),O(e,r)},p(t,[n]){1&n&&q(e,"width",t[0]),1&n&&q(e,"height",t[0]),2&n&&q(e,"stroke-width",t[1]),4&n&&i!==(i="feather feather-check-circle "+t[2])&&q(e,"class",i)},i:a,o:a,d(t){t&&P(e)}}}function LT(t,e,n){let{size:r="100%"}=e,{strokeWidth:i=2}=e,{class:o=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,i=t.strokeWidth),"class"in t&&n(2,o=t.class)},[r,i,o]}class MT extends Ht{constructor(t){super(),Gt(this,t,LT,RT,d,{size:0,strokeWidth:1,class:2})}}export{zE as $,Kt as A,O as B,zt as C,f as D,Wt as E,wt as F,Mt as G,V as H,Ot as I,Ct as J,jE as K,pt as L,Bt as M,It as N,y as O,j as P,W as Q,H as R,Ht as S,Y as T,_ as U,l as V,vn as W,BE as X,HE as Y,a as Z,rT as _,gn as a,QE as a0,tT as a1,aT as a2,cT as a3,M as a4,$ as a5,E as a6,IT as a7,FE as a8,jt as a9,R as aa,p as ab,_T as ac,u as ad,w as ae,Vt as af,Ft as ag,ne as ah,vT as ai,fT as aj,mT as ak,AT as al,xT as am,X as an,Q as ao,J as ap,CE as aq,PT as ar,T as as,VE as at,MT as au,Ye as av,ut as aw,fn as ax,DE as b,g as c,ie as d,L as e,br as f,v as g,z as h,Gt as i,K as j,P as k,q as l,C as m,U as n,ct as o,b as p,Pt as q,Rt as r,d as s,Z as t,RE as u,ft as v,re as w,F as x,$t as y,G as z};
